'use strict';
(function(w, d) {
    
  function importScript(src) {
      var script = d.createElement('script');
      script.src = src;
      var node = d.getElementsByTagName('script')[0];
      if (node && node.parentNode) {
          node.parentNode.insertBefore(script, node);
      } else {
          document.body.appendChild(script);
      }
  }

    w.adthrive = w.adthrive || {};
    w.adthrive.cmd = w.adthrive.cmd || [];
    w.adthrive.host = "ads.adthrive.com";
    w.adthrive.threshold = 0;
    w.adthrive.deployment = "2022-12-21-5-1:adm-478:pr2919:4121f00";
    w.adthrive.branch = "4121f00";
    w.adthrive.bucket = "flex-54";
    w.adthrive.siteAds = {"siteId":"57e44aa2830a71a645632e09","siteName":"Homeschool On","targeting":[{"value":"57e44aa2830a71a645632e09","key":"siteId"},{"value":"Homeschool On","key":"siteName"},{"value":"AdThrive Edge","key":"service"},{"value":"on","key":"bidding"},{"value":"v1","key":"dynamicVersion"},{"value":["Family and Parenting"],"key":"verticals"}],"breakpoints":{"tablet":768,"desktop":1024},"version":"v1","adUnits":[{"targeting":[{"value":["Sidebar"],"key":"location"}],"devices":["desktop"],"name":"Sidebar","sticky":false,"location":"Sidebar","dynamic":{"pageSelector":null,"min":0,"spacing":0,"max":1,"lazy":false,"elementSelector":".sidebar > .widget","skip":3,"classNames":[],"position":"afterend","every":3,"enabled":true},"adSizes":[[300,250],[250,250],[300,600],[120,240],[160,600],[300,1050],[336,280],[320,50],[320,100],[1,1],[300,420],[300,50]],"priority":299,"autosize":true},{"sequence":9,"targeting":[{"value":["Sidebar"],"key":"location"},{"value":true,"key":"sticky"}],"devices":["desktop"],"name":"Sidebar_9","sticky":true,"location":"Sidebar","dynamic":{"pageSelector":null,"min":0,"spacing":0,"max":1,"lazy":false,"elementSelector":".sidebar","skip":0,"classNames":[],"position":"beforeend","every":0,"enabled":true},"stickyOverlapSelector":".widget-below-content, .footer-widgets","adSizes":[[300,250],[250,250],[300,600],[120,240],[160,600],[300,1050],[336,280],[320,50],[320,100],[1,1],[300,420],[300,50]],"priority":291,"autosize":true},{"targeting":[{"value":["Content"],"key":"location"}],"devices":["desktop"],"name":"Content","sticky":false,"location":"Content","dynamic":{"pageSelector":"body.single","min":0,"spacing":1.5,"max":2,"lazy":false,"elementSelector":".entry-content p","skip":0,"classNames":[],"position":"afterend","every":1,"enabled":true},"adSizes":[[120,240],[250,250],[300,250],[320,50],[320,100],[336,280],[468,60],[728,90],[970,90],[1,1],[300,300],[552,334],[300,50],[728,250],[970,250],[1,2]],"priority":199,"autosize":true},{"targeting":[{"value":["Content"],"key":"location"}],"devices":["phone","tablet"],"name":"Content","sticky":false,"location":"Content","dynamic":{"pageSelector":"body.blog, body.search, body.archive, body.home","min":0,"spacing":1.5,"max":2,"lazy":false,"elementSelector":"article.post","skip":0,"classNames":[],"position":"afterend","every":3,"enabled":true},"adSizes":[[120,240],[250,250],[300,250],[320,50],[320,100],[336,280],[468,60],[728,90],[970,90],[1,1],[300,300],[552,334],[300,50],[728,250],[970,250],[1,2]],"priority":199,"autosize":true},{"targeting":[{"value":["Content"],"key":"location"}],"devices":["tablet"],"name":"Content","sticky":false,"location":"Content","dynamic":{"pageSelector":"body.single","min":0,"spacing":1.5,"max":3,"lazy":false,"elementSelector":".entry-content p","skip":0,"classNames":[],"position":"afterend","every":1,"enabled":true},"adSizes":[[120,240],[250,250],[300,250],[320,50],[320,100],[336,280],[468,60],[728,90],[970,90],[1,1],[300,300],[552,334],[300,50],[728,250],[970,250],[1,2]],"priority":199,"autosize":true},{"targeting":[{"value":["Content"],"key":"location"}],"devices":["phone"],"name":"Content","sticky":false,"location":"Content","dynamic":{"pageSelector":"body.single","min":0,"spacing":1.7,"max":3,"lazy":false,"elementSelector":".entry-content p","skip":0,"classNames":[],"position":"afterend","every":1,"enabled":true},"adSizes":[[120,240],[250,250],[300,250],[320,50],[320,100],[336,280],[468,60],[728,90],[970,90],[1,1],[300,300],[552,334],[300,50],[728,250],[970,250],[1,2]],"priority":199,"autosize":true},{"targeting":[{"value":["Footer"],"key":"location"},{"value":true,"key":"sticky"}],"devices":["phone","tablet","desktop"],"name":"Footer","sticky":true,"location":"Footer","dynamic":{"pageSelector":null,"min":0,"spacing":0,"max":1,"lazy":false,"elementSelector":"body","skip":0,"classNames":[],"position":"beforeend","every":1,"enabled":true},"adSizes":[[320,50],[320,100],[728,90],[970,90],[468,60],[1,1],[300,50]],"priority":-1,"autosize":true}],"adDensityLayout":{"mobile":{"adDensity":0.2,"onePerViewport":true},"pageOverrides":[{"mobile":{"adDensity":0.2,"onePerViewport":true},"pageSelector":"body.blog, body.search, body.archive, body.home","desktop":{"adDensity":0.2,"onePerViewport":false}}],"desktop":{"adDensity":0.2,"onePerViewport":true}},"adDensityEnabled":false,"siteExperiments":[],"adTypes":{"nativeMobileRecipe":true,"expandableFooter":true,"nativeDesktopSidebar":true,"nativeDesktopContent":true,"outstreamDesktop":true,"interscroller":true,"miniscroller":true,"nativeDesktopRecipe":true,"outstreamMobile":true,"animatedFooter":true,"nativeMobileContent":true},"adOptions":{"theTradeDesk":true,"verizon":true,"undertone":true,"concert":false,"footerCloseButton":true,"teads":true,"redPandaOutstream":false,"pmp":true,"districtM":true,"thirtyThreeAcross":true,"sharethrough":true,"removeVideoTitleWrapper":false,"pubMatic":true,"swoop":false,"roundel":true,"infiniteScroll":false,"yahoossp":true,"yieldbotId":"","sonobi":true,"yieldmo":true,"footerSelector":"","amazonUAM":true,"gamMCMEnabled":false,"gamMCMChildNetworkCode":"","stickyContainerAds":false,"rubiconMediaMath":true,"rubicon":true,"conversant":false,"deepIntent":true,"openx":true,"mobileHeaderHeight":1,"unruly":true,"mediaGrid":true,"bRealTime":true,"gumgum":true,"comscoreFooter":false,"desktopInterstitial":false,"footerCloseButtonDesktop":true,"isAutoOptimized":false,"comscoreTAL":true,"brightroll":true,"targetaff":false,"tripleLiftMobile":true,"advancePlaylistOptions":{"playlistPlayer":{"enabled":true},"relatedPlayer":{"applyToFirst":true,"enabled":true}},"kargo":true,"liveRampATS":true,"footerCloseButtonMobile":true,"allowSmallerAdSizes":true,"comscore":"FamilyParenting","mobileInterstitial":false,"tripleLift":true,"sensitiveCategories":["alc","drg","conl","gamv"],"liveRamp":true,"mobileInterstitialBlockedPageSelectors":"","adthriveEmailIdentity":true,"nativo":true,"criteo":true,"infiniteScrollOptions":{"selector":"","heightThreshold":0},"clsOptimizedAds":true,"colossus":true,"verticals":["Family and Parenting"],"inImage":false,"advancePlaylist":true,"delayLoading":false,"tripleLiftDesktop":false,"inImageZone":null,"appNexus":true,"liveRampId":"","infiniteScrollRefresh":false,"indexExchange":true},"videoPlayers":{"contextual":{"autoplayCollapsibleEnabled":false,"defaultPlayerType":"static","overrideEmbedLocation":false},"videoEmbed":"div","footerSelector":"","players":[{"devices":["desktop","mobile"],"description":"","id":4054358,"title":"Stationary related player - desktop and mobile","type":"stationaryRelated","enabled":true,"playerId":"k6s5Fa3h"},{"pageSelector":"","devices":["desktop"],"description":"","elementSelector":"","skip":0,"id":4054359,"position":"afterend","title":"Sticky related player - desktop","type":"stickyRelated","enabled":true,"playerId":"k6s5Fa3h"},{"pageSelector":"","devices":["mobile"],"mobileLocation":"top-right","description":"","elementSelector":"","skip":0,"id":4054360,"position":"afterend","title":"Sticky related player - mobile","type":"stickyRelated","enabled":true,"playerId":"k6s5Fa3h"},{"playlistId":"vQLJSs1t","pageSelector":"","devices":["desktop"],"description":"","skip":0,"title":"","type":"stickyPlaylist","enabled":false,"footerSelector":"","elementSelector":"","id":4054361,"position":"afterend","shuffle":true},{"playlistId":"vQLJSs1t","pageSelector":"","devices":["mobile"],"mobileLocation":"top-right","description":"","skip":0,"title":"","type":"stickyPlaylist","enabled":false,"footerSelector":"","elementSelector":"","id":4054362,"position":"afterend","shuffle":true},{"playlistId":"vQLJSs1t","pageSelector":"","devices":["desktop"],"description":"","elementSelector":"","skip":0,"id":4054363,"position":"afterend","title":"","type":"sekindo","enabled":false},{"playlistId":"vQLJSs1t","pageSelector":"","devices":["mobile"],"description":"","elementSelector":"","skip":0,"id":4054364,"position":"afterend","title":"","type":"sekindo","enabled":false}],"partners":{"roundel":true,"yahoossp":true,"oneVideo":false,"criteo":true,"mediaGrid":true,"gumgum":true,"telaria":true,"colossus":true,"districtM":false,"amazonUAM":true,"kargo":true,"thirtyThreeAcross":true,"stickyOutstream":{"mobile":{"enabled":false},"desktop":{"enabled":false},"blockedPageSelectors":"","allowForPageWithStickyPlayer":{"enabled":false}},"sharethrough":true,"rubicon":true,"appNexus":true,"conversant":false,"tripleLift":true,"openx":true,"pubMatic":true,"spotx":true,"indexExchange":true}}};
    w.adthrive.styleUrl = "https://ads.adthrive.com/sites/57e44aa2830a71a645632e09/ads.min.css";
    w.adthrive.baseUrl = "https://ads.adthrive.com/builds/core/4121f00";
    w.adthrive.deliveryFeatures = ["rubiconFloors","recencyFrequency","prebidLoad","gptLoad","amazonLoad"];
    w.adthrive.deliveryVersion = "1.15.0";
    w.adthrive.isIOS = /iP(hone|od|ad)/i.test(navigator.userAgent) ? true : false;
    w.adthrive.targetPath = '/es5';

    
    
    
      //CLS Insertion
      var cls_site_insertion=function(e){"use strict";var t=function(e){this.clsOptions=e,this.enabledLocations=["Below_Post","Content","Recipe","Sidebar"]},n=function(e,t){return null==e||e!=e?t:e},i=function(e){var t=e.offsetHeight,n=e.offsetWidth,i=e.getBoundingClientRect(),o=document.body,r=document.documentElement,a=window.pageYOffset||r.scrollTop||o.scrollTop,s=window.pageXOffset||r.scrollLeft||o.scrollLeft,l=r.clientTop||o.clientTop||0,c=r.clientLeft||o.clientLeft||0,d=Math.round(i.top+a-l),u=Math.round(i.left+s-c);return{top:d,left:u,bottom:d+t,right:u+n,width:n,height:t}},o=function(){var e=navigator.userAgent,t=/Tablet|iPad|Playbook|Nook|webOS|Kindle|Android (?!.*Mobile).*Safari/i.test(e);return/Mobi|iP(hone|od)|Opera Mini/i.test(e)&&!t},r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)};function l(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function p(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}var h,f,y,m,v,g,_,b,S,w,A=function(e,t,n){void 0===n&&(n=document);var i=function(e){void 0===e&&(e=document);var t=e.querySelectorAll("article");if(0===t.length)return null;var n=Array.from(t).reduce((function(e,t){return t.offsetHeight>e.offsetHeight?t:e}));return n&&n.offsetHeight>1.5*window.innerHeight?n:null}(n),o=i?[i]:[],r=[];e.forEach((function(e){var i,a=Array.from(n.querySelectorAll(e.elementSelector)).slice(0,e.skip);(i=e.elementSelector,i.includes(",")?i.split(","):[i]).forEach((function(i){for(var s=n.querySelectorAll(i),l=function(n){var i=s[n];if(t.map.some((function(e){return e.el.isEqualNode(i)})))return"continue";var l=i&&i.parentElement;l&&l!==document.body?o.push(l):o.push(i),-1===a.indexOf(i)&&r.push({dynamicAd:e,element:i})},c=0;c<s.length;c++)l(c)}))}));var a=function(e){return void 0===e&&(e=document),(e===document?document.body:e).getBoundingClientRect().top}(n),s=r.sort((function(e,t){return e.element.getBoundingClientRect().top-a-(t.element.getBoundingClientRect().top-a)}));return[o,s]},P=function(e){localStorage.removeItem("adthrive_".concat(e.toLowerCase()))},E=function(e,t){try{var n={value:t,created:Date.now()};localStorage.setItem("adthrive_".concat(e.toLowerCase()),JSON.stringify(n))}catch(e){}},C=function(e,t,n){void 0===n&&(n=!1);try{var i=localStorage.getItem("adthrive_".concat(e.toLowerCase()));if(i){var o=JSON.parse(i),r=void 0!==t&&Date.now()-o.created>=t;if(o&&!r)return n&&E(e,o.value),o.value}}catch(e){}return null},O=function(e){return null!=e&&!("number"==typeof e&&isNaN(e))},x=function(e,t,n,i,o){var r;void 0===i&&(i=!0);var a="abgroup",l=C(a,n,i);if(null!==l){var c=l[e];if(O(c))return c}var d=t(),u=s(s({},l),((r={})[e]=d,r));return E(a,u),o&&o(),d};!function(e){e.Prebid="prebid",e.GAM="gam",e.Amazon="amazon",e.WebVitals="webvitals",e.Marmalade="marmalade",e.Floors="floors",e.CMP="cmp"}(h||(h={})),function(e){e.fpvNonLazy="fpvNonLazy",e.lazy="lazy",e.refresh="refresh",e.session="session",e.crossDomain="crossdomain",e.highSequence="highsequence"}(f||(f={})),function(e){e.prebidLoad="prebidLoad",e.amazonLoad="amazonLoad",e.gptLoad="gptLoad"}(y||(y={})),function(e){e.Desktop="desktop",e.Mobile="mobile"}(m||(m={})),function(e){e.Video_Collapse_Autoplay_SoundOff="Video_Collapse_Autoplay_SoundOff",e.Video_Individual_Autoplay_SOff="Video_Individual_Autoplay_SOff",e.Video_Coll_SOff_Smartphone="Video_Coll_SOff_Smartphone",e.Video_In_Post_ClicktoPlay_SoundOn="Video_In-Post_ClicktoPlay_SoundOn"}(v||(v={})),function(e){e.None="none"}(g||(g={})),function(e){e.WEIGHTEDCHOICE="weightedChoice",e.BERNOULLITRIAL="bernoulliTrial"}(_||(_={})),function(e){e.INTEGER="integer",e.FLOAT="float",e.BOOLEAN="boolean",e.STRING="string"}(b||(b={})),function(e){e.DESKTOP="desktop",e.MOBILE="mobile",e.ALL="all"}(S||(S={})),function(e){e.AdDensity="addensity",e.FooterCloseButton="footerclose",e.Interstitial="interstitial",e.RemoveVideoTitleWrapper="removevideotitlewrapper",e.StickyOutstream="stickyoutstream",e.StickyOutstreamOnStickyPlayer="sospp",e.VideoAdvancePlaylistRelatedPlayer="videoadvanceplaylistrp",e.MobileStickyPlayerPosition="mspp"}(w||(w={}));var D=function(e,t,n){switch(t){case w.AdDensity:return function(e,t){var n=e.adDensityEnabled,i=e.adDensityLayout.pageOverrides.find((function(e){return!!document.querySelector(e.pageSelector)&&(e[t].onePerViewport||"number"==typeof e[t].adDensity)}));return!n||!i}(e,n);case w.StickyOutstream:return function(e){var t,n,i,o=null===(i=null===(n=null===(t=e.videoPlayers)||void 0===t?void 0:t.partners)||void 0===n?void 0:n.stickyOutstream)||void 0===i?void 0:i.blockedPageSelectors;return!o||!document.querySelector(o)}(e);case w.Interstitial:return function(e){var t=e.adOptions.interstitialBlockedPageSelectors||e.adOptions.mobileInterstitialBlockedPageSelectors;return!t||!document.querySelector(t)}(e);default:return!0}},I=function(){try{return Math.round(window.performance.now())}catch(e){return 0}},M=function(e){var t=window.location.href;return e.some((function(e){return new RegExp(e,"i").test(t)}))},j=function(e){try{return{valid:!0,elements:document.querySelectorAll(e)}}catch(e){return s({valid:!1},e)}},k=function(e){return""===e?{valid:!0}:j(e)},L=function(){function e(){}return e.prototype.info=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.call.apply(this,p([console.info,e,t],u(n),!1))},e.prototype.warn=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.call.apply(this,p([console.warn,e,t],u(n),!1))},e.prototype.error=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.call.apply(this,p([console.error,e,t],u(n),!1)),this.sendErrorLogToCommandQueue.apply(this,p([e,t],u(n),!1))},e.prototype.event=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.info(e,t)},e.prototype.sendErrorLogToCommandQueue=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];window.adthrive=window.adthrive||{},window.adthrive.cmd=window.adthrive.cmd||[],window.adthrive.cmd.push(function(){void 0!==window.adthrive.logError&&"function"==typeof window.adthrive.logError&&window.adthrive.logError(e,t,n)}.bind(e,t,n))},e.prototype.call=function(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var r=["%c".concat(t,"::").concat(n," ")],a=["color: #999; font-weight: bold;"];i.length>0&&"string"==typeof i[0]&&r.push(i.shift()),a.push.apply(a,p([],u(i),!1));try{Function.prototype.apply.call(e,console,p([r.join("")],u(a),!1))}catch(e){return void console.error(e)}},e}(),R=new L,T=function(e,t){if(!e)return!1;var n=!!e.enabled,i=null==e.dateStart||Date.now()>=e.dateStart,o=null==e.dateEnd||Date.now()<=e.dateEnd,r=null===e.selector||""!==e.selector&&!!document.querySelector(e.selector),a="mobile"===e.platform&&"mobile"===t,s="desktop"===e.platform&&"desktop"===t,l=null===e.platform||"all"===e.platform||a||s,c="bernoulliTrial"===e.experimentType?1===e.variants.length:function(e){var t=e.reduce((function(e,t){return t.weight?t.weight+e:e}),0);return e.length>0&&e.every((function(e){var t=e.value,n=e.weight;return!(null==t||"number"==typeof t&&isNaN(t)||!n)}))&&100===t}(e.variants);return c||R.error("ValidateSiteExperiment","util","experiment presented invalid choices for key:",e.key,e.variants),n&&i&&o&&r&&l&&c},V=["siteId","siteName","adOptions","breakpoints","adUnits"],G=function(){function e(){}return e.getScrollTop=function(){return(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)},e.shufflePlaylist=function(e){for(var t,n,i=e.length;0!==i;)n=Math.floor(Math.random()*e.length),t=e[i-=1],e[i]=e[n],e[n]=t;return e},e.isMobileLandscape=function(){return window.matchMedia("(orientation: landscape) and (max-height: 480px)").matches},e.playerViewable=function(e){var t=e.getBoundingClientRect();return this.isMobileLandscape()?window.innerHeight>t.top+t.height/2&&t.top+t.height/2>0:window.innerHeight>t.top+t.height/2},e.playerVisible=function(e){var t=e.getBoundingClientRect();return window.innerHeight>t.top},e.createQueryString=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")},e.createEncodedQueryString=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))})).join("&")},e.setMobileLocation=function(e){return"top-left"===(e=e||"bottom-right")?e="adthrive-collapse-top-left":"top-right"===e?e="adthrive-collapse-top-right":"bottom-left"===e?e="adthrive-collapse-bottom-left":"bottom-right"===e?e="adthrive-collapse-bottom-right":"top-center"===e&&(e=o()?"adthrive-collapse-top-center":"adthrive-collapse-bottom-right"),e},e}(),H=function(e){this._clsOptions=e,this.removeVideoTitleWrapper=n(this._clsOptions.siteAds.adOptions.removeVideoTitleWrapper,!1);var t=this._clsOptions.siteAds.videoPlayers;this.footerSelector=n(t&&t.footerSelector,""),this.players=n(t&&t.players.map((function(e){return e.mobileLocation=G.setMobileLocation(e.mobileLocation),e})),[]),this.contextualSettings=t&&t.contextual},N=function(e){this.mobileStickyPlayerOnPage=!1,this.playlistPlayerAdded=!1,this.contextualPlayerAdded=!1,this.footerSelector="",this.removeVideoTitleWrapper=!1,this.videoAdOptions=new H(e),this.players=this.videoAdOptions.players,this.contextualSettings=this.videoAdOptions.contextualSettings,this.removeVideoTitleWrapper=this.videoAdOptions.removeVideoTitleWrapper,this.footerSelector=this.videoAdOptions.footerSelector},F=function(){function e(e){this.adthrive=e,this.all=!1,this.content=!1,this.recipe=!1,this.video=!1,this.locations=new Set,this.reasons=new Set,(this.urlHasEmail(window.location.href)||this.urlHasEmail(window.document.referrer))&&(this.all=!0,this.reasons.add("all_email"));try{this.checkCommandQueue(),null!==document.querySelector(".tag-novideo")&&(this.video=!0,this.locations.add("Video"),this.reasons.add("video_tag"))}catch(e){R.error("ClsDisableAds","checkCommandQueue",e)}}return e.prototype.checkCommandQueue=function(){var e=this;this.adthrive&&this.adthrive.cmd&&this.adthrive.cmd.forEach((function(t){var n=t.toString(),i=e.extractAPICall(n,"disableAds");i&&e.disableAllAds(e.extractPatterns(i));var o=e.extractAPICall(n,"disableContentAds");o&&e.disableContentAds(e.extractPatterns(o));var r=e.extractAPICall(n,"disablePlaylistPlayers");r&&e.disablePlaylistPlayers(e.extractPatterns(r))}))},e.prototype.extractPatterns=function(e){var t=e.match(/["'](.*?)['"]/g);if(null!==t)return t.map((function(e){return e.replace(/["']/g,"")}))},e.prototype.extractAPICall=function(e,t){var n=new RegExp(t+"\\((.*?)\\)","g"),i=e.match(n);return null!==i&&i[0]},e.prototype.disableAllAds=function(e){e&&!M(e)||(this.all=!0,this.reasons.add("all_page"))},e.prototype.disableContentAds=function(e){e&&!M(e)||(this.content=!0,this.recipe=!0,this.locations.add("Content"),this.locations.add("Recipe"),this.reasons.add("content_plugin"))},e.prototype.disablePlaylistPlayers=function(e){e&&!M(e)||(this.video=!0,this.locations.add("Video"),this.reasons.add("video_page"))},e.prototype.urlHasEmail=function(e){if(!e)return!1;return null!==/([A-Z0-9._%+-]+(@|%(25)*40)[A-Z0-9.-]+\.[A-Z]{2,})/i.exec(e)},e}(),W=window.adthriveCLS;W&&(W.disableAds=new F(window.adthrive));var B=function(){},z=function(e){function t(t){var n=e.call(this)||this;return n._probability=t,n}return a(t,e),t.prototype.get=function(){if(this._probability<0||this._probability>1)throw new Error("Invalid probability");return Math.random()<this._probability},t}(B),q=function(){function e(){this._clsGlobalData=window.adthriveCLS}return Object.defineProperty(e.prototype,"enabled",{get:function(){return!!this._clsGlobalData&&!!this._clsGlobalData.siteAds&&function(e,t){if(void 0===t&&(t=V),!e)return!1;for(var n=0;n<t.length;n++)if(!e[t[n]])return!1;return!0}(this._clsGlobalData.siteAds)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return!(!this._clsGlobalData||!this._clsGlobalData.error)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"siteAds",{get:function(){return this._clsGlobalData.siteAds},set:function(e){this._clsGlobalData.siteAds=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disableAds",{get:function(){return this._clsGlobalData.disableAds},set:function(e){this._clsGlobalData.disableAds=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enabledLocations",{get:function(){return this._clsGlobalData.enabledLocations},set:function(e){this._clsGlobalData.enabledLocations=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"injectedFromPlugin",{get:function(){return this._clsGlobalData.injectedFromPlugin},set:function(e){this._clsGlobalData.injectedFromPlugin=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"injectedFromSiteAds",{get:function(){return this._clsGlobalData.injectedFromSiteAds},set:function(e){this._clsGlobalData.injectedFromSiteAds=e},enumerable:!1,configurable:!0}),e.prototype.overwriteInjectedSlots=function(e){this._clsGlobalData.injectedSlots=e},e.prototype.setInjectedSlots=function(e){this._clsGlobalData.injectedSlots=this._clsGlobalData.injectedSlots||[],this._clsGlobalData.injectedSlots.push(e)},Object.defineProperty(e.prototype,"injectedSlots",{get:function(){return this._clsGlobalData.injectedSlots},enumerable:!1,configurable:!0}),e.prototype.setInjectedVideoSlots=function(e){this._clsGlobalData.injectedVideoSlots=this._clsGlobalData.injectedVideoSlots||[],this._clsGlobalData.injectedVideoSlots.push(e)},Object.defineProperty(e.prototype,"injectedVideoSlots",{get:function(){return this._clsGlobalData.injectedVideoSlots},enumerable:!1,configurable:!0}),e.prototype.setInjectedScripts=function(e){this._clsGlobalData.injectedScripts=this._clsGlobalData.injectedScripts||[],this._clsGlobalData.injectedScripts.push(e)},Object.defineProperty(e.prototype,"getInjectedScripts",{get:function(){return this._clsGlobalData.injectedScripts},enumerable:!1,configurable:!0}),e.prototype.setExperiment=function(e,t,n){void 0===n&&(n=!1),this._clsGlobalData.experiments=this._clsGlobalData.experiments||{},this._clsGlobalData.siteExperiments=this._clsGlobalData.siteExperiments||{},(n?this._clsGlobalData.siteExperiments:this._clsGlobalData.experiments)[e]=t},e.prototype.getExperiment=function(e,t){void 0===t&&(t=!1);var n=t?this._clsGlobalData.siteExperiments:this._clsGlobalData.experiments;return n&&n[e]},e.prototype.setWeightedChoiceExperiment=function(e,t,n){void 0===n&&(n=!1),this._clsGlobalData.experimentsWeightedChoice=this._clsGlobalData.experimentsWeightedChoice||{},this._clsGlobalData.siteExperimentsWeightedChoice=this._clsGlobalData.siteExperimentsWeightedChoice||{},(n?this._clsGlobalData.siteExperimentsWeightedChoice:this._clsGlobalData.experimentsWeightedChoice)[e]=t},e.prototype.getWeightedChoiceExperiment=function(e,t){var n,i;void 0===t&&(t=!1);var o=t?null===(n=this._clsGlobalData)||void 0===n?void 0:n.siteExperimentsWeightedChoice:null===(i=this._clsGlobalData)||void 0===i?void 0:i.experimentsWeightedChoice;return o&&o[e]},Object.defineProperty(e.prototype,"branch",{get:function(){return this._clsGlobalData.branch},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._clsGlobalData.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoDisabledFromPlugin",{get:function(){return this._clsGlobalData.videoDisabledFromPlugin},set:function(e){this._clsGlobalData.videoDisabledFromPlugin=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetDensityLog",{get:function(){return this._clsGlobalData.targetDensityLog},set:function(e){this._clsGlobalData.targetDensityLog=e},enumerable:!1,configurable:!0}),e}(),U=function(){function e(){this._clsOptions=new q,this.shouldUseCoreExperimentsConfig=!1}return e.prototype.setExperimentKey=function(e){void 0===e&&(e=!1),this._clsOptions.setExperiment(this.key,this.result,e)},e}(),K=function(e){function t(){var t=e.call(this)||this;return t._result=!1,t._choices=[{choice:!0},{choice:!1}],t.key="smhd100",t._result=t.run(),t.setExperimentKey(),t}return a(t,e),Object.defineProperty(t.prototype,"result",{get:function(){return this._result},enumerable:!1,configurable:!0}),t.prototype.run=function(){return new z(.1).get()},t}(U),J=[[728,90],[300,250],[300,600],[320,50],[970,250],[160,600],[300,1050],[336,280],[970,90],[300,50],[320,100],[468,60],[250,250],[120,240],[1,1],[300,300],[552,334],[300,420],[728,250],[320,300],[300,390]],Q=new Map([["Footer",1],["Header",2],["Sidebar",3],["Content",4],["Recipe",5],["Sidebar_sticky",6],["Below Post",7]]),Y=function(e,t){var i=new K;return t.filter((function(e){return void 0!==e.dynamic&&e.dynamic.enabled})).map((function(t){var o,r=t.location.replace(/\s+/g,"_");return{auctionPriority:Q.get(r)||8,location:r,sequence:n(t.sequence,1),sizes:(o=t.adSizes,J.filter((function(e){var t=u(e,2),n=t[0],i=t[1];return o.some((function(e){var t=u(e,2),o=t[0],r=t[1];return n===o&&i===r}))}))).filter((function(n){return function(e,t,n,i){var o=u(t,2),r=o[0],a=o[1];return!("Footer"===e&&"phone"===n&&320===r&&100===a||"Header"===e&&a>100&&i.result)}(t.location,n,e,i)})),devices:t.devices,pageSelector:n(t.dynamic.pageSelector,"").trim(),elementSelector:n(t.dynamic.elementSelector,"").trim(),position:n(t.dynamic.position,"beforebegin"),max:Math.floor(n(t.dynamic.max,0)),spacing:n(t.dynamic.spacing,0),skip:Math.floor(n(t.dynamic.skip,0)),every:Math.max(Math.floor(n(t.dynamic.every,1)),1),classNames:t.dynamic.classNames||[],sticky:"Footer"===t.location||t.sticky,stickyOverlapSelector:n(t.stickyOverlapSelector,"").trim(),autosize:t.autosize,special:n(t.targeting,[]).filter((function(e){return"special"===e.key})).reduce((function(e,t){return e.concat.apply(e,p([],u(t.value),!1))}),[]),lazy:n(t.dynamic.lazy,!1),lazyMax:n(t.dynamic.lazyMax,2),lazyMaxDefaulted:0!==t.dynamic.lazyMax&&!t.dynamic.lazyMax}}))},Z=function(e,t){var n=function(e){var t=e.clientWidth;if(getComputedStyle){var n=getComputedStyle(e,null);t-=parseFloat(n.paddingLeft||"0")+parseFloat(n.paddingRight||"0")}return t}(t),i=e.sticky&&"Sidebar"===e.location;return e.sizes.filter((function(t){var o=!e.autosize||(t[0]<=n||t[0]<=320),r=!i||t[1]<=window.innerHeight-100;return o&&r}))};function X(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var $,ee=function(e){function t(t,n){void 0===t&&(t=[]);var i=e.call(this)||this;return i._choices=t,i._default=n,i}return a(t,e),t.fromArray=function(e,n){return new t(e.map((function(e){var t=u(e,2);return{choice:t[0],weight:t[1]}})),n)},t.prototype.addChoice=function(e,t){this._choices.push({choice:e,weight:t})},t.prototype.get=function(){var e,t,n,i,o=(n=0,i=100,Math.random()*(i-n)+n),r=0;try{for(var a=d(this._choices),s=a.next();!s.done;s=a.next()){var l=s.value,c=l.choice;if((r+=l.weight)>=o)return c}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this._default},Object.defineProperty(t.prototype,"totalWeight",{get:function(){return this._choices.reduce((function(e,t){return e+t.weight}),0)},enumerable:!1,configurable:!0}),t}(B),te=function(e){return function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}(e).toString(16)},ne=function(e,t,n,i,o,r){var a=Math.round(r-o),s=[],l=[];s.push("(",n.map((function(){return"%o"})).join(", "),")"),l.push.apply(l,p([],u(n),!1)),void 0!==i&&(s.push(" => %o"),l.push(i)),s.push(" %c(".concat(a,"ms)")),l.push("color: #999;")},ie=function(e,t,n){var i=void 0!==n.get?n.get:n.value;return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{var r=I(),a=i.apply(this,n);if(a instanceof Promise)return a.then((function(e){var t=I();return ne(0,0,n,e,r,t),Promise.resolve(e)})).catch((function(n){throw n.logged||(R.error(e,t,n),n.logged=!0),n}));var s=I();return ne(0,0,n,a,r,s),a}catch(n){throw n.logged||(R.error(e,t,n),n.logged=!0),n}}},oe=function(e,t){return void 0===t&&(t=!1),function(n){var i,o,r=Object.getOwnPropertyNames(n.prototype).filter((function(e){return t||0!==e.indexOf("_")})).map((function(e){return[e,Object.getOwnPropertyDescriptor(n.prototype,e)]}));try{for(var a=d(r),l=a.next();!l.done;l=a.next()){var c=u(l.value,2),p=c[0],h=c[1];void 0!==h&&"function"==typeof h.value?n.prototype[p]=ie(e,p,h):void 0!==h&&void 0!==h.get&&"function"==typeof h.get&&Object.defineProperty(n.prototype,p,s(s({},h),{get:ie(e,p,h)}))}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}},re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._resultValidator=function(){return!0},t}return a(t,e),t.prototype._isValidResult=function(t){var n=this;return e.prototype._isValidResult.call(this,t,(function(){return n._resultValidator(t)||"control"===t}))},t.prototype.run=function(){if(!this.experimentConfig)return R.error("CLSWeightedChoiceSiteExperiment","run","No experiment config found"),"control";if(!this._mappedChoices||0===this._mappedChoices.length)return R.error("CLSWeightedChoiceSiteExperiment","run","No experiment config found"),"control";var e=new ee(this._mappedChoices).get();return this._isValidResult(e)?e:(R.error("CLSWeightedChoiceSiteExperiment","run","Invalid result from experiment choices. Defaulting to control.",e),"control")},t}(function(){function e(){}return Object.defineProperty(e.prototype,"enabled",{get:function(){return void 0!==this.experimentConfig},enumerable:!1,configurable:!0}),e.prototype._isValidResult=function(e,t){return void 0===t&&(t=function(){return!0}),t()&&O(e)},e}()),ae=function(){function e(e){var t,n,i=this;this.siteExperiments=[],this._clsOptions=e,this._device=o()?"mobile":"desktop",this.siteExperiments=null!==(n=null===(t=this._clsOptions.siteAds.siteExperiments)||void 0===t?void 0:t.filter((function(e){var t=e.key,n=T(e,i._device),o=D(i._clsOptions.siteAds,t,i._device);return n&&o})))&&void 0!==n?n:[]}return e.prototype.getSiteExperimentByKey=function(e){return this.siteExperiments.filter((function(t){return t.key.toLowerCase()===e.toLowerCase()}))[0]},e}(),se=function(e){function t(t){var n=e.call(this)||this;return n._choices=[],n._mappedChoices=[],n._result="control",n._resultValidator=function(e){return"number"==typeof e},n.key=w.AdDensity,n._clsSiteExperiments=new ae(t),n.experimentConfig=n._clsSiteExperiments.getSiteExperimentByKey(n.key),n.enabled&&(n._choices=n.experimentConfig.variants,n._mappedChoices=n._mapChoices(),n._result=n.run(),t.setWeightedChoiceExperiment(n.key,n._result,!0)),n}return a(t,e),Object.defineProperty(t.prototype,"result",{get:function(){return this._result},enumerable:!1,configurable:!0}),t.prototype.run=function(){this.enabled||R.error("CLSAdDensitySiteExperiment","run","No experiment config found");var e=new ee(this._mappedChoices).get();return this._isValidResult(e)?e:(R.error("CLSAdDensitySiteExperiment","run","Invalid result from experiment choices. Defaulting to control."),"control")},t.prototype._mapChoices=function(){return this._choices.map((function(e){var t=e.weight,n=e.value;return{weight:t,choice:"number"==typeof n?(n||0)/100:"control"}}))},l([function(e,t,n){var i=n.value;i&&(n.value=function(){for(var e,t=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var r=Array.isArray(this._choices)?te(JSON.stringify(this._choices)):null,a=this.key?this.key.toLowerCase():"",s=r?"".concat(a,"_").concat(r):a,l=this.sessionStoragePrefix?"".concat(this.sessionStoragePrefix,"-").concat(s):s;return!1===(null===(e=C("branch"))||void 0===e?void 0:e.enabled)&&P(l),x(l,(function(){return i.apply(t,n)}),864e5)})},c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],t.prototype,"run",null),t=l([oe("CLSAdDensitySiteExperiment"),c("design:paramtypes",[q])],t)}(re),le=function(e){function t(){var t=e.call(this)||this;return t._result=!1,t.key="scae",t._choices=[{choice:!0},{choice:!1}],t.weight=0,t._result=t.run(),t.setExperimentKey(),t}return a(t,e),Object.defineProperty(t.prototype,"result",{get:function(){return this._result},enumerable:!1,configurable:!0}),t.prototype.run=function(){return new z(this.weight).get()},t=l([oe("StickyContainerAdsExperiment"),c("design:paramtypes",[])],t)}(U),ce="250px",de=function(){function e(e,n){this._clsOptions=e,this._adInjectionMap=n,this._recipeCount=0,this._mainContentHeight=0,this._mainContentDiv=null,this._totalAvailableElements=[],this._minDivHeight=250,this._densityDevice=m.Desktop,this._pubLog={onePerViewport:!1,targetDensity:0,targetDensityUnits:0,combinedMax:0},this._densityMax=.99,this._smallerIncrementAttempts=0,this._absoluteMinimumSpacingByDevice=250,this._usedAbsoluteMinimum=!1,this._infPageEndOffset=0,this.locationMaxLazySequence=new Map([["Recipe",5]]),this.locationToMinHeight={Below_Post:ce,Content:ce,Recipe:ce,Sidebar:ce};var i=this._clsOptions.siteAds.breakpoints,o=i.tablet,r=i.desktop;this._device=function(e,t){var n=window.innerWidth;return n>=t?"desktop":n>=e?"tablet":"phone"}(o,r),this._config=new t(e),this._clsOptions.enabledLocations=this._config.enabledLocations,this._clsAdDensitySiteExperiment=this._clsOptions.siteAds.siteExperiments?new se(this._clsOptions):null}return e.prototype.start=function(){var e,t,n,i,o,r=this;try{!function(e){var t=document.body,n="adthrive-device-".concat(e);if(!t.classList.contains(n))try{t.classList.add(n)}catch(e){R.error("BodyDeviceClassComponent","init",{message:e.message});var i="classList"in document.createElement("_");R.error("BodyDeviceClassComponent","init.support",{support:i})}}(this._device);var a=Y(this._device,this._clsOptions.siteAds.adUnits).filter((function(e){return r._locationEnabled(e)})).filter((function(e){return t=e,n=r._device,t.devices.includes(n);var t,n})).filter((function(e){return 0===(t=e).pageSelector.length||null!==document.querySelector(t.pageSelector);var t})),s=this.inject(a),l=new le;(null===(t=null===(e=this._clsOptions.siteAds.adOptions.stickyContainerConfig)||void 0===e?void 0:e.content)||void 0===t?void 0:t.enabled)&&l.result&&(o=null===(i=null===(n=this._clsOptions.siteAds.adOptions.stickyContainerConfig)||void 0===n?void 0:n.content)||void 0===i?void 0:i.minHeight,X('\n  .adthrive-device-phone .adthrive-sticky-content {\n    height: 450px !important;\n    margin-bottom: 100px !important;\n  }\n  .adthrive-content.adthrive-sticky {\n    position: -webkit-sticky;\n    position: sticky !important;\n    top: 42px !important;\n    margin-top: 42px !important;\n  }\n  .adthrive-content.adthrive-sticky:after {\n    content: "— Advertisement. Scroll down to continue. —";\n    font-size: 10pt;\n    margin-top: 5px;\n    margin-bottom: 5px;\n    display:block;\n    color: #888;\n  }\n  body.single .adthrive-content {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    min-height:'.concat(o||400,"px !important;\n    margin: 10px 0 10px 0;\n    background-color: #FAFAFA;\n    padding-bottom:0px;\n  }\n  body.single .adthrive-content > div {\n    flex-basis: unset;\n    position: sticky !important;\n    display: block;\n    flex-direction: column;\n    top: 5px;\n  }\n  "))),s.forEach((function(e){return r._clsOptions.setInjectedSlots(e)}))}catch(e){R.error("ClsDynamicAdsInjector","start",e)}},e.prototype.inject=function(e,t){void 0===t&&(t=document),this._densityDevice="desktop"===this._device?m.Desktop:m.Mobile,this._overrideDefaultAdDensitySettingsWithSiteExperiment();var i=this._clsOptions.siteAds,o=n(i.adDensityEnabled,!0),r=i.adDensityLayout&&o,a=e.filter((function(e){return r?"Content"!==e.location:e})),s=e.filter((function(e){return r?"Content"===e.location:null}));return p(p([],u(a.length?this._injectNonDensitySlots(a,t):[]),!1),u(s.length?this._injectDensitySlots(s,t):[]),!1)},e.prototype._injectNonDensitySlots=function(e,t){var n,o,r=this;void 0===t&&(t=document);var a=[],s=[];try{for(var l=d(e),c=l.next();!c.done;c=l.next()){var h=c.value,f=0,y=0,m=0;h.spacing>0&&(f=window.innerHeight*h.spacing,y=f);var v=this._repeatDynamicAds(h),g=this.getElements(h.elementSelector,t);h.skip;for(var _=function(e){if(m+1>v.length)return"break";var n=g[e];if(f>0){var o=i(n).bottom;if(o<=y)return"continue";y=o+f}var r=v[m],l="".concat(r.location,"_").concat(r.sequence);a.some((function(e){return e.name===l}))&&(m+=1);var c=b.getDynamicElementId(r),d="adthrive-".concat(h.location.replace("_","-").toLowerCase()),_=p([d,"".concat(d,"-").concat(h.sequence)],u(h.classNames),!1),S=b.addAd(n,c,h.position,_);if(S){var w=Z(r,S);if(w.length){var A={clsDynamicAd:h,dynamicAd:r,element:S,sizes:w,name:l,infinite:t!==document};a.push(A),s.push({location:r.location,element:S}),"Recipe"===h.location&&++b._recipeCount,m+=1}n=S}},b=this,S=h.skip;S<g.length;S+=h.every){if("break"===_(S))break}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return s.forEach((function(e){var t=e.location;e.element.style.minHeight=r.locationToMinHeight[t]})),a},e.prototype._injectDensitySlots=function(e,t){void 0===t&&(t=document);try{this._calculateMainContentHeightAndAllElements(e,t)}catch(e){return[]}var n=this._getDensitySettings(e,t),i=n.onePerViewport,o=n.targetAll,r=n.targetDensityUnits,a=n.combinedMax,s=n.numberOfUnits;return this._absoluteMinimumSpacingByDevice=i?window.innerHeight:this._absoluteMinimumSpacingByDevice,s?(this._adInjectionMap.filterUsed(),this._findElementsForAds(s,i,o,a,r,t),this._insertAds()):[]},e.prototype._overrideDefaultAdDensitySettingsWithSiteExperiment=function(){var e;if(null===(e=this._clsAdDensitySiteExperiment)||void 0===e?void 0:e.enabled){var t=this._clsAdDensitySiteExperiment.result;"number"==typeof t&&(this._clsOptions.siteAds.adDensityEnabled=!0,this._clsOptions.siteAds.adDensityLayout[this._densityDevice].adDensity=t)}},e.prototype._getDensitySettings=function(e,t){void 0===t&&(t=document);var n=this._clsOptions.siteAds.adDensityLayout,i=this._determineOverrides(n.pageOverrides),o=i.length?i[0]:n[this._densityDevice],r=o.adDensity,a=o.onePerViewport,s=this._shouldTargetAllEligible(r),l=this._getTargetDensityUnits(r,s),c=this._getCombinedMax(e,t),d=Math.min.apply(Math,p([],u(p([this._totalAvailableElements.length,l],u(c>0?[c]:[]),!1)),!1));return this._pubLog={onePerViewport:a,targetDensity:r,targetDensityUnits:l,combinedMax:c},{onePerViewport:a,targetAll:s,targetDensityUnits:l,combinedMax:c,numberOfUnits:d}},e.prototype._determineOverrides=function(e){var t=this;return e.filter((function(e){var t=k(e.pageSelector);return""===e.pageSelector||t.elements&&t.elements.length})).map((function(e){return e[t._densityDevice]}))},e.prototype._shouldTargetAllEligible=function(e){return e===this._densityMax},e.prototype._getTargetDensityUnits=function(e,t){return t?this._totalAvailableElements.length:Math.floor(e*this._mainContentHeight/(1-e)/this._minDivHeight)-this._recipeCount},e.prototype._getCombinedMax=function(e,t){return void 0===t&&(t=document),n(e.filter((function(e){var n;try{n=t.querySelector(e.elementSelector)}catch(e){}return n})).map((function(e){return Number(e.max)+Number(e.lazyMaxDefaulted?0:e.lazyMax)})).sort((function(e,t){return t-e}))[0],0)},e.prototype._elementLargerThanMainContent=function(e){return e.offsetHeight>=this._mainContentHeight&&this._totalAvailableElements.length>1},e.prototype._elementDisplayNone=function(e){var t=window.getComputedStyle(e,null).display;return t&&"none"===t||"none"===e.style.display},e.prototype._isBelowMaxes=function(e,t){return this._adInjectionMap.map.length<e&&this._adInjectionMap.map.length<t},e.prototype._findElementsForAds=function(e,t,n,i,o,r){var a=this;void 0===r&&(r=document),this._clsOptions.targetDensityLog={onePerViewport:t,combinedMax:i,targetDensityUnits:o,targetDensityPercentage:this._pubLog.targetDensity,mainContentHeight:this._mainContentHeight,recipeCount:this._recipeCount,numberOfEls:this._totalAvailableElements.length};var s=function(e){var t,l;try{for(var c=d(a._totalAvailableElements),u=c.next();!u.done;u=c.next()){var p=u.value,h=p.dynamicAd,f=p.element;if(a._logDensityInfo(f,h.elementSelector,e),!(!n&&a._elementLargerThanMainContent(f)||a._elementDisplayNone(f))){if(!a._isBelowMaxes(i,o))break;a._checkElementSpacing({dynamicAd:h,element:f,insertEvery:e,targetAll:n,target:r})}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(l=c.return)&&l.call(c)}finally{if(t)throw t.error}}!a._usedAbsoluteMinimum&&a._smallerIncrementAttempts<5&&(++a._smallerIncrementAttempts,s(a._getSmallerIncrement(e)))},l=this._getInsertEvery(e,t,o);s(l)},e.prototype._getSmallerIncrement=function(e){var t=.6*e;return t<=this._absoluteMinimumSpacingByDevice&&(t=this._absoluteMinimumSpacingByDevice,this._usedAbsoluteMinimum=!0),t},e.prototype._insertAds=function(){var e=this,t=[];return this._adInjectionMap.filterUsed(),this._adInjectionMap.map.forEach((function(n,i){var o=n.el,r=n.dynamicAd,a=n.target,s=Number(r.sequence)+i,l=r.max,c=r.lazy&&s>l;r.sequence=s,r.lazy=c;var d=e._addContentAd(o,r,a);d&&(r.used=!0,t.push(d))})),t},e.prototype._getInsertEvery=function(e,t,n){var i=this._absoluteMinimumSpacingByDevice;return this._moreAvailableElementsThanUnitsToInject(n,e)?(this._usedAbsoluteMinimum=!1,i=this._useWiderSpacing(n,e)):(this._usedAbsoluteMinimum=!0,i=this._useSmallestSpacing(t)),t&&window.innerHeight>i?window.innerHeight:i},e.prototype._useWiderSpacing=function(e,t){return this._mainContentHeight/Math.min(e,t)},e.prototype._useSmallestSpacing=function(e){return e&&window.innerHeight>this._absoluteMinimumSpacingByDevice?window.innerHeight:this._absoluteMinimumSpacingByDevice},e.prototype._moreAvailableElementsThanUnitsToInject=function(e,t){return this._totalAvailableElements.length>e||this._totalAvailableElements.length>t},e.prototype._logDensityInfo=function(e,t,n){var i=this._pubLog;i.onePerViewport,i.targetDensity;i.targetDensityUnits;i.combinedMax,this._totalAvailableElements.length},e.prototype._checkElementSpacing=function(e){var t=e.dynamicAd,n=e.element,i=e.insertEvery,o=e.targetAll,r=e.target,a=void 0===r?document:r;(this._isFirstAdInjected()||this._hasProperSpacing(n,t,o,i))&&this._markSpotForContentAd(n,s({},t),a)},e.prototype._isFirstAdInjected=function(){return!this._adInjectionMap.map.length},e.prototype._markSpotForContentAd=function(e,t,n){void 0===n&&(n=document);var i="beforebegin"===t.position||"afterbegin"===t.position;this._adInjectionMap.add(e,this._getElementCoords(e,i),t,n),this._adInjectionMap.sort()},e.prototype._hasProperSpacing=function(e,t,n,i){var o="beforebegin"===t.position||"afterbegin"===t.position,r="beforeend"===t.position||"afterbegin"===t.position,a=n||this._isElementFarEnoughFromOtherAdElements(e,i,o),s=r||this._isElementNotInRow(e,o),l=-1===e.id.indexOf("AdThrive_".concat("Below_Post"));return a&&s&&l},e.prototype._isElementFarEnoughFromOtherAdElements=function(e,t,n){for(var i=this._getElementCoords(e,n),o=!1,r=0;r<this._adInjectionMap.map.length;r++){var a=this._adInjectionMap.map[r].coords,s=this._adInjectionMap.map[r+1]&&this._adInjectionMap.map[r+1].coords;if(o=i-t>a&&(!s||i+t<s))break}return o},e.prototype._isElementNotInRow=function(e,t){var n=e.previousElementSibling,i=e.nextElementSibling,o=t?!n&&i||n&&e.tagName!==n.tagName?i:n:i;return!(!o||0!==e.getBoundingClientRect().height)||(!o||e.getBoundingClientRect().top!==o.getBoundingClientRect().top)},e.prototype._calculateMainContentHeightAndAllElements=function(e,t){void 0===t&&(t=document);var n=u(function(e,t,n){void 0===n&&(n=document);var i=u(A(e,t,n),2),o=i[0],r=i[1];if(0===o.length)throw Error("No Main Content Elements Found");return[Array.from(o).reduce((function(e,t){return t.offsetHeight>e.offsetHeight?t:e}))||document.body,r]}(e,this._adInjectionMap,t),2),i=n[0],o=n[1];this._mainContentDiv=i,this._totalAvailableElements=o,this._mainContentHeight=function(e,t){void 0===t&&(t="div #comments, section .comments");var n=e.querySelector(t);return n?e.offsetHeight-n.offsetHeight:e.offsetHeight}(this._mainContentDiv)},e.prototype._getElementCoords=function(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect();return(t?n.top:n.bottom)+window.scrollY},e.prototype._addContentAd=function(e,t,n){void 0===n&&(n=document);var i=null,o="adthrive-".concat(t.location.replace("_","-").toLowerCase()),r="".concat(o,"-").concat(t.sequence),a=this.addAd(e,this.getDynamicElementId(t),t.position,p([o,r],u(t.classNames),!1));if(a){var s=Z(t,a);if(s.length)a.style.minHeight=this.locationToMinHeight[t.location],i={clsDynamicAd:t,dynamicAd:t,element:a,sizes:s,name:"".concat(t.location,"_").concat(t.sequence),infinite:n!==document}}return i},e.prototype.getDynamicElementId=function(e){return"".concat("AdThrive","_").concat(e.location,"_").concat(e.sequence,"_").concat(this._device)},e.prototype.getElements=function(e,t){return void 0===t&&(t=document),t.querySelectorAll(e)},e.prototype.addAd=function(e,t,n,i){if(void 0===i&&(i=[]),!document.getElementById(t)){var o='<div id="'.concat(t,'" class="adthrive-ad ').concat(i.join(" "),'"></div>');e.insertAdjacentHTML(n,o)}return document.getElementById(t)},e.prototype._repeatDynamicAds=function(e){for(var t=[],i=e.lazy?n(this.locationMaxLazySequence.get(e.location),0):0,o=e.max,r=e.lazyMax,a=0===i&&e.lazy?o+r:Math.min(Math.max(i-e.sequence+1,0),o+r),l=Math.max(o,a),c=0;c<l;c++){var d=Number(e.sequence)+c,u=e.lazy&&c>=o;t.push(s(s({},e),{sequence:d,lazy:u}))}return t},e.prototype._locationEnabled=function(e){var t=this._clsOptions.enabledLocations.includes(e.location),n=this._clsOptions.disableAds&&this._clsOptions.disableAds.all||document.body.classList.contains("adthrive-disable-all"),i=!document.body.classList.contains("adthrive-disable-content")&&!this._clsOptions.disableAds.reasons.has("content_plugin");return t&&!n&&i},e}(),ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(function(){function e(){this._map=[]}return e.prototype.add=function(e,t,n,i){void 0===i&&(i=document),this._map.push({el:e,coords:t,dynamicAd:n,target:i})},Object.defineProperty(e.prototype,"map",{get:function(){return this._map},enumerable:!1,configurable:!0}),e.prototype.sort=function(){this._map.sort((function(e,t){return e.coords-t.coords}))},e.prototype.filterUsed=function(){this._map=this._map.filter((function(e){return!e.dynamicAd.used}))},e}()),pe=function(e){function t(t,n){var i=e.call(this,t,"ClsVideoInsertion")||this;return i._videoConfig=t,i._clsOptions=n,i._IN_POST_SELECTOR=".adthrive-video-player",i._WRAPPER_BAR_HEIGHT=36,i._playersAddedFromPlugin=[],i}return a(t,e),t.prototype.init=function(){this._initializePlayers()},t.prototype._wrapJWPlayerWithCLS=function(e,t,n){if(void 0===n&&(n=0),e.parentNode){var i=e.offsetWidth*(9/16),o=this._createGenericCLSWrapper(i,t,n);return e.parentNode.insertBefore(o,e),o.appendChild(e),o}return null},t.prototype._createGenericCLSWrapper=function(e,t,n){var i=document.createElement("div");return i.id="cls-video-container-".concat(t),i.className="adthrive",i.style.minHeight="".concat(e+n,"px"),i},t.prototype._getTitleHeight=function(e){e.innerText="Title",e.style.visibility="hidden",document.body.appendChild(e);var t=window.getComputedStyle(e),n=parseInt(t.height,10),i=parseInt(t.marginTop,10),o=parseInt(t.marginBottom,10);return document.body.removeChild(e),Math.min(n+o+i,50)},t.prototype._initializePlayers=function(){var e=document.querySelectorAll(this._IN_POST_SELECTOR);e.length&&this._initializeRelatedPlayers(e),this._shouldRunAutoplayPlayers()&&this._determineAutoplayPlayers()},t.prototype._createStationaryRelatedPlayer=function(e,t){var n="mobile"===this._device?[400,225]:[640,360],i=v.Video_In_Post_ClicktoPlay_SoundOn;if(t&&e.mediaId){var o=this._wrapJWPlayerWithCLS(t,e.mediaId);this._playersAddedFromPlugin.push(e.mediaId),o&&this._clsOptions.setInjectedVideoSlots({playerId:e.playerId,playerName:i,playerSize:n,element:o,type:"stationaryRelated"})}},t.prototype._createStickyRelatedPlayer=function(e,t){var n="mobile"===this._device?[400,225]:[640,360],i=v.Video_Individual_Autoplay_SOff;if(this._stickyRelatedOnPage=!0,this._videoConfig.mobileStickyPlayerOnPage="mobile"===this._device,t&&e.position&&e.mediaId){var o=document.createElement("div");t.insertAdjacentElement(e.position,o);var r=document.createElement("h3");r.style.margin="10px 0";var a=this._getTitleHeight(r),s=this._wrapJWPlayerWithCLS(o,e.mediaId,this._WRAPPER_BAR_HEIGHT+a);this._playersAddedFromPlugin.push(e.mediaId),s&&this._clsOptions.setInjectedVideoSlots({playlistId:e.playlistId,playerId:e.playerId,playerSize:n,playerName:i,element:o,type:"stickyRelated"})}},t.prototype._createPlaylistPlayer=function(e,t){var n=e.playlistId,i="mobile"===this._device?v.Video_Coll_SOff_Smartphone:v.Video_Collapse_Autoplay_SoundOff,o="mobile"===this._device?[400,225]:[640,360];this._videoConfig.mobileStickyPlayerOnPage=!0;var r=document.createElement("div");t.insertAdjacentElement(e.position,r);var a=this._wrapJWPlayerWithCLS(r,n,this._WRAPPER_BAR_HEIGHT);this._playersAddedFromPlugin.push("playlist-".concat(n)),a&&this._clsOptions.setInjectedVideoSlots({playlistId:e.playlistId,playerId:e.playerId,playerSize:o,playerName:i,element:r,type:"stickyPlaylist"})},t.prototype._isVideoAllowedOnPage=function(){var e=this._clsOptions.disableAds;if(e&&e.video){var t="";e.reasons.has("video_tag")?t="video tag":e.reasons.has("video_plugin")?t="video plugin":e.reasons.has("video_page")&&(t="command queue");var n=t?"ClsVideoInsertionMigrated":"ClsVideoInsertion";return R.error(n,"isVideoAllowedOnPage",new Error("DBP: Disabled by publisher via ".concat(t||"other"))),!1}return!this._clsOptions.videoDisabledFromPlugin},t}(function(e){function t(t,n){var i=e.call(this)||this;i._videoConfig=t,i._component=n,i._stickyRelatedOnPage=!1,i._contextualMediaIds=[];var o,r=i._videoConfig.players||[];i._device=(void 0===o&&(o=navigator.userAgent),/Windows NT|Macintosh/i.test(o)?"desktop":"mobile"),i._potentialPlayerMap=i._setPotentialPlayerMap();var a=r.filter((function(e){return"stationaryRelated"===e.type&&e.enabled}));return i._potentialPlayerMap.stationaryRelated=a,i}return a(t,e),t.prototype._setPotentialPlayerMap=function(){var e=this,t=this._videoConfig.players,n={stickyRelated:[],stickyPlaylist:[],stationaryRelated:[]};return t&&t.length?t.filter((function(t){var n;return null===(n=t.devices)||void 0===n?void 0:n.includes(e._device)})).reduce((function(t,n){return t[n.type]||(R.event(e._component,"constructor","Unknown Video Player Type detected",n.type),t[n.type]=[]),n.enabled&&t[n.type].push(n),t}),n):n},t.prototype._checkPlayerSelectorOnPage=function(e){var t=this,n=this._potentialPlayerMap[e].map((function(e){return{player:e,playerElement:t._getPlacementElement(e)}}));return n.length?n[0]:{player:null,playerElement:null}},t.prototype._getOverrideElement=function(e,t,n){if(e&&t){var i=document.createElement("div");t.insertAdjacentElement(e.position,i),n=i}else{var o=this._checkPlayerSelectorOnPage("stickyPlaylist"),r=o.player,a=o.playerElement;if(r&&a){i=document.createElement("div");a.insertAdjacentElement(r.position,i),n=i}}return n},t.prototype._shouldOverrideElement=function(e){var t=e.getAttribute("override-embed");return"true"===t||"false"===t?"true"===t:!!this._videoConfig.contextualSettings&&this._videoConfig.contextualSettings.overrideEmbedLocation},t.prototype._getPlacementElement=function(e){var t=k(e.pageSelector),n=j(e.elementSelector);return t.valid?e.pageSelector&&!t.elements.length?(R.event("VideoUtils","getPlacementElement",new Error("PSNF: ".concat(e.pageSelector," does not exist on the page"))),null):n.valid?n.elements.length>e.skip?n.elements[e.skip]:(R.event("VideoUtils","getPlacementElement",new Error("ESNF: ".concat(e.elementSelector," does not exist on the page"))),null):(R.error("VideoUtils","getPlacementElement",new Error("".concat(e.elementSelector," is not a valid selector"))),null):(R.error("VideoUtils","getPlacementElement",new Error("".concat(e.pageSelector," is not a valid selector"))),null)},t.prototype._getEmbeddedPlayerType=function(e){var t=e.getAttribute("data-player-type");return t&&"default"!==t||(t=this._videoConfig.contextualSettings?this._videoConfig.contextualSettings.defaultPlayerType:"static"),this._stickyRelatedOnPage&&(t="static"),t},t.prototype._getUnusedMediaId=function(e){var t=e.getAttribute("data-video-id");return!(!t||this._contextualMediaIds.includes(t))&&(this._contextualMediaIds.push(t),t)},t.prototype._createRelatedPlayer=function(e,t,n){"collapse"===t?this._createCollapsePlayer(e,n):"static"===t&&this._createStaticPlayer(e,n)},t.prototype._createCollapsePlayer=function(e,t){var n=this._checkPlayerSelectorOnPage("stickyRelated"),i=n.player,o=n.playerElement,r=i||this._potentialPlayerMap.stationaryRelated[0];r&&r.playerId?(this._shouldOverrideElement(t)&&(t=this._getOverrideElement(i,o,t)),t=document.querySelector("#cls-video-container-".concat(e," > div"))||t,this._createStickyRelatedPlayer(s(s({},r),{mediaId:e}),t)):R.error(this._component,"_createCollapsePlayer","No video player found")},t.prototype._createStaticPlayer=function(e,t){if(this._potentialPlayerMap.stationaryRelated.length&&this._potentialPlayerMap.stationaryRelated[0].playerId){var n=this._potentialPlayerMap.stationaryRelated[0];this._createStationaryRelatedPlayer(s(s({},n),{mediaId:e}),t)}else R.error(this._component,"_createStaticPlayer","No video player found")},t.prototype._shouldRunAutoplayPlayers=function(){return!(!this._isVideoAllowedOnPage()||!this._potentialPlayerMap.stickyRelated.length&&!this._potentialPlayerMap.stickyPlaylist.length)},t.prototype._determineAutoplayPlayers=function(){var e=this._component,t="VideoManagerComponent"===e,n=this._config;if(this._stickyRelatedOnPage)R.event(e,"stickyRelatedOnPage",t&&{device:n&&n.context.device,isDesktop:this._device}||{});else{var i=this._checkPlayerSelectorOnPage("stickyPlaylist"),o=i.player,r=i.playerElement;o&&o.playerId&&o.playlistId&&r?this._createPlaylistPlayer(o,r):R.event(e,"noStickyPlaylist",t&&{vendor:"none",device:n&&n.context.device,isDesktop:this._device}||{})}},t.prototype._initializeRelatedPlayers=function(e){for(var t=0;t<e.length;t++){var n=e[t],i=this._getEmbeddedPlayerType(n),o=this._getUnusedMediaId(n);o&&this._createRelatedPlayer(o,i,n)}},t}(function(){function e(){}return Object.defineProperty(e.prototype,"enabled",{get:function(){return!0},enumerable:!1,configurable:!0}),e}())),he=function(){function e(e){this._clsOptions=e,this._expKey="clsins_ss",this._animationRequestId=0,this._adthrive=window.adthrive,this._clsOptions.siteAds=this._adthrive&&this._adthrive.siteAds||{},this._result=!0,this._clsOptions.setExperiment(this._expKey,this._result),this._config=new t(e),this._clsOptions.enabledLocations=this._config.enabledLocations}return e.prototype.start=function(){window.requestAnimationFrame&&this._adthrive&&this._adthrive.siteAds&&this._adthrive.siteAds.adOptions&&this._adthrive.siteAds.adOptions.clsOptimizedAds&&(this._clsOptions.disableAds=new F(window.adthrive),this._result&&(this._animationRequestId=window.requestAnimationFrame(this.addClsInsertion.bind(this))))},e.prototype.addClsInsertion=function(){document.body?(this._clsOptions.injectedFromSiteAds=!0,this._clsOptions.videoDisabledFromPlugin=!!document.body.classList.contains("adthrive-disable-video"),X(".adthrive-ad{margin-top:10px;margin-bottom:10px;text-align:center;overflow-x:visible;clear:both;line-height:0}"),this.startClsInsertion()):"complete"===document.readyState||this._clsOptions.injectedFromSiteAds?window.cancelAnimationFrame(this._animationRequestId):this._animationRequestId=window.requestAnimationFrame(this.addClsInsertion.bind(this))},e.prototype.startClsInsertion=function(){var e=this;this._clsOptions.injectedSlots.some((function(t){return e._clsOptions.enabledLocations.includes(t.dynamicAd.location)}))||new de(this._clsOptions,new ue).start();new pe(new N(this._clsOptions),this._clsOptions).init()},e}();try{($=new q).enabled&&$.injectedFromPlugin||$.error||(window.adthriveCLS={injectedFromPlugin:!1,injectedSlots:[],experiments:{},siteExperiments:{},injectedVideoSlots:[]},$=new q,new he($).start())}catch(e){R.error("CLS","siteinsertion-iife",e),window.adthriveCLS&&(window.adthriveCLS.injectedFromSiteAds=!1)}return e.ClsSiteInsertion=he,Object.defineProperty(e,"__esModule",{value:!0}),e}({});

    
      //esVersionDetection
      function supports(exp) {
          try {
              new Function(exp)();
          } catch (e) {
              return false;
          }
          return true;
      }
      function isUserAgentInvalid() {
          return new RegExp('googleweblight|spider|crawler|curl|wget|ia_archiver|insights|baidu|bot|monitor|scraper|A6-Indexer|addthis|admantx|agentslug|alexa|anderspink|apache-httpclient|apachebench|apis-google|appengine-google|ask jeeves|asynchttpclient|awe.sm|baidu|barkrowler|biglotron|bingpreview|brandverify|bubing|butterfly|buzztalk|cf-uc|check_http|cloudflare|cmradar/0.1|coldfusion|comodo ssl checker|convera|copypants|crowsnest|curl|dap\/nethttp|daumoa|developers.google.com\/+\/web\/snippet\/|digitalpersona fingerprint software|drupact|duckduck|elb-healthchecker|embedly|eoaagent|europarchive|eventmachine httpclient|evrinid|exaleadcloudview|ezooms|ez publish|facebookexternalhit|feedburner|feedfetcher-google|findlink|findthatfile|flipboardproxy|garlik|genieo|getprismatic.com|ghost|gigablast|go http package|google( page speed insights| web preview|google-site-verification|-structured-data-testing-tool|-structureddatatestingtool)|hatena|headless|heritrix|htmlparser|http(_request2|client|s|unit)|httrack|hubspot|ichiro|icoreservice|idmarch|in(agist|sieve|stapaper)|ips-agent|jack|jakarta commons|java|jetslide|jobseeker|js-kit|kimengi|knows.is|kraken|laconica|libwww|lighthouse|linode|lipperhey|longurl|ltx71|lwp-trivial|mappydata|mastodon|mediapartners-google|megaindex.ru|metauri|mfe_expand|mixnode|mon(tastic|tools)|moreover|mrchrome|nberta|net(craft|researchserver|state|vibes)|newrelicpinger|newspaper|newsme|ning|nmap|nutch|online-domain-tools|paessler|page(peek|sinventory|thing)|panopta|peerindex|phantomjs|pingdom|plukkie|proximic|pu_in|publiclibraryarchive.org|python-(httplib2|requests|urllib)|quanti|queryseeker|quicklook|qwanti|re-animator|readability|rebelmouse|relateiq|riddler|rssmicro|ruby|scrapy|seo-audit|seodiver|seokicks|shopwiki|shortlinktranslate|siege|sistrix|site24x7|siteexplorer|skypeuripreview|slack|slurp|socialrank|sogou|spinn3r|squider|statuscake|stripe|summify|teeraid|teoma|test certificate info|tineye|traackr|tweetedtimes|twikle|twitjobsearch|twitmunin|twurly|typhoeus|unwindfetch|uptim(e|ia)|uptm.io|vagabondo|vb project|vigil|vkshare|wappalyzer|watchsumo|webceo|webdatascout|webmon|webscout|wesee|wget|whatsapp|whatweb|wikido|wordpress|wormly|wotbox|xenu link sleuth|xing-contenttabreceiver|yandex|yanga|yeti|yff35|yourls|zelist.ro|zibb|^Mozilla\/5\.0$|Viv\/2', 'i')
          .test(window.navigator.userAgent);
      }
  
      var supportsIO = 'IntersectionObserver' in window && 'IntersectionObserverEntry' in window && 'intersectionRatio' in window.IntersectionObserverEntry.prototype && 'isIntersecting' in window.IntersectionObserverEntry.prototype;
  
      var target = 'es5'
      if (supportsIO && supports('async () => Promise.resolve(({ ...{} })).finally(() => Symbol.asyncIterator)')) {
        target = 'es2018';
      }
  
      var invalid = isUserAgentInvalid() ? 'invalid-ua' : '';
  
      if(invalid === '') {
        w.adthrive.targetPath = '/' + target;
      }
      
      w.adthrive.cmd.push(function () {
        w.adthrive.setTargetingFlag('target', ([target, invalid]).filter(function (k) { return k != ''; }));
      });
    
      //getMarmaladeData
      w.adthrive.marmaladeFinished = function() {};
      var page = encodeURIComponent(location.href);
      var campaignsUrl = 'https://' + w.adthrive.host + '/api/v1/marmalade?siteid=57e44aa2830a71a645632e09&url=' + page + '&experiments=rubiconFloors,recencyFrequency';
      if (w.fetch) {
        fetch(campaignsUrl)
          .then(function(response) {
            w.adthrive.marmalade = response.json();
            w.adthrive.marmalade.then(function(data) {
              w.adthrive.marmaladeFinished(data);
            });
          })
          .catch(function(error) {
            console.error('Unable to get marmalade data. Error:', error);
          });
      } else {
          var xhrMarmalade = new XMLHttpRequest();
          xhrMarmalade.onload = function() {
              if (xhrMarmalade.status === 200) {
                  w.adthrive.marmalade = xhrMarmalade.response;
                  w.adthrive.marmaladeFinished(w.adthrive.marmalade);
              }
          };
          xhrMarmalade.open('GET', campaignsUrl, true);
          xhrMarmalade.responseType = 'json';
          xhrMarmalade.send();
      }
    
      if (!w.apstag) {
        //Amazon Load
        importScript('https://c.amazon-adsystem.com/aax2/apstag.js');
        var q = function (c, r) {
            w.apstag._Q.push([c, r]);
        };
        w.apstag = {
            init: function () {
                q('i', arguments);
            },
            fetchBids: function () {
                q('f', arguments);
            },
            setDisplayBids: function () {
                return;
            },
            targetingKeys: function () {
                return [];
            },
            _Q: []
        };
      }

      //GPT Load
      importScript('https://securepubads.g.doubleclick.net/tag/js/gpt.js');
      w.googletag = w.googletag || {};
      w.googletag.cmd = w.googletag.cmd || [];

      //Prebid Load
      importScript(w.adthrive.baseUrl + '/vendor/prebid' + w.adthrive.targetPath + '/prebid.min.js');  
      w.pbjs = w.pbjs || {};
      w.pbjs.que = w.pbjs.que || [];
    
      //Rubicon Floors
      w.adthrive.rubiconFloorsFinished = function() {};
      var floorsUrl = 'https://ads.adthrive.com/api/v2/host/floors/' + w.location.hostname;
      var xhrFloors = new XMLHttpRequest();
      xhrFloors.onload = function() {
          var status = xhrFloors.status;
          if (status === 200) {
              w.adthrive.floors = xhrFloors.response;
              w.adthrive.rubiconFloorsFinished(w.adthrive.floors);
          } else {
              console.log('Unable to get floor data. status: ', status);
          }
      };
      xhrFloors.open('GET', floorsUrl, true);
      xhrFloors.responseType = 'json';
      xhrFloors.send();
    
  importScript(w.adthrive.baseUrl + w.adthrive.targetPath + '/js/adthrive.min.js?deployment=' + w.adthrive.deployment + '&experiments=rubiconFloors,recencyFrequency');
  
    
})(window, document);