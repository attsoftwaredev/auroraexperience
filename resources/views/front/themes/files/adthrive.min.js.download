window.adthrive.core = {"partners":[{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.972},{"name":"instream","type":"percent","value":0.981},{"name":"pmp","type":"percent","value":0.972}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"col_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.978},{"name":"instream","type":"percent","value":0.99},{"name":"pmp","type":"percent","value":0.978}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"colossus","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.85}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"concert","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"conversant","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.984},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"criteo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"deepintent","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01},{"name":"instream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"districtm","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"districtmDMX","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01},{"name":"instream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"dmdmx","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.973},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"G-JW_PLAYER-7777e1a5a6a74238","type":"percent","value":0.854},{"name":"G-GOODNET-a81896d35fab407f","type":"percent","value":0.25},{"name":"G-JW_PLAYER-9a1b18a769bb4b19","type":"percent","value":0.25},{"name":"G-JW_PLAYER-1fcfe69658db461b","type":"percent","value":0.25},{"name":"G-IPONWEB-c1bd196e2c6b4def","type":"percent","value":0.25},{"name":"G-JW_PLAYER-1360328744794826","type":"percent","value":0.25},{"name":"G-JW_PLAYER-365de1934ae043ac","type":"percent","value":0.25},{"name":"G-JW_PLAYER-6ff5dab03a6c43d3","type":"percent","value":0.25},{"name":"G-JW_PLAYER-55c22f209dfc4431","type":"percent","value":0.25},{"name":"G-JW_PLAYER-60c26be7511a401b","type":"percent","value":0.25},{"name":"G-ORACLE-e8151ef0729d4db8","type":"percent","value":0.25},{"name":"G-IPONWEB-3aa5bafdb39f4f4c","type":"percent","value":0.25},{"name":"G-JW_PLAYER-2d5b0b1ef65c44d2","type":"percent","value":0.25},{"name":"G-JW_PLAYER-2d5b0b1ef65c44d2","type":"percent","value":0.25},{"name":"G-CRITEO-2127b0932fc648a0","type":"percent","value":0.25},{"name":"G-IPONWEB-0c3229501281451f","type":"percent","value":0.25},{"name":"G-NYIAX-e500d699045541aa","type":"percent","value":0.25},{"name":"G-JW_PLAYER-db2d734117154c53","type":"percent","value":0.25},{"name":"G-JW_PLAYER-d12f37a3310c4181","type":"percent","value":0.25},{"name":"G-ORACLE-ad6b3ea7b7074343","type":"percent","value":0.25},{"name":"G-JW_PLAYER-f448faadb3e34a97","type":"percent","value":0.25}]},{"name":"stickyOutstream","type":"percent","value":0.48}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"grid","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"g-trustx-69dcdccd456a4d4a","type":"percent","value":1}]}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"gridvid","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.975},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"gumgum","enabled":true},{"secondary":false,"cpm":[{"name":"default","type":"percent","value":0.97},{"name":"pmp","type":"percent","value":0.99,"deals":[{"name":"136707122019991","type":"percent","value":0.82},{"name":"136707122019993","type":"percent","value":0.88},{"name":"136708142019991","type":"percent","value":0.9},{"name":"136712112019997","type":"percent","value":0.83},{"name":"136712112019995","type":"percent","value":0.85},{"name":"136707162019999","type":"percent","value":0.88},{"name":"136704252018993","type":"percent","value":0.84},{"name":"136703312017993","type":"percent","value":0.9},{"name":"136703312017997","type":"percent","value":0.88},{"name":"136710072020991","type":"percent","value":0.79},{"name":"136707162019993","type":"percent","value":0.91},{"name":"136703312017991","type":"percent","value":0.88},{"name":"PAD136707102020991","type":"percent","value":0.8},{"name":"136712112019999","type":"percent","value":0.94},{"name":"7002232015","type":"percent","value":0.69},{"name":"136706042019991","type":"percent","value":0.85},{"name":"136712112019993","type":"percent","value":0.9},{"name":"136707152019991","type":"percent","value":0.88},{"name":"136704252018991","type":"percent","value":0.89},{"name":"8209221604","type":"percent","value":0.87},{"name":"136707122019994","type":"percent","value":0.74},{"name":"136708142019992","type":"percent","value":0.8},{"name":"136712112019998","type":"percent","value":0.89},{"name":"136712112019996","type":"percent","value":0.98},{"name":"136704252018994","type":"percent","value":0.85},{"name":"136703312017996","type":"percent","value":0.8},{"name":"136703312017998","type":"percent","value":0.65},{"name":"136710072020992","type":"percent","value":0.74},{"name":"136707162019994","type":"percent","value":0.76},{"name":"136703312017992","type":"percent","value":0.93},{"name":"PAD136707102020992","type":"percent","value":0.8},{"name":"8209221601","type":"percent","value":0.76},{"name":"136706042019992","type":"percent","value":0.69},{"name":"136712112019994","type":"percent","value":0.83},{"name":"136707152019992","type":"percent","value":0.74},{"name":"136704252018992","type":"percent","value":0.77},{"name":"136707122019992","type":"percent","value":0.91},{"name":"136703072017996","type":"percent","value":0.83},{"name":"1367071620199910","type":"percent","value":0.86},{"name":"M1IX203202022021992","type":"flat","value":0.5},{"name":"M1IX203202022021991","type":"flat","value":0.5},{"name":"PAD136701112021991","type":"percent","value":0.9},{"name":"PAD136701112021992","type":"percent","value":1},{"name":"DMD136703032021991","type":"percent","value":0.78},{"name":"DMD136703032021992","type":"percent","value":0.74},{"name":"DMD136702172021991","type":"percent","value":0.9},{"name":"DMD136704082021991","type":"percent","value":0.88},{"name":"DMD136704052021991","type":"percent","value":0.89},{"name":"DMD136704082021992","type":"percent","value":0.8},{"name":"DMD136702172021992","type":"percent","value":0.91},{"name":"DMD136704052021992","type":"percent","value":0.77},{"name":"136705172021991","type":"percent","value":0.85},{"name":"136705172021992","type":"percent","value":0.69},{"name":"136704262021991","type":"percent","value":0.9},{"name":"136704262021992","type":"percent","value":0.69},{"name":"PAD136707312020991","type":"percent","value":0.9},{"name":"136712112019991","type":"percent","value":0.88},{"name":"136706042019995","type":"percent","value":0.85},{"name":"PAD136707312020992","type":"percent","value":0.92},{"name":"136712112019992","type":"percent","value":0.97},{"name":"136706042019996","type":"percent","value":0.83},{"name":"203209212021995","type":"flat","value":1},{"name":"203209212021996","type":"flat","value":1},{"name":"203210122021995","type":"flat","value":1},{"name":"203210122021996","type":"flat","value":1},{"name":"M1IX203212162021995","type":"flat","value":1},{"name":"M1IX203212162021996","type":"flat","value":1},{"name":"9311192021991","type":"percent","value":0.97},{"name":"9311192021992","type":"percent","value":0.97},{"name":"DMD136708052021991","type":"percent","value":0.9},{"name":"DMD136708052021992","type":"percent","value":0.8},{"name":"146002182022991","type":"flat","value":1},{"name":"146002182022992","type":"flat","value":1},{"name":"146002182022993","type":"flat","value":1},{"name":"146002182022994","type":"flat","value":1},{"name":"146002182022995","type":"flat","value":1},{"name":"DMD136708302021992","type":"percent","value":0.71},{"name":"2251041120229923","type":"percent","value":0.97},{"name":"2251041120229922","type":"percent","value":0.97},{"name":"2251041120229921","type":"percent","value":0.97},{"name":"2251041120229920","type":"percent","value":0.97},{"name":"2251041120229919","type":"percent","value":0.97},{"name":"2251041120229918","type":"percent","value":0.97},{"name":"2251041120229917","type":"percent","value":0.97},{"name":"2251041120229916","type":"percent","value":0.97},{"name":"2251041120229915","type":"percent","value":0.97},{"name":"2251041120229914","type":"percent","value":0.97},{"name":"2251041120229913","type":"percent","value":0.97},{"name":"2251041120229912","type":"percent","value":0.97},{"name":"2251041120229911","type":"percent","value":0.97},{"name":"2251041120229910","type":"percent","value":0.97},{"name":"225104112022999","type":"percent","value":0.97},{"name":"225104112022998","type":"percent","value":0.97},{"name":"225104112022997","type":"percent","value":0.97},{"name":"225104112022996","type":"percent","value":0.97},{"name":"225104112022995","type":"percent","value":0.97},{"name":"225104112022994","type":"percent","value":0.97},{"name":"225104112022993","type":"percent","value":0.97},{"name":"225104112022992","type":"percent","value":0.97},{"name":"225104112022991","type":"percent","value":0.97},{"name":"400104282022991","type":"percent","value":0.97},{"name":"335305022022991","type":"flat","value":1},{"name":"335305022022992","type":"flat","value":1},{"name":"905172022991","type":"flat","value":0.5},{"name":"140408052022991","type":"flat","value":1},{"name":"140408052022992","type":"flat","value":1},{"name":"140408052022993","type":"flat","value":1},{"name":"140408052022994","type":"flat","value":1},{"name":"PAD136707202020991","type":"percent","value":0.88},{"name":"PAD136707202020992","type":"percent","value":0.8},{"name":"51210172022991","type":"flat","value":1},{"name":"51210172022992","type":"flat","value":1},{"name":"140410122022991","type":"flat","value":1},{"name":"140410122022992","type":"flat","value":1},{"name":"136710202022991","type":"percent","value":0.83},{"name":"136710202022992","type":"percent","value":0.63},{"name":"51211082022991","type":"flat","value":1},{"name":"270111082022991","type":"flat","value":1.5},{"name":"270111082022992","type":"flat","value":1.5},{"name":"270111082022993","type":"flat","value":1},{"name":"270111082022994","type":"flat","value":1},{"name":"140412152022995","type":"flat","value":1},{"name":"140412152022996","type":"flat","value":1},{"name":"140412152022997","type":"flat","value":1},{"name":"515112212022991","type":"flat","value":1.5},{"name":"515112212022992","type":"flat","value":1.5}]},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.574},{"name":"outstream","type":"percent","value":0.5}],"s2s":[{"s2s_value":0,"media_type":"display"},{"s2s_value":0,"media_type":"video"}],"bidder_name":"ix","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.974},{"name":"instream","type":"percent","value":1},{"name":"outstream","type":"percent","value":0.6}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"kargo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.984}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"nativo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":0.01},{"name":"outstream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"oneVideo","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.993},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.472}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"openx","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.982},{"name":"instream","type":"percent","value":0.999},{"name":"pmp","type":"percent","value":0.982,"deals":[{"name":"PM-KINC-9618","type":"flat","value":2}]},{"name":"stickyOutstream","type":"percent","value":0.52}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"pubm_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.991},{"name":"instream","type":"percent","value":1},{"name":"pmp","type":"percent","value":0.991,"deals":[{"name":"PM-KINC-9618","type":"flat","value":2}]},{"name":"stickyOutstream","type":"percent","value":0.49}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"pubmatic","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.995},{"name":"instream","type":"percent","value":0.989}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"roundel","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.963},{"name":"instream","type":"percent","value":1},{"name":"pmp","type":"percent","value":0.95,"deals":[{"name":"829398","type":"percent","value":0.95},{"name":"832174","type":"percent","value":0.97},{"name":"832176","type":"percent","value":0.97},{"name":"855828","type":"percent","value":0.97},{"name":"855824","type":"percent","value":0.97},{"name":"855816","type":"percent","value":0.97},{"name":"855814","type":"percent","value":0.97},{"name":"855812","type":"percent","value":0.97},{"name":"855810","type":"percent","value":0.97},{"name":"855808","type":"percent","value":0.97},{"name":"855806","type":"percent","value":0.97},{"name":"855804","type":"percent","value":0.97},{"name":"855802","type":"percent","value":0.97},{"name":"855800","type":"percent","value":0.97},{"name":"855798","type":"percent","value":0.97},{"name":"855796","type":"percent","value":0.97},{"name":"855794","type":"percent","value":0.97},{"name":"855792","type":"percent","value":0.97},{"name":"855790","type":"percent","value":0.97},{"name":"855788","type":"percent","value":0.97},{"name":"855786","type":"percent","value":0.97},{"name":"855784","type":"percent","value":0.97},{"name":"855782","type":"percent","value":0.97},{"name":"855780","type":"percent","value":0.97},{"name":"855778","type":"percent","value":0.97},{"name":"855776","type":"percent","value":0.97},{"name":"859888","type":"percent","value":0.97}]},{"name":"stickyOutstream","type":"percent","value":0.36}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"rubi_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.995},{"name":"instream","type":"percent","value":1},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"829398","type":"percent","value":0.95},{"name":"832174","type":"percent","value":0.97},{"name":"832176","type":"percent","value":0.97},{"name":"855828","type":"percent","value":0.97},{"name":"855824","type":"percent","value":0.97},{"name":"855816","type":"percent","value":0.97},{"name":"855814","type":"percent","value":0.97},{"name":"855812","type":"percent","value":0.97},{"name":"855810","type":"percent","value":0.97},{"name":"855808","type":"percent","value":0.97},{"name":"855806","type":"percent","value":0.97},{"name":"855804","type":"percent","value":0.97},{"name":"855802","type":"percent","value":0.97},{"name":"855800","type":"percent","value":0.97},{"name":"855798","type":"percent","value":0.97},{"name":"855796","type":"percent","value":0.97},{"name":"855794","type":"percent","value":0.97},{"name":"855792","type":"percent","value":0.97},{"name":"855790","type":"percent","value":0.97},{"name":"855788","type":"percent","value":0.97},{"name":"855786","type":"percent","value":0.97},{"name":"855784","type":"percent","value":0.97},{"name":"855782","type":"percent","value":0.97},{"name":"855780","type":"percent","value":0.97},{"name":"855778","type":"percent","value":0.97},{"name":"855776","type":"percent","value":0.97},{"name":"859888","type":"percent","value":0.97}]},{"name":"stickyOutstream","type":"percent","value":0.36}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"rubicon","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.985},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.582}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"sharethrough","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":1},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"21ebe.8180e.26d6","type":"flat","value":2},{"name":"153c7.7e28.4b71","type":"flat","value":2},{"name":"1ec46.6201a.8951","type":"flat","value":2},{"name":"21ebe.2503b.b869","type":"flat","value":2},{"name":"449f0.6018b.2301","type":"flat","value":2},{"name":"1e6a0.d1904.ff8e","type":"flat","value":2},{"name":"346d5.7861e.d3dc","type":"flat","value":2},{"name":"346d5.5be26.0870","type":"flat","value":2},{"name":"21ebe.c673f.7d27","type":"flat","value":2},{"name":"1bccb.84e7c.831c","type":"flat","value":2},{"name":"21ebe.9417b.988c","type":"flat","value":2}]}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"spotx","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.996}],"s2s":[],"bidder_name":"teads","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"telaria","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":0.998},{"name":"outstream","type":"percent","value":0.5},{"name":"stickyOutstream","type":"percent","value":0.58}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"tripl_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.994},{"name":"instream","type":"percent","value":1},{"name":"outstream","type":"percent","value":0.5},{"name":"stickyOutstream","type":"percent","value":0.58}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"triplelift","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.95},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"ttd","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[],"bidder_name":"undertone","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.841},{"name":"instream","type":"percent","value":0.556},{"name":"outstream","type":"percent","value":0.47}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"unruly","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.985}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"verizon","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.985},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.38}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"yahoossp","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.991}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"yieldmo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.988},{"name":"stickyOutstream","type":"percent","value":0.585},{"name":"instream","type":"percent","value":1},{"name":"outstream","type":"percent","value":0.5}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"appnexus","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"33across","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1},{"name":"outstream","type":"percent","value":0.6}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"krgo_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.984},{"name":"instream","type":"percent","value":0.95},{"name":"stickyOutstream","type":"percent","value":0.54}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"opnx_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"brightroll","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"resetdigital","enabled":true}],"predictiveAnalysis":[{"error_rate":"1.0","chrome":"0","adomain":"novavax.com","bidder":"opnx_ss","domain":"novavax.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"1.0","chrome":"0","adomain":"nucala.com","bidder":"ix","domain":"nucala.com","mobile":"0","report_date":"2022-12-13"},{"error_rate":"1.0","chrome":"0","adomain":"walgreens.com","bidder":"col_ss","domain":"walgreens.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"1.0","chrome":"0","adomain":"nucala.com","bidder":"ix","domain":"nucala.com","mobile":"0","report_date":"2022-12-13"},{"error_rate":"1.0","chrome":"0","adomain":"novavax.com","bidder":"opnx_ss","domain":"novavax.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"1.0","chrome":"0","adomain":"walgreens.com","bidder":"rubi_ss","domain":"walgreens.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"1.0","chrome":"0","adomain":"zejula.com","bidder":"ix","domain":"zejula.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"1.0","chrome":"1","adomain":"nucala.com","bidder":"ix","domain":"nucala.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"1.0","chrome":"0","adomain":"walgreens.com","bidder":"col_ss","domain":"walgreens.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"1.0","chrome":"0","adomain":"coinreau.com","bidder":"opnx_ss","domain":"coinreau.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"1.0","chrome":"0","adomain":"schlage.com","bidder":"rubicon","domain":"schlage.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9999521965677136","chrome":"0","adomain":"novavax.com","bidder":"sharethrough","domain":"novavax.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9998994267323745","chrome":"0","adomain":"novavax.com","bidder":"col_ss","domain":"novavax.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9998798798798799","chrome":"0","adomain":"novavax.com","bidder":"col_ss","domain":"novavax.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9998480820357007","chrome":"0","adomain":"novavax.com","bidder":"rubi_ss","domain":"novavax.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9998480820357007","chrome":"0","adomain":"novavax.com","bidder":"rubi_ss","domain":"novavax.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9998456790123457","chrome":"0","adomain":"novavax.com","bidder":"sharethrough","domain":"novavax.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9998335968050587","chrome":"0","adomain":"novavax.com","bidder":"rubi_ss","domain":"novavax.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9998335968050587","chrome":"0","adomain":"novavax.com","bidder":"rubi_ss","domain":"novavax.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9998272287491361","chrome":"0","adomain":"novavax.com","bidder":"rubicon","domain":"novavax.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9998272287491361","chrome":"0","adomain":"novavax.com","bidder":"rubicon","domain":"novavax.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9997988736926791","chrome":"0","adomain":"novavax.com","bidder":"col_ss","domain":"novavax.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9997784571757721","chrome":"0","adomain":"novavax.com","bidder":"rubicon","domain":"novavax.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9997784571757721","chrome":"0","adomain":"novavax.com","bidder":"rubicon","domain":"novavax.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9997597886139803","chrome":"0","adomain":"novavax.com","bidder":"col_ss","domain":"novavax.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9996575928779319","chrome":"0","adomain":"novartis.com","bidder":"col_ss","domain":"novartis.com","mobile":"0","report_date":"2022-12-13"},{"error_rate":"0.9996312004425595","chrome":"0","adomain":"novartis.com","bidder":"col_ss","domain":"novartis.com","mobile":"0","report_date":"2022-12-13"},{"error_rate":"0.9994054696789536","chrome":"0","adomain":"vitamix.com","bidder":"rubicon","domain":"vitamix.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9993671614313658","chrome":"0","adomain":"walgreens.com","bidder":"opnx_ss","domain":"walgreens.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.999166765861207","chrome":"0","adomain":"novartis.com","bidder":"col_ss","domain":"novartis.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9991372368572414","chrome":"0","adomain":"walgreens.com","bidder":"opnx_ss","domain":"walgreens.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9991341309823678","chrome":"0","adomain":"walgreens.com","bidder":"opnx_ss","domain":"walgreens.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9989398758140239","chrome":"1","adomain":"novavax.com","bidder":"rubicon","domain":"novavax.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9989289539450197","chrome":"0","adomain":"novartis.com","bidder":"col_ss","domain":"novartis.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9988196411709159","chrome":"0","adomain":"walgreens.com","bidder":"opnx_ss","domain":"walgreens.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9987886129618413","chrome":"1","adomain":"novavax.com","bidder":"rubicon","domain":"novavax.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9984876140808344","chrome":"0","adomain":"seedtag.com","bidder":"spotx","domain":"seedtag.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9982903060352197","chrome":"0","adomain":"novartis.com","bidder":"col_ss","domain":"novartis.com","mobile":"0","report_date":"2022-12-13"},{"error_rate":"0.9981587184680538","chrome":"0","adomain":"novartis.com","bidder":"col_ss","domain":"novartis.com","mobile":"0","report_date":"2022-12-13"},{"error_rate":"0.9961814162256314","chrome":"1","adomain":"pfizer.com","bidder":"sharethrough","domain":"pfizer.com","mobile":"0","report_date":"2022-12-13"},{"error_rate":"0.9956579423471233","chrome":"0","adomain":"lilly.com","bidder":"gumgum","domain":"lilly.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9953768207726409","chrome":"0","adomain":"mars.com","bidder":"gumgum","domain":"mars.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9950617283950617","chrome":"0","adomain":"mars.com","bidder":"gumgum","domain":"mars.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9947338457159123","chrome":"1","adomain":"pfizer.com","bidder":"col_ss","domain":"pfizer.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.994134432466709","chrome":"1","adomain":"pfizer.com","bidder":"col_ss","domain":"pfizer.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9939839572192514","chrome":"1","adomain":"pfizer.com","bidder":"sharethrough","domain":"pfizer.com","mobile":"0","report_date":"2022-12-13"},{"error_rate":"0.9935010229871224","chrome":"0","adomain":"lilly.com","bidder":"gumgum","domain":"lilly.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9927014129315992","chrome":"1","adomain":"gm.ca","bidder":"opnx_ss","domain":"gm.ca","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9925216478614537","chrome":"1","adomain":"pfizer.com","bidder":"sharethrough","domain":"pfizer.com","mobile":"0","report_date":"2022-12-13"},{"error_rate":"0.9917700112739571","chrome":"0","adomain":"mars.com","bidder":"gumgum","domain":"mars.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9912112676056338","chrome":"0","adomain":"mars.com","bidder":"gumgum","domain":"mars.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9910107089814743","chrome":"1","adomain":"digidayin.com","bidder":"gridvid","domain":"digidayin.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9907009455341096","chrome":"1","adomain":"digidayin.com","bidder":"gridvid","domain":"digidayin.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9901245169600686","chrome":"1","adomain":"digidayin.com","bidder":"gridvid","domain":"digidayin.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9897845308610181","chrome":"1","adomain":"digidayin.com","bidder":"gridvid","domain":"digidayin.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9882429784454605","chrome":"1","adomain":"pfizer.com","bidder":"sharethrough","domain":"pfizer.com","mobile":"0","report_date":"2022-12-13"},{"error_rate":"0.9878275812687957","chrome":"0","adomain":"lilly.com","bidder":"sharethrough","domain":"lilly.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9874374923771192","chrome":"1","adomain":"shopee.ph","bidder":"rubicon","domain":"shopee.ph","mobile":"0","report_date":"2022-12-13"},{"error_rate":"0.9871701767126604","chrome":"0","adomain":"diageo.com","bidder":"rubicon","domain":"diageo.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9867546255733649","chrome":"0","adomain":"seedtag.com","bidder":"spotx","domain":"seedtag.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9864614672529507","chrome":"0","adomain":"lilly.com","bidder":"opnx_ss","domain":"lilly.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9842514933928679","chrome":"0","adomain":"diageo.com","bidder":"rubicon","domain":"diageo.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9833660258925069","chrome":"0","adomain":"diageo.com","bidder":"rubicon","domain":"diageo.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9825104754964474","chrome":"1","adomain":"gm.ca","bidder":"ttd","domain":"gm.ca","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9805259417199715","chrome":"0","adomain":"lilly.com","bidder":"sharethrough","domain":"lilly.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9795998124120682","chrome":"0","adomain":"diageo.com","bidder":"rubicon","domain":"diageo.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9738564944134078","chrome":"0","adomain":"walgreens.com","bidder":"rubicon","domain":"walgreens.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9733920543169098","chrome":"1","adomain":"gm.ca","bidder":"opnx_ss","domain":"gm.ca","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9731543624161074","chrome":"1","adomain":"gm.ca","bidder":"ttd","domain":"gm.ca","mobile":"0","report_date":"2022-12-13"},{"error_rate":"0.9730129390018484","chrome":"1","adomain":"gm.ca","bidder":"triplelift","domain":"gm.ca","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9697844495765974","chrome":"0","adomain":"lilly.com","bidder":"sharethrough","domain":"lilly.com","mobile":"0","report_date":"2022-12-13"},{"error_rate":"0.9660659509202454","chrome":"0","adomain":"lilly.com","bidder":"sharethrough","domain":"lilly.com","mobile":"0","report_date":"2022-12-13"},{"error_rate":"0.9650116771905545","chrome":"0","adomain":"walgreens.com","bidder":"rubicon","domain":"walgreens.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.95897365532382","chrome":"1","adomain":"pfizer.com","bidder":"col_ss","domain":"pfizer.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9544901065449011","chrome":"1","adomain":"pfizer.com","bidder":"col_ss","domain":"pfizer.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9501381215469613","chrome":"0","adomain":"gm.ca","bidder":"ttd","domain":"gm.ca","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9405339805825242","chrome":"0","adomain":"lilly.com","bidder":"opnx_ss","domain":"lilly.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9373388855839778","chrome":"1","adomain":"gm.ca","bidder":"rubicon","domain":"gm.ca","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9305043050430505","chrome":"0","adomain":"gsk.com","bidder":"col_ss","domain":"gsk.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.92598452883263","chrome":"1","adomain":"walgreens.com","bidder":"opnx_ss","domain":"walgreens.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9256207078711041","chrome":"0","adomain":"mars.com","bidder":"rubicon","domain":"mars.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9206599411517444","chrome":"0","adomain":"mars.com","bidder":"rubicon","domain":"mars.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9172194582642343","chrome":"0","adomain":"walgreens.com","bidder":"rubicon","domain":"walgreens.com","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9151599443671766","chrome":"1","adomain":"gm.ca","bidder":"triplelift","domain":"gm.ca","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9073807467127364","chrome":"1","adomain":"gm.ca","bidder":"rubicon","domain":"gm.ca","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9044792228818133","chrome":"1","adomain":"shopee.ph","bidder":"rubi_ss","domain":"shopee.ph","mobile":"0","report_date":"2022-12-13"},{"error_rate":"0.9029923723841189","chrome":"1","adomain":"gm.ca","bidder":"rubicon","domain":"gm.ca","mobile":"0","report_date":"2022-12-13"},{"error_rate":"0.900961391728979","chrome":"1","adomain":"beiersdorf.co.za","bidder":"rubicon","domain":"beiersdorf.co.za","mobile":"1","report_date":"2022-12-13"},{"error_rate":"0.9006012024048096","chrome":"1","adomain":"gm.ca","bidder":"rubicon","domain":"gm.ca","mobile":"0","report_date":"2022-12-13"}],"country":"IN","coreExperiments":[{"variants":[{"weight":100,"value":"b"},{"weight":0,"value":"w"},{"weight":0,"value":"g25"},{"weight":0,"value":"g50"}],"type":"weightedChoice","abgroup":"tcmb","key":"TopCenterMobileBackground"},{"variants":[{"weight":95}],"type":"bernoulliTrial","abgroup":"delload","key":"EnableDelayLoading"},{"variants":[{"weight":99.5}],"type":"bernoulliTrial","abgroup":"amzn","key":"Amazon"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"pbm","key":"Playbackmethod"},{"variants":[{"weight":0,"value":"all"},{"weight":100,"value":"adx"},{"weight":0,"value":"off"}],"type":"weightedChoice","abgroup":"inters","key":"Interstitial"},{"variants":[{"weight":90,"value":"both"},{"weight":9,"value":"client"},{"weight":1,"value":"server"}],"type":"weightedChoice","abgroup":"magnitedr","key":"Rubicon"},{"variants":[{"weight":40,"value":"both"},{"weight":20,"value":"client"},{"weight":40,"value":"server"}],"type":"weightedChoice","abgroup":"opnxdr","key":"OpenX"},{"variants":[{"weight":40,"value":"both"},{"weight":20,"value":"client"},{"weight":40,"value":"server"}],"type":"weightedChoice","abgroup":"krgodr","key":"Kargo"},{"variants":[{"weight":99,"value":"none"},{"weight":0,"value":"rubicon"},{"weight":1,"value":"roxot"}],"type":"weightedChoice","abgroup":"pba","key":"Analytics"},{"variants":[{"weight":99,"value":"both"},{"weight":1,"value":"client"},{"weight":0,"value":"server"}],"type":"weightedChoice","abgroup":"tripleliftdr","key":"Triplelift"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"logfltr","key":"LoggerFilter"},{"variants":[{"weight":70,"value":500},{"weight":10,"value":300},{"weight":10,"value":200},{"weight":10,"value":50}],"type":"weightedChoice","abgroup":"deftimer2","key":"DelayLoading"},{"variants":[{"weight":25}],"type":"bernoulliTrial","abgroup":"wvtls","key":"WebVitals"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"loglevel","key":"ImpressionLog"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"sens_off","key":"SensOff"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"sab","key":"BidLimit"},{"variants":[{"weight":95}],"type":"bernoulliTrial","abgroup":"jwb","key":"JwBoost"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"logcls","key":"LayoutShift"},{"variants":[{"weight":60,"value":2},{"weight":10,"value":1.25},{"weight":10,"value":1},{"weight":10,"value":0.75},{"weight":10,"value":0.5}],"type":"weightedChoice","abgroup":"lzcvp","key":"ContentMargin"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"confiant","key":"ConfiantRefresh"},{"variants":[{"weight":40,"value":5000,"abvalue":"5s"},{"weight":40,"value":10000,"abvalue":"10s"},{"weight":20,"value":15000,"abvalue":"15s"}],"type":"weightedChoice","abgroup":"vast_to","key":"VastTimeout"},{"variants":[{"weight":25}],"type":"bernoulliTrial","abgroup":"AdDensityExperiment","key":"AdDensity"},{"variants":[{"weight":99}],"type":"bernoulliTrial","abgroup":"bmetrics","key":"BrandMetrics"},{"variants":[{"weight":95}],"type":"bernoulliTrial","abgroup":"rebuildslot","key":"RefreshRebuild"},{"variants":[{"weight":0.333}],"type":"bernoulliTrial","abgroup":"NielsenTrackerExperiment","key":"NielsenTracker"},{"variants":[{"weight":50,"value":4},{"weight":20,"value":5},{"weight":20,"value":6},{"weight":10,"value":7}],"type":"weightedChoice","abgroup":"mxrpog","key":"MaxRequests"},{"variants":[{"weight":99}],"type":"bernoulliTrial","abgroup":"vpred","key":"PredictiveAnalysis"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"vadv","key":"AdvancePlaylist"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"cnfep","key":"ConfiantEndpoint"},{"variants":[{"weight":95}],"type":"bernoulliTrial","abgroup":"tpcapi","key":"TopicsAPI"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"crtvmon","key":"CreativeMonitoring"},{"variants":[{"weight":0,"value":"fm"},{"weight":3,"value":"rubi"},{"weight":48,"value":"cm"},{"weight":48,"value":"fb"},{"weight":1,"value":"none"}],"type":"weightedChoice","abgroup":"flr","key":"RubiconFloors"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"amzn_hold_load","key":"AmazonHoldLoad"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"rmos1","key":"OneVideoStream"},{"variants":[{"weight":0,"value":"sovpcc"},{"weight":0,"value":"sovpct1"},{"weight":100,"value":"sovpct2"}],"type":"weightedChoice","abgroup":"socbe","key":"StickyCloseButton"},{"variants":[{"weight":5,"value":900000,"abvalue":"900"},{"weight":5,"value":600000,"abvalue":"600"},{"weight":5,"value":300000,"abvalue":"300"},{"weight":5,"value":-1,"abvalue":"tdoc"},{"weight":80,"value":0}],"type":"weightedChoice","abgroup":"mgtdtw","key":"TearDownPlayer"},{"variants":[{"weight":40,"value":0.75},{"weight":20,"value":0.25},{"weight":20,"value":0.125},{"weight":20,"value":0}],"type":"weightedChoice","abgroup":"lzbpvp","key":"BelowPostMargin"},{"variants":[{"weight":50}],"type":"bernoulliTrial","abgroup":"amzn_hold_disp","key":"AmazonHoldDisplay"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"dajto","key":"DisableAjaxTimeout"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"smad300","key":"RemoveLargeSidebar"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"rvadv_ab1","key":"AdvancePlaylistRelated"},{"variants":[{"weight":5,"value":6000,"abvalue":"6s"},{"weight":75,"value":4000,"abvalue":"4s"},{"weight":15,"value":2000,"abvalue":"2s"},{"weight":5,"value":0,"abvalue":"0s"}],"type":"weightedChoice","abgroup":"cbt","key":"CloseButtonTimeout"},{"variants":[{"weight":20,"value":10000,"abvalue":"10"},{"weight":60,"value":15000,"abvalue":"15"},{"weight":20,"value":20000,"abvalue":"20"}],"type":"weightedChoice","abgroup":"reqTo","key":"JwRequestTimeout"},{"variants":[{"weight":96,"value":0.9,"abvalue":"90"},{"weight":1,"value":0.85,"abvalue":"85"},{"weight":1,"value":0.8,"abvalue":"80"},{"weight":1,"value":0.75,"abvalue":"75"},{"weight":1,"value":0,"abvalue":"off"}],"type":"weightedChoice","abgroup":"vpred_1","key":"PredictiveAnalysis"},{"variants":[{"weight":3}],"type":"bernoulliTrial","abgroup":"LogAdDurationExperiment","key":"LogAdDuration"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"lzhb","key":"LZHB"},{"variants":[{"weight":0,"value":0,"abvalue":"off"},{"weight":0,"value":0.4,"abvalue":"40"},{"weight":0,"value":0.5,"abvalue":"50"},{"weight":100,"value":0.6,"abvalue":"60"},{"weight":0,"value":0.7,"abvalue":"70"}],"type":"weightedChoice","abgroup":"lzflr","key":"LazyLoadFloors"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"LogAdLifeCycleExperiment","key":"LogAdLifeCycle"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sppe50","key":"StickyPlayerPosition"},{"variants":[{"weight":100}],"type":"bernoulliTrial","abgroup":"sospp","key":"StickyOutstreamOnStickyPlayerPages"},{"variants":[{"weight":0}],"type":"bernoulliTrial","abgroup":"sidp","key":"SharedIdPlugin"},{"variants":[{"weight":100,"value":"tlo"}],"type":"weightedChoice","abgroup":"sicb","key":"StickyInstreamCloseButton"},{"variants":[{"weight":0,"value":"strict"},{"weight":100,"value":"relaxed"},{"weight":0,"value":"off"}],"type":"weightedChoice","abgroup":"dco","key":"DemandChain"},{"variants":[{"weight":25,"value":100},{"weight":50,"value":200,"abvalue":"off"},{"weight":25,"value":300}],"type":"weightedChoice","abgroup":"s2sbuff","key":"S2SBuffer"},{"variants":[{"weight":85,"value":0},{"weight":5,"value":1},{"weight":5,"value":500},{"weight":5,"value":1000}],"type":"weightedChoice","abgroup":"adt","key":"AuctionDelay"},{"variants":[{"weight":10,"value":1},{"weight":30,"value":1.3},{"weight":30,"value":1.1},{"weight":30,"value":1.2}],"type":"weightedChoice","abgroup":"refflr2","key":"FloorsRefresh"},{"variants":[{"weight":97,"value":1},{"weight":1,"value":1.1},{"weight":1,"value":1.2},{"weight":1,"value":1.3}],"type":"weightedChoice","abgroup":"refvidflr","key":"FloorsInstreamRefresh"},{"variants":[{"weight":33,"value":0},{"weight":33,"value":1},{"weight":34,"value":1.5}],"type":"weightedChoice","abgroup":"socon","key":"SuppressOutreamSlowConnection"},{"variants":[{"weight":0,"value":10000},{"weight":0,"value":15000},{"weight":0,"value":20000},{"weight":100,"value":25000},{"weight":0,"value":30000}],"type":"weightedChoice","abgroup":"cmpto","key":"CMPTimeout"},{"variants":[{"weight":25}],"type":"bernoulliTrial","abgroup":"upl","key":"UserPageDataLogging"},{"variants":[{"weight":1}],"type":"bernoulliTrial","abgroup":"rmosnv1","key":"OneVideoStreamNoVideo"},{"variants":[{"weight":10}],"type":"bernoulliTrial","abgroup":"UserPageDataPrivacyLoggingExperiment","key":"UserPageDataPrivacyLogging"},{"variants":[{"weight":10,"value":2000},{"weight":15,"value":2100},{"weight":50,"value":2200},{"weight":15,"value":2300},{"weight":10,"value":2400}],"type":"weightedChoice","abgroup":"ito_df","key":"InitialTimeoutDesktopFastExperiment"},{"variants":[{"weight":10,"value":2600},{"weight":15,"value":2700},{"weight":50,"value":2800},{"weight":15,"value":2900},{"weight":10,"value":3000}],"type":"weightedChoice","abgroup":"ito_ds","key":"InitialTimeoutDesktopSlowExperiment"},{"variants":[{"weight":10,"value":2400},{"weight":15,"value":2500},{"weight":50,"value":2600},{"weight":15,"value":2700},{"weight":10,"value":2800}],"type":"weightedChoice","abgroup":"ito_dn","key":"InitialTimeoutDesktopUnknownExperiment"},{"variants":[{"weight":10,"value":2400},{"weight":15,"value":2500},{"weight":50,"value":2600},{"weight":15,"value":2700},{"weight":10,"value":2800}],"type":"weightedChoice","abgroup":"ito_mf","key":"InitialTimeoutMobileFastExperiment"},{"variants":[{"weight":10,"value":2600},{"weight":15,"value":2700},{"weight":50,"value":2800},{"weight":15,"value":2900},{"weight":10,"value":3000}],"type":"weightedChoice","abgroup":"ito_ms","key":"InitialTimeoutMobileSlowExperiment"},{"variants":[{"weight":10,"value":2600},{"weight":15,"value":2700},{"weight":50,"value":2800},{"weight":15,"value":2900},{"weight":10,"value":3000}],"type":"weightedChoice","abgroup":"ito_mn","key":"InitialTimeoutMobileUnknownExperiment"},{"variants":[{"weight":5,"value":"id5Id"},{"weight":1,"value":"identityLink"},{"weight":1,"value":"unifiedId"},{"weight":1,"value":"sharedId"},{"weight":1,"value":"criteo"},{"weight":5,"value":"connectId"}],"type":"holdout","abgroup":"idho","key":"IDHO"},{"variants":[{"weight":0.5,"value":"ix_ebda"},{"weight":5,"value":"medianet_ebda"},{"weight":1,"value":"openx_ebda"},{"weight":1,"value":"pubmatic_ebda"},{"weight":1,"value":"rhythmone_ebda"},{"weight":6,"value":"rubicon_ebda"},{"weight":10,"value":"sharethrough_ebda"},{"weight":1,"value":"smart_ebda"},{"weight":1,"value":"sonobi_ebda"},{"weight":10,"value":"sovrn_ebda"},{"weight":1,"value":"emx_ebda"},{"weight":1,"value":"triplelift_ebda"},{"weight":36,"value":"verizon_ebda"},{"weight":10,"value":"yieldmo_ebda"},{"weight":1,"value":"xandr_ebda"}],"type":"holdout","abgroup":"ebho","key":"EBHO"},{"variants":[{"weight":5,"value":"ix_ebda"},{"weight":10,"value":"medianet_ebda"},{"weight":20,"value":"openx_ebda"},{"weight":5,"value":"pubmatic_ebda"},{"weight":5,"value":"rhythmone_ebda"},{"weight":5,"value":"rubicon_ebda"},{"weight":0,"value":"spotx_ebda"},{"weight":0,"value":"telaria_ebda"},{"weight":1,"value":"triplelift_ebda"},{"weight":1,"value":"verizon_ebda"},{"weight":5,"value":"emx_ebda"},{"weight":10,"value":"sharethrough_ebda"},{"weight":20,"value":"yieldmo_ebda"},{"weight":1,"value":"xandr_ebda"}],"type":"holdout","abgroup":"vebho","key":"VEBHO"},{"variants":[{"weight":1,"value":"ats"},{"weight":1,"value":"conf"},{"weight":1,"value":"hawk"},{"weight":1,"value":"tgtaff"},{"weight":96,"value":"none"}],"type":"weightedChoice","abgroup":"tkho","key":"TKHO"},{"variants":[{"weight":10,"value":"appnexus"},{"weight":1,"value":"colossus"},{"weight":1,"value":"conversant"},{"weight":1,"value":"criteo"},{"weight":1,"value":"gridvid"},{"weight":50,"value":"gumgum"},{"weight":0.5,"value":"ix"},{"weight":10,"value":"openx"},{"weight":1,"value":"pubmatic"},{"weight":10,"value":"roundel"},{"weight":1,"value":"rubicon"},{"weight":1,"value":"sharethrough"},{"weight":1,"value":"spotx"},{"weight":50,"value":"telaria"},{"weight":1,"value":"triplelift"},{"weight":1,"value":"ttd"},{"weight":1,"value":"unruly"},{"weight":1,"value":"yahoossp"},{"weight":1,"value":"kargo"},{"weight":1,"value":"33across"}],"type":"holdout","abgroup":"vbho","key":"VBHO"},{"variants":[{"weight":10,"value":"33across"},{"weight":1,"value":"appnexus"},{"weight":1,"value":"brightroll"},{"weight":10,"value":"conversant"},{"weight":1,"value":"criteo"},{"weight":0.5,"value":"grid"},{"weight":1,"value":"gumgum"},{"weight":1,"value":"kargo"},{"weight":0.5,"value":"ix"},{"weight":75,"value":"nativo"},{"weight":1,"value":"openx"},{"weight":1,"value":"pubmatic"},{"weight":10,"value":"roundel"},{"weight":1,"value":"rubicon"},{"weight":10,"value":"sharethrough"},{"weight":1,"value":"teads"},{"weight":0.5,"value":"triplelift"},{"weight":1,"value":"ttd"},{"weight":1,"value":"undertone"},{"weight":1,"value":"unruly"},{"weight":1,"value":"verizon"},{"weight":1,"value":"yahoossp"},{"weight":10,"value":"yieldmo"}],"type":"holdout","abgroup":"hbho","key":"HBHO"},{"variants":[{"weight":5,"value":"appnexus"},{"weight":90,"value":"grid"},{"weight":50,"value":"gumgum"},{"weight":1,"value":"openx"}],"type":"holdout","abgroup":"pbs2s","key":"S2S"},{"variants":[{"weight":75}],"type":"bernoulliTrial","abgroup":"testCf","key":"TestCloudfrontInvalidation"}]};

    adthrive.branch=adthrive.branch||"main f5cb2d1",adthrive.bucket=adthrive.bucket||"flex",adthrive.gdpr="false",adthrive.deployment=adthrive.deployment||"X";var adthrive=function(){"use strict";var e,t,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(e){!function(t){var s="object"==typeof i?i:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=r(e);function r(e,t){return function(i,s){"function"!=typeof e[i]&&Object.defineProperty(e,i,{configurable:!0,writable:!0,value:s}),t&&t(i,s)}}void 0===s.Reflect?s.Reflect=e:n=r(s.Reflect,n),function(e){var t=Object.prototype.hasOwnProperty,i="function"==typeof Symbol,s=i&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",n=i&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",r="function"==typeof Object.create,o={__proto__:[]}instanceof Array,a=!r&&!o,l={create:r?function(){return se(Object.create(null))}:o?function(){return se({__proto__:null})}:function(){return se({})},has:a?function(e,i){return t.call(e,i)}:function(e,t){return t in e},get:a?function(e,i){return t.call(e,i)?e[i]:void 0}:function(e,t){return e[t]}},d=Object.getPrototypeOf(Function),c="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,h=c||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ee():Map,p=c||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?te():Set,u=new(c||"function"!=typeof WeakMap?ie():WeakMap);function g(e,t,i,s){if(B(i)){if(!H(e))throw new TypeError;if(!$(t))throw new TypeError;return E(e,t)}if(!H(e))throw new TypeError;if(!L(t))throw new TypeError;if(!L(s)&&!B(s)&&!D(s))throw new TypeError;return D(s)&&(s=void 0),k(e,t,i=q(i),s)}function _(e,t){function i(i,s){if(!L(i))throw new TypeError;if(!B(s)&&!W(s))throw new TypeError;M(e,t,i,s)}return i}function m(e,t,i,s){if(!L(i))throw new TypeError;return B(s)||(s=q(s)),M(e,t,i,s)}function f(e,t,i){if(!L(t))throw new TypeError;return B(i)||(i=q(i)),T(e,t,i)}function y(e,t,i){if(!L(t))throw new TypeError;return B(i)||(i=q(i)),P(e,t,i)}function v(e,t,i){if(!L(t))throw new TypeError;return B(i)||(i=q(i)),A(e,t,i)}function b(e,t,i){if(!L(t))throw new TypeError;return B(i)||(i=q(i)),I(e,t,i)}function S(e,t){if(!L(e))throw new TypeError;return B(t)||(t=q(t)),O(e,t)}function C(e,t){if(!L(e))throw new TypeError;return B(t)||(t=q(t)),z(e,t)}function w(e,t,i){if(!L(t))throw new TypeError;B(i)||(i=q(i));var s=x(t,i,!1);if(B(s))return!1;if(!s.delete(e))return!1;if(s.size>0)return!0;var n=u.get(t);return n.delete(i),n.size>0||u.delete(t),!0}function E(e,t){for(var i=e.length-1;i>=0;--i){var s=(0,e[i])(t);if(!B(s)&&!D(s)){if(!$(s))throw new TypeError;t=s}}return t}function k(e,t,i,s){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t,i,s);if(!B(r)&&!D(r)){if(!L(r))throw new TypeError;s=r}}return s}function x(e,t,i){var s=u.get(e);if(B(s)){if(!i)return;s=new h,u.set(e,s)}var n=s.get(t);if(B(n)){if(!i)return;n=new h,s.set(t,n)}return n}function T(e,t,i){if(P(e,t,i))return!0;var s=Z(t);return!D(s)&&T(e,s,i)}function P(e,t,i){var s=x(t,i,!1);return!B(s)&&U(s.has(e))}function A(e,t,i){if(P(e,t,i))return I(e,t,i);var s=Z(t);return D(s)?void 0:A(e,s,i)}function I(e,t,i){var s=x(t,i,!1);if(!B(s))return s.get(e)}function M(e,t,i,s){x(i,s,!0).set(e,t)}function O(e,t){var i=z(e,t),s=Z(e);if(null===s)return i;var n=O(s,t);if(n.length<=0)return i;if(i.length<=0)return n;for(var r=new p,o=[],a=0,l=i;a<l.length;a++){var d=l[a];r.has(d)||(r.add(d),o.push(d))}for(var c=0,h=n;c<h.length;c++){d=h[c];r.has(d)||(r.add(d),o.push(d))}return o}function z(e,t){var i=[],s=x(e,t,!1);if(B(s))return i;for(var n=Q(s.keys()),r=0;;){var o=Y(n);if(!o)return i.length=r,i;var a=X(o);try{i[r]=a}catch(e){try{J(n)}finally{throw e}}r++}}function R(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function B(e){return void 0===e}function D(e){return null===e}function V(e){return"symbol"==typeof e}function L(e){return"object"==typeof e?null!==e:"function"==typeof e}function F(e,t){switch(R(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var i=3===t?"string":5===t?"number":"default",n=K(e,s);if(void 0!==n){var r=n.call(e,i);if(L(r))throw new TypeError;return r}return N(e,"default"===i?"number":i)}function N(e,t){if("string"===t){var i=e.toString;if(G(i))if(!L(n=i.call(e)))return n;if(G(s=e.valueOf))if(!L(n=s.call(e)))return n}else{var s;if(G(s=e.valueOf))if(!L(n=s.call(e)))return n;var n,r=e.toString;if(G(r))if(!L(n=r.call(e)))return n}throw new TypeError}function U(e){return!!e}function j(e){return""+e}function q(e){var t=F(e,3);return V(t)?t:j(t)}function H(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function G(e){return"function"==typeof e}function $(e){return"function"==typeof e}function W(e){switch(R(e)){case 3:case 4:return!0;default:return!1}}function K(e,t){var i=e[t];if(null!=i){if(!G(i))throw new TypeError;return i}}function Q(e){var t=K(e,n);if(!G(t))throw new TypeError;var i=t.call(e);if(!L(i))throw new TypeError;return i}function X(e){return e.value}function Y(e){var t=e.next();return!t.done&&t}function J(e){var t=e.return;t&&t.call(e)}function Z(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===d)return t;if(t!==d)return t;var i=e.prototype,s=i&&Object.getPrototypeOf(i);if(null==s||s===Object.prototype)return t;var n=s.constructor;return"function"!=typeof n||n===e?t:n}function ee(){var e={},t=[],i=function(){function e(e,t,i){this._index=0,this._keys=e,this._values=t,this._selector=i}return e.prototype["@@iterator"]=function(){return this},e.prototype[n]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var i=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:i,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var i=this._find(e,!0);return this._values[i]=t,this},t.prototype.delete=function(t){var i=this._find(t,!1);if(i>=0){for(var s=this._keys.length,n=i+1;n<s;n++)this._keys[n-1]=this._keys[n],this._values[n-1]=this._values[n];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new i(this._keys,this._values,s)},t.prototype.values=function(){return new i(this._keys,this._values,r)},t.prototype.entries=function(){return new i(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[n]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function s(e,t){return e}function r(e,t){return t}function o(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new h}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[n]=function(){return this.keys()},e}()}function ie(){var e=16,i=l.create(),s=n();return function(){function e(){this._key=n()}return e.prototype.has=function(e){var t=r(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=r(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return r(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=r(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=n()},e}();function n(){var e;do{e="@@WeakMap@@"+d()}while(l.has(i,e));return i[e]=!0,e}function r(e,i){if(!t.call(e,s)){if(!i)return;Object.defineProperty(e,s,{value:l.create()})}return e[s]}function o(e,t){for(var i=0;i<t;++i)e[i]=255*Math.random()|0;return e}function a(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e):o(new Array(e),e)}function d(){var t=a(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var i="",s=0;s<e;++s){var n=t[s];4!==s&&6!==s&&8!==s||(i+="-"),n<16&&(i+="0"),i+=n.toString(16).toLowerCase()}return i}}function se(e){return e.__=void 0,delete e.__,e}e("decorate",g),e("metadata",_),e("defineMetadata",m),e("hasMetadata",f),e("hasOwnMetadata",y),e("getMetadata",v),e("getOwnMetadata",b),e("getMetadataKeys",S),e("getOwnMetadataKeys",C),e("deleteMetadata",w)}(n)}()}(e||(e={})),function(e){e[e.Transient=0]="Transient",e[e.Singleton=1]="Singleton",e[e.ResolutionScoped=2]="ResolutionScoped",e[e.ContainerScoped=3]="ContainerScoped"}(t||(t={}));var s=t,n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},n(e,t)};function r(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],s=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var s,n,r=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return o}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}var d="injectionTokens";function c(e){return!!e.useClass}function h(e){return!!e.useFactory}var p=function(){function e(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return e.prototype.createProxy=function(e){var t,i=this,s=!1;return new Proxy({},this.createHandler((function(){return s||(t=e(i.wrap()),s=!0),t})))},e.prototype.createHandler=function(e){var t={};return this.reflectMethods.forEach((function(i){t[i]=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];t[0]=e();var n=Reflect[i];return n.apply(void 0,l(t))}})),t},e}();function u(e){return"string"==typeof e||"symbol"==typeof e}function g(e){return"object"==typeof e&&"token"in e&&"transform"in e}function _(e){return!!e.useToken}function m(e){return null!=e.useValue}var f=function(){function e(){this._registryMap=new Map}return e.prototype.entries=function(){return this._registryMap.entries()},e.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},e.prototype.get=function(e){this.ensure(e);var t=this._registryMap.get(e);return t[t.length-1]||null},e.prototype.set=function(e,t){this.ensure(e),this._registryMap.get(e).push(t)},e.prototype.setAll=function(e,t){this._registryMap.set(e,t)},e.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},e.prototype.clear=function(){this._registryMap.clear()},e.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},e}(),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(f),v=function(){this.scopedResolutions=new Map};function b(e,t,i){var s,n,r=a(e.toString().match(/constructor\(([\w, ]+)\)/)||[],2)[1],o=function(e,t){return null===e?"at position #"+t:'"'+e.split(",")[t].trim()+'" at position #'+t}(void 0===r?null:r,t);return s="Cannot inject the dependency "+o+' of "'+e.name+'" constructor. Reason:',void 0===n&&(n="    "),l([s],i.message.split("\n").map((function(e){return n+e}))).join("\n")}var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(f),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(f),w=function(){this.preResolution=new S,this.postResolution=new C},E=new Map,k=function(){function e(e){this.parent=e,this._registry=new y,this.interceptors=new w}return e.prototype.register=function(e,t,i){var n;if(void 0===i&&(i={lifecycle:s.Transient}),n=function(e){return c(e)||m(e)||_(e)||h(e)}(t)?t:{useClass:t},_(n))for(var r=[e],o=n;null!=o;){var a=o.useToken;if(r.includes(a))throw new Error("Token registration cycle detected! "+l(r,[a]).join(" -> "));r.push(a);var d=this._registry.get(a);o=d&&_(d.provider)?d.provider:null}if((i.lifecycle===s.Singleton||i.lifecycle==s.ContainerScoped||i.lifecycle==s.ResolutionScoped)&&(m(n)||h(n)))throw new Error('Cannot use lifecycle "'+s[i.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:n,options:i}),this},e.prototype.registerType=function(e,t){return u(t)?this.register(e,{useToken:t}):this.register(e,{useClass:t})},e.prototype.registerInstance=function(e,t){return this.register(e,{useValue:t})},e.prototype.registerSingleton=function(e,t){if(u(e)){if(u(t))return this.register(e,{useToken:t},{lifecycle:s.Singleton});if(t)return this.register(e,{useClass:t},{lifecycle:s.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var i=e;return t&&!u(t)&&(i=t),this.register(e,{useClass:i},{lifecycle:s.Singleton})},e.prototype.resolve=function(e,t){void 0===t&&(t=new v);var i=this.getRegistration(e);if(!i&&u(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"Single"),i){var s=this.resolveRegistration(i,t);return this.executePostResolutionInterceptor(e,s,"Single"),s}if(function(e){return"function"==typeof e||e instanceof p}(e)){s=this.construct(e,t);return this.executePostResolutionInterceptor(e,s,"Single"),s}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},e.prototype.executePreResolutionInterceptor=function(e,t){var i,s;if(this.interceptors.preResolution.has(e)){var n=[];try{for(var r=o(this.interceptors.preResolution.getAll(e)),a=r.next();!a.done;a=r.next()){var l=a.value;"Once"!=l.options.frequency&&n.push(l),l.callback(e,t)}}catch(e){i={error:e}}finally{try{a&&!a.done&&(s=r.return)&&s.call(r)}finally{if(i)throw i.error}}this.interceptors.preResolution.setAll(e,n)}},e.prototype.executePostResolutionInterceptor=function(e,t,i){var s,n;if(this.interceptors.postResolution.has(e)){var r=[];try{for(var a=o(this.interceptors.postResolution.getAll(e)),l=a.next();!l.done;l=a.next()){var d=l.value;"Once"!=d.options.frequency&&r.push(d),d.callback(e,t,i)}}catch(e){s={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(s)throw s.error}}this.interceptors.postResolution.setAll(e,r)}},e.prototype.resolveRegistration=function(e,t){if(e.options.lifecycle===s.ResolutionScoped&&t.scopedResolutions.has(e))return t.scopedResolutions.get(e);var i,n=e.options.lifecycle===s.Singleton,r=e.options.lifecycle===s.ContainerScoped,o=n||r;return i=m(e.provider)?e.provider.useValue:_(e.provider)?o?e.instance||(e.instance=this.resolve(e.provider.useToken,t)):this.resolve(e.provider.useToken,t):c(e.provider)?o?e.instance||(e.instance=this.construct(e.provider.useClass,t)):this.construct(e.provider.useClass,t):h(e.provider)?e.provider.useFactory(this):this.construct(e.provider,t),e.options.lifecycle===s.ResolutionScoped&&t.scopedResolutions.set(e,i),i},e.prototype.resolveAll=function(e,t){var i=this;void 0===t&&(t=new v);var s=this.getAllRegistrations(e);if(!s&&u(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"All"),s){var n=s.map((function(e){return i.resolveRegistration(e,t)}));return this.executePostResolutionInterceptor(e,n,"All"),n}var r=[this.construct(e,t)];return this.executePostResolutionInterceptor(e,r,"All"),r},e.prototype.isRegistered=function(e,t){return void 0===t&&(t=!1),this._registry.has(e)||t&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},e.prototype.reset=function(){this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},e.prototype.clearInstances=function(){var e,t;try{for(var i=o(this._registry.entries()),s=i.next();!s.done;s=i.next()){var n=a(s.value,2),r=n[0],l=n[1];this._registry.setAll(r,l.filter((function(e){return!m(e.provider)})).map((function(e){return e.instance=void 0,e})))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.createChildContainer=function(){var t,i,n=new e(this);try{for(var r=o(this._registry.entries()),l=r.next();!l.done;l=r.next()){var d=a(l.value,2),c=d[0],h=d[1];h.some((function(e){return e.options.lifecycle===s.ContainerScoped}))&&n._registry.setAll(c,h.map((function(e){return e.options.lifecycle===s.ContainerScoped?{provider:e.provider,options:e.options}:e})))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}return n},e.prototype.beforeResolution=function(e,t,i){void 0===i&&(i={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:t,options:i})},e.prototype.afterResolution=function(e,t,i){void 0===i&&(i={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:t,options:i})},e.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},e.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},e.prototype.construct=function(e,t){var i=this;if(e instanceof p)return e.createProxy((function(e){return i.resolve(e,t)}));var s=E.get(e);if(!s||0===s.length){if(0===e.length)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var n=s.map(this.resolveParams(t,e));return new(e.bind.apply(e,l([void 0],n)))},e.prototype.resolveParams=function(e,t){var i=this;return function(s,n){var r,o,a,d;try{return"object"==typeof(d=s)&&"token"in d&&"multiple"in d?g(s)?s.multiple?(r=i.resolve(s.transform)).transform.apply(r,l([i.resolveAll(s.token)],s.transformArgs)):(o=i.resolve(s.transform)).transform.apply(o,l([i.resolve(s.token,e)],s.transformArgs)):s.multiple?i.resolveAll(s.token):i.resolve(s.token,e):g(s)?(a=i.resolve(s.transform,e)).transform.apply(a,l([i.resolve(s.token,e)],s.transformArgs)):i.resolve(s,e)}catch(e){throw new Error(b(t,n,e))}}},e}(),x=new k;function T(e){return t=e,function(e,s,n){var r=Reflect.getOwnMetadata(d,e)||{};r[n]=i?{token:t,transform:i.transformToken,transformArgs:i.args||[]}:t,Reflect.defineMetadata(d,r,e)};var t,i}function P(){return function(e){E.set(e,function(e){var t=Reflect.getMetadata("design:paramtypes",e)||[],i=Reflect.getOwnMetadata(d,e)||{};return Object.keys(i).forEach((function(e){t[+e]=i[e]})),t}(e))}}function A(){return function(e){P()(e),x.registerSingleton(e)}}if("undefined"==typeof Reflect||!Reflect.getMetadata)throw new Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.");function I(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o}function M(e,t){return function(i,s){t(i,s,e)}}function O(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class z{constructor(e){this._wait=e,this._timeouts=new Map}async limit(e){return new Promise((t=>{this._timeouts.has(e)&&window.clearTimeout(this._timeouts.get(e));const i=window.setTimeout((()=>{t()}),this._wait);this._timeouts.set(e,i)}))}}class R{constructor(){this._listeners=new Set,this._emitted=0,this._pastEvents=[]}on(e,t){return this._listeners.add(e),(null==t?void 0:t.handleEventsAlreadyEmitted)&&this._pastEvents.forEach(e),()=>{this.off(e)}}off(e){this._listeners.delete(e)}once(e){const t=this.on(((...i)=>{t(),e(...i)}))}legacyOnce(){return new Promise((e=>{const t=this.on(((...i)=>(t(),e(...i))))}))}async legacyEmit(e){return this._pastEvents.push(e),Promise.all([...this._listeners].map((t=>t(e)))).then((e=>(this._emitted++,e)))}emit(e){this._pastEvents.push(e),[...this._listeners].forEach((t=>t(e))),this._emitted++}clear(){this._listeners.clear()}get count(){return this._listeners.size}get emitted(){return this._emitted}}let B=class{constructor(){this.sending=new R,this.logQueue=[],this.supressedEventLogNames=new Map([["SlotRenderEnded","adImpression"],["VideoUtils","getPlacementElement"]]),this.disableLogging=!1,this.queueLogs=!1}init(e){this.logFilter=e.loggerFilters||[],this.siteId=e.siteAds.siteId,this.siteName=e.siteAds.siteName,this.bucket=e.bucket,this.branch=e.branch,this.deployment=e.deployment,this.debug=e.debug}log(e,t,...i){this.call(console.log,e,t,...i)}info(e,t,...i){this.call(console.info,e,t,...i)}warn(e,t,...i){this.call(console.warn,e,t,...i)}error(e,t,...i){this.call(console.error,e,t,...i),this.makeRequest("send","error",e,t,...i).catch((e=>{console.error(e)}))}event(e,t,...i){(this.debug||!this.supressedEventLogNames.has(e)||this.supressedEventLogNames.get(e)!==t)&&this.call(console.log,e,t,...i),this.makeRequest("send","event",e,t,...i).catch((e=>{console.error(e)}))}fetchEvent(e,t,...i){this.call(console.log,e,t,...i),this.makeRequest("fetch","event",e,t,...i).catch((e=>{console.error(e)}))}call(e,t,i,...s){const n=this.logFilter;if(n&&n.length&&n.includes(t))return;const r=[`%c${t}::${i} `],o=["color: #999; font-weight: bold;"];s.length>0&&"string"==typeof s[0]&&r.push(s.shift()),o.push(...s);try{Function.prototype.apply.call(e,console,[r.join(""),...o])}catch(e){return void console.error(e)}}buildRequestUrl(e,t,i,s){const n=`https://logger.adthrive.com/${e}`,r=[`${t}::${i} `];s.length>0&&"string"==typeof s[0]&&r.push(s.shift());const o=s.map((e=>(e&&e.error&&(e=e.error),e instanceof Error&&(e={name:e.name,message:e.message,stack:e.stack}),e)));this.data&&o.push(this.data);return`${n}?${[`siteId=${encodeURIComponent(this.siteId||"")}`,`siteName=${encodeURIComponent(this.siteName||"")}`,`bucket=${encodeURIComponent(this.bucket||"")}`,`branch=${encodeURIComponent(this.branch||"")}`,`deployment=${encodeURIComponent(this.deployment||"")}`,`message=${encodeURIComponent(r.join("").trim())}`,`pageurl=${encodeURIComponent(window.location.origin+window.location.pathname)}`,`body=${encodeURIComponent(JSON.stringify(o))}`].join("&")}`}clearLogQueue(e){this.info("Logger","gdprEnforcement","clearLogQueue",e),e&&this.logQueue.forEach((e=>{"send"===e.action&&this.sendRequest(e.type,e.className,e.methodName,...e.args).catch((()=>{})),"fetch"===e.action&&this.fetchRequest(e.type,e.className,e.methodName,...e.args).catch((()=>{}))})),this.logQueue=[],this.queueLogs=!1}async makeRequest(e,t,i,s,...n){if(this.disableLogging)return this.info("Logger","gdprEnforcement","logging disabled"),Promise.resolve(!1);if(this.queueLogs){const r={action:e,type:t,className:i,methodName:s,args:n};return this.logQueue.push(r),this.info("Logger","gdprEnforcement","log queued"),Promise.resolve(!0)}return"send"===e?this.sendRequest(t,i,s,...n):this.fetchRequest(t,i,s,...n)}async sendRequest(e,t,i,...s){this.sending.emit();const n=this.buildRequestUrl(e,t,i,s);return n.length>8192?this.sendRequest(e,t,i,"Error query too large").catch((e=>{console.error(e)})):new Promise(((e,t)=>{const i=new XMLHttpRequest;i.open("get",n),i.addEventListener("load",(()=>200!==i.status?t(new Error(`Logger send request failed ${i.status}`)):e(i.responseText))),i.addEventListener("error",(()=>t(new Error("Logger send request failed")))),i.send()}))}async fetchRequest(e,t,i,...s){this.sending.emit();const n=this.buildRequestUrl(e,t,i,s);return fetch(n,{method:"GET",keepalive:!0,referrerPolicy:"no-referrer-when-downgrade"})}};B=I([P()],B);const D=new B,V=(e,t)=>e?"flat"===e.type?t-e.value:e.value*t:t,L=(e,t,i,s)=>{var n;const r=null==s?void 0:s.dealId,o=e.partners.getBidderConfig(i).cpmMap.get("pmp");if(r&&o){const e=null===(n=o.deals)||void 0===n?void 0:n.filter((e=>e.name===r.toString()))[0];return e?"flat"===o.type?V(e,t):o.value*V(e,t):V(o,t)}{const n=((e,t,i)=>{const s=e.video.instreamAdUnits.has(null==i?void 0:i.adUnitCode),n=i.adUnitCode&&i.adUnitCode.includes("Video_StickyOutstream"),r=s?"instream":n?"stickyOutstream":s||n||!("vastUrl"in i)&&!("vastXml"in i)?"default":"outstream";return e.partners.getBidderConfig(t).cpmMap.get(e.partners.getBidderConfig(t).cpmMap.has(r)?r:"default")})(e,i,s);return V(n,t)}},F=navigator.userAgent,N=navigator.vendor,U=e=>/Edge\/|Edg\//.test(e||F),j=e=>/Trident|MSIE/.test(e||F),q=e=>/Opera|OPR/.test(e||F),H=(e,t)=>/Chrom/.test(e||F)&&/Google/.test(t||N)&&!U(e)&&!q(e),G=(e,t)=>/Safari/.test(e||F)&&/Apple Computer/.test(t||N)&&!U(e)&&!q(e),$=(e,t)=>H(e,t)?"Chrome":G(e,t)?"Safari":U(e)?"Edge":(e=>/Firefox/.test(e||F))(e)?"Firefox":q(e)?"Opera":j(e)?"IE":"Others",W=()=>{const e=document.querySelector(".adthrive-footer");let t=52;return e&&"none"===e.style.display?t=102:e&&(t=Math.max(e.getBoundingClientRect().height,t)),t},K=(e,t,i,s)=>{const n=document.createElement(e);return t&&n.setAttribute("id",t),i&&(n.className=i),s&&(n.innerHTML=s),n},Q=(e,t)=>null==e||e!=e?t:e,X=e=>new Promise((t=>{setTimeout(t,e)})),Y=(e,t)=>{const i=window.innerWidth;return i>=t?"desktop":i>=e?"tablet":"phone"},J=()=>new Promise((e=>{if("interactive"===document.readyState||"complete"===document.readyState)return e();document.addEventListener("DOMContentLoaded",(()=>e()))})),Z=e=>{const t=e.offsetHeight,i=e.offsetWidth,s=e.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,a=window.pageXOffset||r.scrollLeft||n.scrollLeft,l=r.clientTop||n.clientTop||0,d=r.clientLeft||n.clientLeft||0,c=Math.round(s.top+o-l),h=Math.round(s.left+a-d);return{top:c,left:h,bottom:c+t,right:h+i,width:i,height:t}},ee=e=>(e=>{const t=e.match(/([a-zA-Z0-9._!#$%+^&*()[\]<>-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi);return t?t[0]:""})((e=>e.replace(/\s/g,""))(e.toLowerCase())),te=(e,t,i)=>i.indexOf(e)===t,ie=()=>{const e=navigator.userAgent,t=/Tablet|iPad|Playbook|Nook|webOS|Kindle|Android (?!.*Mobile).*Safari/i.test(e);return/Mobi|iP(hone|od)|Opera Mini/i.test(e)&&!t},se=e=>ie()&&"Content"===e.location&&1===e.refreshCount?60:80,ne=e=>e.refreshCount>0?se(e):e.viewability?Math.min(10*Math.floor(100*e.viewability/10),80):0,re=(e,t,i=document)=>{const s=((e=document)=>{const t=e.querySelectorAll("article");if(0===t.length)return null;const i=Array.from(t).reduce(((e,t)=>t.offsetHeight>e.offsetHeight?t:e));return i&&i.offsetHeight>1.5*window.innerHeight?i:null})(i),n=s?[s]:[],r=[];e.forEach((e=>{const s=Array.from(i.querySelectorAll(e.elementSelector)).slice(0,e.skip);var o;(o=e.elementSelector,o.includes(",")?o.split(","):[o]).forEach((o=>{const a=i.querySelectorAll(o);for(let i=0;i<a.length;i++){const o=a[i];if(t.map.some((({el:e})=>e.isEqualNode(o))))continue;const l=o&&o.parentElement;l&&l!==document.body?n.push(l):n.push(o),-1===s.indexOf(o)&&r.push({dynamicAd:e,element:o})}}))}));const o=((e=document)=>(e===document?document.body:e).getBoundingClientRect().top)(i),a=r.sort(((e,t)=>e.element.getBoundingClientRect().top-o-(t.element.getBoundingClientRect().top-o)));return[n,a]},oe=(e,t,i=document)=>{const[s,n]=re(e,t,i);if(0===s.length)throw Error("No Main Content Elements Found");return[Array.from(s).reduce(((e,t)=>t.offsetHeight>e.offsetHeight?t:e))||document.body,n]},ae="div #comments, section .comments",le=(e,t=ae)=>{const i=e.querySelector(t);return i?e.offsetHeight-i.offsetHeight:e.offsetHeight},de=e=>new Promise(((t,i)=>{fetch(e).then((e=>{e.json().then((e=>t(e))).catch((()=>i(!1)))})).catch((()=>i(!1)))})),ce=(e,t)=>{try{const i={value:t,created:Date.now()};localStorage.setItem(`adthrive_${e.toLowerCase()}`,JSON.stringify(i))}catch(e){}},he=(e,t,i=!1)=>{try{const s=localStorage.getItem(`adthrive_${e.toLowerCase()}`);if(s){const n=JSON.parse(s),r=void 0!==t&&Date.now()-n.created>=t;if(n&&!r)return i&&ce(e,n.value),n.value}}catch(e){}return null},pe=e=>null!=e&&!("number"==typeof e&&isNaN(e)),ue=e=>{const t=e.split("."),i=t.length;return i>2&&(e=t[i-2]+"."+t[i-1],2!==t[i-2].length&&3!==t[i-2].length||2!==t[i-1].length||(e=t[i-3]+"."+e)),e},ge=()=>{if(document.referrer&&document.referrer.length){const e=(e=>{const t=document.createElement("a");return t.href=e,t.hostname})(document.referrer);if(ue(e)!==ue(window.location.hostname))return e}},_e=(e=18e5)=>{const t=he("referrer",e),i=ge();return Q(i,t)},me=e=>new Promise(((t,i)=>{fetch(e).then((e=>{e.text().then((e=>{"string"==typeof e?t(e):i("Vast XML not in proper format")})).catch((e=>{i(e)}))})).catch((e=>i(e)))})),fe=(e,t=!1,i=!1)=>new Promise(((s,n)=>{const r=document.createElement("script");r.addEventListener("error",(()=>n(new Error(`Failed to import script ${e}`)))),r.addEventListener("load",(()=>s(r))),r.type="text/javascript",r.src=e,r.defer=i,((e,t)=>{const i=document.getElementsByTagName("script")[0];i&&i.parentNode&&!t?i.parentNode.insertBefore(e,i):document.body.appendChild(e)})(r,t)})),ye=(e,t,i)=>{const s=document.createElement("link");s.rel=t,s.href=e,i&&i.length&&i.forEach((e=>{s.setAttribute(e.name,e.value)})),document.head.appendChild(s)},ve=["Refresh","PD","Source","Browser","Topic","MCMP","Sens"],be=(e,t,i=!1)=>{t.addToQueue((()=>{const s=t.getConfig("ix")||{firstPartyData:{}},n={...s.firstPartyData,...e},r={};ve.forEach((e=>{e in n&&(r[e]=n[e])}));for(const e in n)ve.includes(e)||(r[e]=n[e]);s.firstPartyData=r,i&&delete s.firstPartyData.Refresh,t.setConfig({ix:s})}))},Se=e=>e?(e=>{const t={google:"google",facebook:"facebook",instagram:"instagram",pinterest:"pinterest"};return e.split(".").filter((e=>t[e]))[0]||"other"})(e):"direct",Ce=["Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Content","Native_Recipe_1","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Recipe_5"],we=[50,60,70,80],Ee=({event:e,ignoreOtherCompanyIds:t=!1})=>{const i=new Set([-1,0,1,199612376,2143809321]),s=new Set([4455444655,4460609902,4463579729,4464180925,4466143841,4550726766,4623743690,4623743882,4634020290,4642901988,4697115760,4801442281,4802163255,4805985973,4807636548,4867316569]),n=!e.campaignId||i.has(e.campaignId),r=!e.companyIds||e.companyIds&&!e.companyIds.some((e=>s.has(e)));return t?n:n&&r},ke=()=>{if(navigator&&navigator.webdriver)return"wdv"},xe=()=>{if(navigator&&navigator.hardwareConcurrency>16)return"hwv"},Te=()=>{if(navigator&&navigator.userAgent&&/python|apis|googleweblight|spider|crawler|curl|wget|ia_archiver|insights|baidu|bot|monitor|scraper|A6-Indexer|addthis|admantx|agentslug|alexa|anderspink|apache-httpclient|apachebench|apis-google|appengine-google|ask jeeves|asynchttpclient|awe.sm|baidu|barkrowler|biglotron|bingpreview|brandverify|bubing|butterfly|buzztalk|cf-uc|check_http|cloudflare|cmradar\/0.1|coldfusion|comodo ssl checker|convera|copypants|crowsnest|curl|dap\/nethttp|daumoa|developers.google.com\/\+\/web\/snippet\/|digitalpersona fingerprint software|drupact|duckduck|elb-healthchecker|embedly|eoaagent|europarchive|eventmachine httpclient|evrinid|exaleadcloudview|ezooms|ez publish|facebookexternalhit|feedburner|feedfetcher-google|findlink|findthatfile|flipboardproxy|garlik|genieo|getprismatic.com|ghost|gigablast|go http package|google( page speed insights| web preview|google-site-verification|-structured-data-testing-tool|-structureddatatestingtool)|hatena|headless|heritrix|htmlparser|http(_request2|client|s|unit)|httrack|hubspot|ichiro|icoreservice|idmarch|in(agist|sieve|stapaper)|ips-agent|jack|jakarta commons|java|jetslide|jobseeker|js-kit|kimengi|knows.is|kraken|laconica|libwww|lighthouse|linode|lipperhey|longurl|ltx71|lwp-trivial|mappydata|mastodon|mediapartners-google|megaindex.ru|metauri|mfe_expand|mixnode|mon(tastic|tools)|moreover|mrchrome|nberta|net(craft|researchserver|state|vibes)|newrelicpinger|newspaper|newsme|ning|nmap|nutch|online-domain-tools|paessler|page(peek|sinventory|thing)|panopta|peerindex|phantomjs|pingdom|plukkie|proximic|pu_in|publiclibraryarchive.org|python-(httplib2|requests|urllib)|quanti|queryseeker|quicklook|qwanti|re-animator|readability|rebelmouse|relateiq|riddler|rssmicro|ruby|scrapy|seo-audit|seodiver|seokicks|shopwiki|shortlinktranslate|siege|sistrix|site24x7|siteexplorer|skypeuripreview|slack|slurp|socialrank|sogou|spinn3r|squider|statuscake|stripe|summify|teeraid|teoma|test certificate info|tineye|traackr|tweetedtimes|twikle|twitjobsearch|twitmunin|twurly|typhoeus|unwindfetch|uptim(e|ia)|uptm.io|vagabondo|vb project|vigil|vkshare|wappalyzer|watchsumo|webceo|webdatascout|webmon|webscout|wesee|wget|whatsapp|whatweb|wikido|wordpress|wormly|wotbox|xenu link sleuth|xing-contenttabreceiver|yandex|yanga|yeti|yff35|yourls|zelist.ro|zibb|^Mozilla\/5\.0$|Viv\/2/i.test(window.navigator.userAgent))return"uav"},Pe=()=>{const e={width:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)};if(e.width>5e3||e.height>5e3)return"vpv"},Ae=()=>{const e=document.createElement("canvas"),t=e.getContext&&e.getContext("webgl"),i=t&&t.getExtension&&t.getExtension("WEBGL_debug_renderer_info");if(i&&i.UNMASKED_RENDERER_WEBGL){if("Google SwiftShader"===(t&&t.getParameter(i.UNMASKED_RENDERER_WEBGL)))return"wglv"}},Ie=(e=navigator.userAgent)=>/Windows NT|Macintosh/i.test(e),Me=e=>!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length),Oe=e=>!Me(e);var ze,Re,Be,De,Ve,Le,Fe,Ne,Ue,je;!function(e){e.Prebid="prebid",e.GAM="gam",e.Amazon="amazon",e.WebVitals="webvitals",e.Marmalade="marmalade",e.Floors="floors",e.CMP="cmp"}(ze||(ze={})),function(e){e.fpvNonLazy="fpvNonLazy",e.lazy="lazy",e.refresh="refresh",e.session="session",e.crossDomain="crossdomain",e.highSequence="highsequence"}(Re||(Re={})),function(e){e.prebidLoad="prebidLoad",e.amazonLoad="amazonLoad",e.gptLoad="gptLoad"}(Be||(Be={})),function(e){e.Desktop="desktop",e.Mobile="mobile"}(De||(De={})),function(e){e.Video_Collapse_Autoplay_SoundOff="Video_Collapse_Autoplay_SoundOff",e.Video_Individual_Autoplay_SOff="Video_Individual_Autoplay_SOff",e.Video_Coll_SOff_Smartphone="Video_Coll_SOff_Smartphone",e.Video_In_Post_ClicktoPlay_SoundOn="Video_In-Post_ClicktoPlay_SoundOn"}(Ve||(Ve={})),function(e){e.None="none"}(Le||(Le={})),function(e){e.WEIGHTEDCHOICE="weightedChoice",e.BERNOULLITRIAL="bernoulliTrial"}(Fe||(Fe={})),function(e){e.INTEGER="integer",e.FLOAT="float",e.BOOLEAN="boolean",e.STRING="string"}(Ne||(Ne={})),function(e){e.DESKTOP="desktop",e.MOBILE="mobile",e.ALL="all"}(Ue||(Ue={})),function(e){e.AdDensity="addensity",e.FooterCloseButton="footerclose",e.Interstitial="interstitial",e.RemoveVideoTitleWrapper="removevideotitlewrapper",e.StickyOutstream="stickyoutstream",e.StickyOutstreamOnStickyPlayer="sospp",e.VideoAdvancePlaylistRelatedPlayer="videoadvanceplaylistrp",e.MobileStickyPlayerPosition="mspp"}(je||(je={}));const qe=(e,t,i)=>{switch(t){case je.AdDensity:return((e,t)=>{const i=e.adDensityEnabled,s=e.adDensityLayout.pageOverrides.find((e=>!!document.querySelector(e.pageSelector)&&(e[t].onePerViewport||"number"==typeof e[t].adDensity)));return!i||!s})(e,i);case je.StickyOutstream:return(e=>{var t,i,s;const n=null===(s=null===(i=null===(t=e.videoPlayers)||void 0===t?void 0:t.partners)||void 0===i?void 0:i.stickyOutstream)||void 0===s?void 0:s.blockedPageSelectors;return!n||!document.querySelector(n)})(e);case je.Interstitial:return(e=>{const t=e.adOptions.interstitialBlockedPageSelectors||e.adOptions.mobileInterstitialBlockedPageSelectors;return!t||!document.querySelector(t)})(e);default:return!0}},He=(e,t)=>{if(e.length<=1)return 0;if(e.sort(((e,t)=>e-t)),t<=0)return e[0];if(t>=1)return e[e.length-1];const i=t*(e.length+1),s=Math.floor(i)-1,n=s+1,r=Number((i%1).toFixed(1));return i<1?e[0]:n>=e.length?e[s]:e[s]+r*(e[n]-e[s])},Ge=()=>{try{return Math.round(window.performance.now())}catch(e){return 0}},$e=(e,t=33)=>{const i=Object.keys(e).reduce(((i,s)=>{const n=e[s].map((e=>((e,t)=>parseInt(e,t)/1e5)(e,t)));return{...i,[s]:[...n]}}),{});return i},We=(e,t=33)=>{const i=Object.keys(e).reduce(((i,s)=>{const n=e[s].map((e=>((e,t)=>Math.floor(1e5*e).toString(t))(e,t)));return{...i,[s]:n}}),{});return i},Ke=()=>new Promise((e=>{if("complete"===document.readyState)return e();window.addEventListener("load",(()=>e()))})),Qe=(e=window.location.search)=>{const t=0===e.indexOf("?")?1:0;return e.slice(t).split("&").reduce(((e,t)=>{const[i,s]=t.split("=");return e.set(i,s),e}),new Map)},Xe=e=>e.split("&").reduce(((e,t)=>{const[i,s]=t&&t.split("=");return i&&s&&(e[i]=s),e}),{}),Ye=e=>{const t=RegExp("(^|[^;]+)\\s*"+e+"\\s*=\\s*([^;]+)").exec(document.cookie);return t?t.pop():""},Je=()=>(new Date).getTimezoneOffset()<(()=>{const e=new Date((new Date).getFullYear(),0,1),t=new Date((new Date).getFullYear(),6,1);return Math.max(e.getTimezoneOffset(),t.getTimezoneOffset())})(),Ze=()=>Date.now(),et=(e,t)=>{if("Intl"in window){const t=Intl.DateTimeFormat().resolvedOptions().timeZone;return e.some((e=>t===e))}return t.some((e=>(new Date).getTimezoneOffset()===(Je()?e-60:e)))},tt=()=>et(["Pacific/Auckland"],[-720])||et(["Pacific/Honolulu"],[600])||et(["America/Phoenix"],[420])||et(["America/Los_Angeles"],[480]),it=e=>void 0!==e,st=(e,t)=>!(!e||"object"!=typeof e||!(t in e)),nt=e=>{const t=window.location.href;return e.some((e=>new RegExp(e,"i").test(t)))},rt=(e,t)=>{if(t)for(const t of pbjs.getUserIdsAsEids())if(t.source&&t.source===e&&t.uids&&t.uids.length>0&&t.uids[0].id)return t.uids[0].id;return null},ot=e=>{try{return{valid:!0,elements:document.querySelectorAll(e)}}catch(e){return{valid:!1,...e}}},at=e=>""===e?{valid:!0}:ot(e),lt=(e,t)=>{if(!e)return!1;const i=!!e.enabled,s=null==e.dateStart||Date.now()>=e.dateStart,n=null==e.dateEnd||Date.now()<=e.dateEnd,r=null===e.selector||""!==e.selector&&!!document.querySelector(e.selector),o="mobile"===e.platform&&"mobile"===t,a="desktop"===e.platform&&"desktop"===t,l=null===e.platform||"all"===e.platform||o||a,d="bernoulliTrial"===e.experimentType?1===e.variants.length:(e=>{const t=e.reduce(((e,t)=>t.weight?t.weight+e:e),0);return e.length>0&&e.every((e=>{const t=e.value,i=e.weight;return!(null==t||"number"==typeof t&&isNaN(t)||!i)}))&&100===t})(e.variants);return d||D.error("ValidateSiteExperiment","util","experiment presented invalid choices for key:",e.key,e.variants),i&&s&&n&&r&&l&&d},dt=["siteId","siteName","adOptions","breakpoints","adUnits"],ct=(e,t=dt)=>{if(!e)return!1;for(let i=0;i<t.length;i++)if(!e[t[i]])return!1;return!0},ht=(e,t,i,s,n,r)=>{const o=Math.round(r-n),a=[],l=[];a.push("(",i.map((()=>"%o")).join(", "),")"),l.push(...i),void 0!==s&&(a.push(" => %o"),l.push(s)),a.push(` %c(${o}ms)`),l.push("color: #999;")},pt=(e,t,i)=>{const s=void 0!==i.get?i.get:i.value;return function(...i){try{const n=Ge(),r=s.apply(this,i);if(r instanceof Promise)return r.then((e=>{const t=Ge();return ht(0,0,i,e,n,t),Promise.resolve(e)})).catch((i=>{throw i.logged||(D.error(e,t,i),i.logged=!0),i}));{const e=Ge();return ht(0,0,i,r,n,e),r}}catch(i){throw i.logged||(D.error(e,t,i),i.logged=!0),i}}},ut=(e,t=!1)=>i=>{const s=Object.getOwnPropertyNames(i.prototype).filter((e=>t||0!==e.indexOf("_"))).map((e=>[e,Object.getOwnPropertyDescriptor(i.prototype,e)]));for(const[t,n]of s)void 0!==n&&"function"==typeof n.value?i.prototype[t]=pt(e,t,n):void 0!==n&&void 0!==n.get&&"function"==typeof n.get&&Object.defineProperty(i.prototype,t,{...n,get:pt(e,t,n)})},gt=()=>(e,t,i)=>{const s=i.value;s&&(i.value=function(...e){var t;const i=Array.isArray(this._choices)?(e=>{let t=5381,i=e.length;for(;i;)t=33*t^e.charCodeAt(--i);return t>>>0})(JSON.stringify(this._choices)).toString(16):null;const n=this.key?this.key.toLowerCase():"",r=i?`${n}_${i}`:n,o=this.sessionStoragePrefix?`${this.sessionStoragePrefix}-${r}`:r;return!1===(null===(t=he("branch"))||void 0===t?void 0:t.enabled)&&(e=>{localStorage.removeItem(`adthrive_${e.toLowerCase()}`)})(o),((e,t,i,s=!0,n)=>{const r="abgroup",o=he(r,i,s);if(null!==o){const t=o[e];if(pe(t))return t}const a=t(),l={...o,[e]:a};return ce(r,l),n&&n(),a})(o,(()=>s.apply(this,e)),864e5)})},_t="0123456789ABCDEFGHJKMNPQRSTVWXYZ",mt=_t.length,ft=Math.pow(2,48)-1,yt=e=>{let t=Math.floor(e()*mt);return t===mt&&(t=mt-1),_t.charAt(t)},vt=(e,t)=>{if(isNaN(e))throw new Error(`${e} must be a number`);if(e>ft)throw(e=>{const t=new Error(e);return t.source="ulid",t})(`cannot encode time greater than ${ft}`);let i,s="";for(;t>0;t--)i=e%mt,s=_t.charAt(i)+s,e=(e-i)/mt;return s},bt=()=>vt(Date.now(),10)+((e,t)=>{let i="";for(;e>0;e--)i=yt(t)+i;return i})(16,(()=>(()=>{if(window.crypto){const e=new Uint8Array(1);return crypto.getRandomValues(e),e[0]/255}return Math.random()})())),St=e=>new Promise((t=>setTimeout(t,e)));let Ct=class{constructor(){this._map=new Map,this.setAbGroup=!Qe().has("at_features")}set(e,t){this.setAbGroup&&this._map.set(e,t)}get(e){return this._map.get(e)}get groups(){const e=[];for(const[t,i]of this._map)e.push(`${t}:${i}`);return e}get groupsAsObject(){const e={};for(const t of this._map.keys()){const i=this._map.get(t);i&&(e[t]=i)}return e}};Ct=I([A(),O("design:paramtypes",[])],Ct);let wt=class extends Ct{};wt=I([A()],wt);let Et=class{constructor(e){this._validExperiments=this._getValidExperiments(e),this.coreExperiments=this._validExperiments.map((({variants:e,abgroup:t})=>({variants:e,abgroup:t})))}getCoreExperiment(e){const t=this._validExperiments.find((({abgroup:t})=>t===e));return"bernoulliTrial"===(null==t?void 0:t.type)&&(t.variants[0].weight=t.variants[0].weight/100),t}getWeightedChoiceVariants(e){const t=this.getCoreExperiment(e);return t&&"weightedChoice"===t.type?t.variants.map((e=>({choice:e.value,weight:e.weight,...e.abvalue?{abvalue:e.abvalue}:{}}))):null}_getValidExperiments(e=[]){return e.filter((({type:e,variants:t,key:i})=>"weightedChoice"===e?this._isValidWeightedChoice(t,i):"bernoulliTrial"===e&&this._isValidBernoulliTrial(t,i)))}_isValidWeightedChoice(e,t){const i=(e=>{let t=0;return e.forEach((e=>{e.weight&&(t+=e.weight)})),e.length>0&&e.every((e=>!(!e.hasOwnProperty("value")||!e.hasOwnProperty("weight"))))&&100===t})(e);return i||this._invalidExperiment(t),i}_isValidBernoulliTrial(e,t){const i=1===e.length;return i||this._invalidExperiment(t),i}_invalidExperiment(e){D.error("CoreExperimentConfig","_invalidExperiment","Experiment Validation failed for key: ",e)}};Et=I([A(),M(0,T("CoreExperimentValues")),O("design:paramtypes",[Array])],Et);let kt=class{constructor(){this.adthriveExperimentOverrides=this.getExperimentOverrides()}getExperimentOverrides(){let e={};const t=Qe().get("at_features");if(t)try{const i=decodeURIComponent(t);e=JSON.parse(i),D.event("ExperimentOverrides","getExperimentOverrides","at_features",e)}catch(e){}return e}hasValidOverride(e,t){if(e in this.adthriveExperimentOverrides){const i=this.adthriveExperimentOverrides[e];return this.isValidExperimentOverride(t,i)}return!1}useOverride(e){return this.adthriveExperimentOverrides[e]}isValidExperimentOverride(e,t){if(0===e.length)return!1;const i=Array.isArray(e[0])?"array":typeof e[0];if("array"===i){if(!Array.isArray(t))return!1;if(t.some((t=>!e.includes(t)))&&t.map((e=>"["+JSON.stringify(e)+"]")).some((t=>!e.map((e=>JSON.stringify(e))).includes(t)))&&!e.map((e=>JSON.stringify(e))).includes(JSON.stringify(t)))return!1}else if("object"===i){if(!e.map((e=>JSON.stringify(e))).includes(JSON.stringify(t)))return!1}else if(!e.includes(t))return!1;return!0}};kt=I([A(),O("design:paramtypes",[])],kt);class xt{constructor(){this.shouldUseCoreExperimentsConfig=!0;const e=this.run.bind(this);this.run=()=>{var t;const i=x.resolve(kt),s=null===(t=this._choices)||void 0===t?void 0:t.map((e=>e.choice));return s&&i.hasValidOverride(this.key,s)?i.useOverride(this.key):e()}}}class Tt{}class Pt extends Tt{constructor(e){super(),this._probability=e}get(){if(this._probability<0||this._probability>1)throw new Error("Invalid probability");return Math.random()<this._probability}}class At extends Tt{constructor(e=[],t){super(),this._choices=e,this._default=t}static fromArray(e,t){return new At(e.map((([e,t])=>({choice:e,weight:t}))),t)}addChoice(e,t){this._choices.push({choice:e,weight:t})}get(){const e=(t=0,i=100,Math.random()*(i-t)+t);var t,i;let s=0;for(const{choice:t,weight:i}of this._choices)if(s+=i,s>=e)return t;return this._default}get totalWeight(){return this._choices.reduce(((e,{weight:t})=>e+t),0)}}let It=class{};It=I([A()],It);let Mt=class extends It{constructor(){super(),this.marmaladeResponseLoaded=new R,this.recencyFrequencyDataSet=new R}};Mt=I([A(),O("design:paramtypes",[])],Mt);let Ot=class extends It{constructor(){super(...arguments),this.targetingReady=new R}};Ot=I([A()],Ot);let zt=class extends It{constructor(){super(...arguments),this.addSlots=new R,this.requestingBids=new R,this.refreshingBids=new R,this.addPrebidSlotTargeting=new R,this.unobserveBySlotLocation=new R}};zt=I([A()],zt);let Rt=class extends It{constructor(){super(...arguments),this.videoPlayerAdded=new R,this.requestingVideoBids=new R,this.addAPStagSlotBidResponse=new R}};Rt=I([A()],Rt);class Bt{constructor(){this._siteExperimentEventBus=x.resolve(Ot),this._isTargeted=!1}get result(){return this._isTargeted||(this._siteExperimentEventBus.targetingReady.emit(),this._isTargeted=!0),this._result}get enabled(){return void 0!==this.experimentConfig}_isValidResult(e,t=(()=>!0)){return t()&&pe(e)}}class Dt extends Bt{constructor(){super(...arguments),this._resultValidator=()=>!0}_isValidResult(e){return super._isValidResult(e,(()=>this._resultValidator(e)||"control"===e))}run(){if(!this.experimentConfig)return D.error("WeightedChoiceSiteExperiment","run","No experiment config found"),"control";if(!this._mappedChoices||0===this._mappedChoices.length)return D.error("WeightedChoiceSiteExperiment","run","No experiment config found"),"control";const e=new At(this._mappedChoices).get();return this._isValidResult(e)?e:(D.error("WeightedChoiceSiteExperiment","run","Invalid result from experiment choices. Defaulting to control.",e),"control")}}let Vt=class{constructor(e){var t,i,s,n;this.siteExperiments=[],this._device=ie()?"mobile":"desktop",this._players=null===(t=e.siteAds.videoPlayers)||void 0===t?void 0:t.players,this.siteExperiments=null!==(n=null===(s=null===(i=e.siteAds)||void 0===i?void 0:i.siteExperiments)||void 0===s?void 0:s.filter((t=>{const i=t.key,s=lt(t,this._device),n=qe(e.siteAds,i,this._device);return s&&n})))&&void 0!==n?n:[]}getSiteExperimentByKey(e){return this.siteExperiments.filter((t=>t.key.toLowerCase()===e.toLowerCase()))[0]}getVideoPlaylistByType(e){var t,i;return null!==(i=null===(t=this._players)||void 0===t?void 0:t.filter((t=>t.type===e)))&&void 0!==i?i:[]}};Vt=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Vt);const Lt="You need to set \"this._key\" in the init method for this experiment. The code should look something like this:\n\n  protected init() {\n    this._key = 'my_key';\n  }";let Ft=class extends xt{constructor(e,t){if(super(),this.abgroup=e,this._coreExperimentConfig=t,this._setAbGroup=!0,this.init(),!this.isEnabled())return;const i=this._choices;if(i){this._result=this.run();const e=i.filter((({choice:e})=>e===this._result))[0],t=e&&e.abvalue||this._result;this._setAbGroup&&void 0!==t&&this.abgroup.set(this.key,String(t))}}get _choices(){const e=this._coreExperimentConfig.getWeightedChoiceVariants(this.key);return!e||e.length,e}get key(){if(!this._key)throw new Error(Lt);return this._key}init(){throw new Error(Lt)}get result(){return this._result}isEnabled(){return!this.shouldUseCoreExperimentsConfig||!!this._coreExperimentConfig.getCoreExperiment(this.key)}run(){if(this._choices)return new At(this._choices).get()}};Ft=I([M(0,T(Ct)),M(1,T(Et)),O("design:paramtypes",[Ct,Et])],Ft);let Nt=class extends Ft{init(){this._key="inters"}};Nt=I([ut("InterstitialExperiment"),A()],Nt);let Ut=class{constructor(){this.consentCaptured=new R}};Ut=I([A()],Ut);let jt=class{constructor(e){this.cafeMediaVendorId=996,this.nonCompliantBidders=["roundel","yahoossp","colossus"],this.consentCaptured=!1,this.isRequired="true"===e.gdpr}get enabled(){return this.isRequired}};jt=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],jt);let qt=class{constructor(e,t){this._gdprEvents=e,this._gdpr=t,this.DETECTION_WAIT_MS=500,this.DETECTION_ATTEMPTS=10,this._tracker=null,this.readyEvent=new R,this._detectTracker=async()=>{const e=window,t=new Array(this.DETECTION_ATTEMPTS);let i=null;for(let s=0;s<t.length&&(await St(this.DETECTION_WAIT_MS),e.ga&&"function"==typeof e.ga&&"function"==typeof e.ga.getAll?i=await this._getUniversalTracker():e._gaq&&e._gat&&"function"==typeof e._gat._getTrackers&&(i=await this._getLegacyTracker()),!i);s++);return i},this._hasNecessaryConsent=!this._gdpr.isRequired,this.init()}init(){this._detectTracker().then((e=>{e?(this._tracker=e,this._isTrackerDetectedAndReady()&&this.readyEvent.emit()):this._detectTrackerOnScroll()})).catch((e=>{D.error("GoogleAnalyticsDetector","init","A problem occurred when performing GA tracker detection:",e)})),this._gdprEvents.consentCaptured.on((()=>{this._hasNecessaryConsent=!0,this._isTrackerDetectedAndReady()&&this.readyEvent.emit()}))}_detectTrackerOnScroll(){const e=window,t=()=>{e.removeEventListener("scroll",t),this._detectTracker().then((e=>{this._tracker=e,this._isTrackerDetectedAndReady()?this.readyEvent.emit():D.error("GoogleAnalyticsDetector","_detectTrackerOnScroll","GA tracker not detected")})).catch((e=>{D.error("GoogleAnalyticsDetector","_detectTrackerOnScroll","A problem occurred when performing GA tracker detection:",e)}))};e.addEventListener("scroll",t)}get ready(){return null!==this._tracker&&this._hasNecessaryConsent}get tracker(){return this._tracker}_getUniversalTracker(){return new Promise((e=>{const t=window;t.ga((()=>{const i=t.ga.getAll().find((e=>void 0!==e.get("trackingId"))),s=i&&i.get("trackingId"),n=i&&i.get("name");e(s&&n?{id:s,name:n,type:"universal"}:null)}))}))}_getLegacyTracker(){return new Promise((e=>{const t=window;t._gaq.push((()=>{const i=t._gat&&t._gat._getTrackers().find((e=>e._getAccount())),s=i&&i._getAccount(),n=i&&i._getName();e(s?{id:s,name:n||"",type:"legacy"}:null)}))}))}_isTrackerDetectedAndReady(){return this.ready&&this._hasNecessaryConsent}};qt=I([ut("GoogleAnalyticsDetector"),A(),O("design:paramtypes",[Ut,jt])],qt);let Ht=class{constructor(e){this._googleAnalyticsDetector=e,this.GA_EVENT_BURST_LIMIT=10,this.GA_EVENT_PER_SECOND_RATE_LIMIT=2,this.GA_EVENT_SESSION_QUOTA=500,this.GA_EVENT_CATEGORY="Adthrive Experiment",this.GA_EVENT_LABEL_PREFIX="pubab",this._initialEventBurstComplete=!1,this._siteExperimentEventLabels=[],this._tracker=null,this.siteExperimentEventLabelAddedEvent=new R,this._sendInitialEventBurst=async()=>{await this._sendSiteExperimentEvents(),this._initialEventBurstComplete=!0},this._sendSiteExperimentEvents=async()=>{const e=this._siteExperimentEventLabels.filter((e=>!e.sent)),t=this._siteExperimentEventLabels.length-e.length;let i=0;if(this._tracker&&this._tracker.type){t>=this.GA_EVENT_SESSION_QUOTA?D.error("GoogleAnalytics","_sendSiteExperimentEvents",`GA event quota (${this.GA_EVENT_SESSION_QUOTA} events) has been reached. Events may not send.`):e.length>this.GA_EVENT_BURST_LIMIT&&D.error("GoogleAnalytics","_sendSiteExperimentEvents",`GA event burst quota (${this.GA_EVENT_BURST_LIMIT} events) has been reached. GA will rate-limit to ${this.GA_EVENT_PER_SECOND_RATE_LIMIT} per second. Some events may not send.`);for(const t of e){const e=i>this.GA_EVENT_BURST_LIMIT?1e3/this.GA_EVENT_PER_SECOND_RATE_LIMIT:0;await St(e),this._sendSiteExperimentEvent(t),i++}}else D.error("GoogleAnalytics","_sendSiteExperimentEvents","Cannot send Site Experiment events because a tracker was not detected")}}init(){let e;return e=this._googleAnalyticsDetector.ready?this._handleTrackerReady():this._googleAnalyticsDetector.readyEvent.legacyOnce().then(this._handleTrackerReady.bind(this)),this.siteExperimentEventLabelAddedEvent.on((()=>{this._initialEventBurstComplete&&this._sendSiteExperimentEvents().catch((()=>{D.error("GoogleAnalytics","init","A problem occurred while sending GA events")}))})),e}addSiteExperimentEventLabel(e){const t=Array.isArray(e)?e.map((e=>({...e,sent:!1}))):[{...e,sent:!1}];this._siteExperimentEventLabels.push(...t),this.siteExperimentEventLabelAddedEvent.emit()}addPubAbEventLabel(e){this.addSiteExperimentEventLabel(e)}_handleTrackerReady(){return this._tracker=this._googleAnalyticsDetector.tracker,this._sendInitialEventBurst()}_sendSiteExperimentEvent(e){const t=this._tracker?this._tracker.type:null;"gtag"===t?this._sendSiteExperimentGtagEvent(e):"universal"===t?this._sendSiteExperimentUniversalEvent(e):"legacy"===t?this._sendSiteExperimentLegacyEvent(e):D.error("GoogleAnalytics","_sendSiteExperimentEvent","Could not send event because a valid tracker type could not be found"),e.sent=!0}_sendSiteExperimentGtagEvent({label:e,value:t}){const i=window;i.dataLayer&&i.gtag&&i.gtag("event",t,{event_category:this.GA_EVENT_CATEGORY,event_label:this._createPrefixedEventLabel(e),non_interaction:!0})}_sendSiteExperimentUniversalEvent({label:e,value:t}){const i=window,s=this._tracker?this._tracker.name:null;i.ga?s?i.ga(`${s}.send`,{hitType:"event",eventCategory:this.GA_EVENT_CATEGORY,eventAction:t,eventLabel:this._createPrefixedEventLabel(e),nonInteraction:!0}):D.error("GoogleAnalytics","_sendSiteExperimentUniversalEvent","unable to send GA event tracker name could not be found"):D.error("GoogleAnalytics","_sendSiteExperimentUniversalEvent","unable to send GA event because window.ga is undefined")}_sendSiteExperimentLegacyEvent({label:e,value:t}){const i=window;if(!i._gaq)return;const s={category:this.GA_EVENT_CATEGORY,action:t,label:this._createPrefixedEventLabel(e),value:0,nonInteraction:!0};i._gaq.push(["_trackEvent",s.category,s.action,s.label,s.value,s.nonInteraction])}_createPrefixedEventLabel(e){return`${this.GA_EVENT_LABEL_PREFIX}_${e}`}};I([(e,t,i)=>{const s=i.value;return i.value=function(...e){return s.apply(this,e)},i},O("design:type",Function),O("design:paramtypes",[Object]),O("design:returntype",void 0)],Ht.prototype,"addPubAbEventLabel",null),Ht=I([ut("GoogleAnalytics"),A(),O("design:paramtypes",[qt])],Ht);const Gt=()=>{try{const e=2500,t=window.localStorage.getItem("__lsv__"),i=t?JSON.parse(decodeURIComponent(t)):[];if(window.innerWidth>=e)return{isError:!1,canDisplay:!1};if(i.length){const e=36e5,t=Ze(),s=i[0];return{isError:!1,canDisplay:t-s>e}}return{isError:!1,canDisplay:!0}}catch(e){return{isError:!0,canDisplay:!1,message:e.message}}};let $t=class extends Bt{constructor(e,t,i){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._choices=[],this._result=!1,this.key=je.Interstitial;const{isError:s,canDisplay:n,message:r}=Gt();s&&D.error("InterstitialSiteExperiment","constructor",{message:r}),this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key),this.enabled&&this.experimentConfig&&n&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){const e=this._choices[0].weight/100;return new Pt(e).get()}setExperimentTargeting(){if(!this.experimentConfig)return void D.error("InterstitialSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=this._result?"on":"off";return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],$t.prototype,"run",null),$t=I([ut("InterstitialSiteExperiment"),A(),O("design:paramtypes",[Vt,wt,Ht])],$t);let Wt=class extends Bt{constructor(e,t,i){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._choices=[],this._result=!1,this.key=je.FooterCloseButton,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key),this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){const e=this._choices[0].weight/100;return new Pt(e).get()}setExperimentTargeting(){if(!this.experimentConfig)return void D.error("RemoveFooterCloseButtonSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=this._result?"on":"off";return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Wt.prototype,"run",null),Wt=I([ut("RemoveFooterCloseButtonSiteExperiment"),A(),O("design:paramtypes",[Vt,wt,Ht])],Wt);let Kt=class{constructor(e,t,i){var s,n;this._interstitialSiteExperiment=t,this._removeFooterCloseButtonSiteExperiment=i,this.footerCloseButtonMigrated=!1;const{allowSmallerAdSizes:r,footerCloseButton:o,footerCloseButtonMobile:a,footerCloseButtonDesktop:l,footerSelector:d,infiniteScroll:c,infiniteScrollOptions:h,infiniteScrollRefresh:p,pmp:u,targetaff:g,stickyContainerConfig:_}=e.siteAds.adOptions;this.allowSmallerAdSizes=Q(r,!0),void 0!==a&&void 0!==l&&(this.footerCloseButtonMigrated=!0);const m=this._isGamInterstitialNetworkExperimentEnabled(e),f=this._interstitialSiteExperiment.enabled?this._interstitialSiteExperiment.result:m;if(this.interstitial={gam:f,prebid:!1},this._removeFooterCloseButtonSiteExperiment.enabled){const e=!this._removeFooterCloseButtonSiteExperiment.result;this.footerCloseButton=e,this.footerCloseButtonMobile=e,this.footerCloseButtonDesktop=e}else this.footerCloseButton=Q(o,!0),this.footerCloseButtonMobile=Q(a,!0),this.footerCloseButtonDesktop=Q(l,!0);this.footerSelector=Q(d,""),this.pmp=Q(u,!0),this.infiniteScroll=Q(c,!1),this.infiniteScrollOptions=Q(h,{}),this.infiniteScrollRefresh=Q(p,!0),this.targetAff=Q(g,!1),this.stickyContentEnabled=null===(s=null==_?void 0:_.content)||void 0===s?void 0:s.enabled,this.stickyContentHeight=null===(n=null==_?void 0:_.content)||void 0===n?void 0:n.minHeight}_isGamInterstitialNetworkExperimentEnabled(e){const{isError:t,canDisplay:i,message:s}=Gt(),n=ie()&&Q(e.siteAds.adOptions.mobileInterstitial,!1),r=!ie()&&Q(e.siteAds.adOptions.desktopInterstitial,!1);if(t&&D.error("InterstitialExperiment","canDisplayInterstitial",{message:s}),i&&(n||r)){const e=x.resolve(Nt);return!(!e||!e.result||"off"===e.result)}return!1}};Kt=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,$t,Wt])],Kt);let Qt=class{constructor(e){const t=e.siteAds.adTypes||{};this.animatedFooter=Q(t.animatedFooter,!0),this.expandableFooter=Q(t.expandableFooter,!0),this.interscroller=Q(t.interscroller,!0),this.miniscroller=Q(t.miniscroller,!0),this.nativeMobileContent=Q(t.nativeMobileContent,!0),this.nativeDesktopContent=Q(t.nativeDesktopContent,!0),this.nativeDesktopSidebar=Q(t.nativeDesktopSidebar,!0),this.nativeDesktopRecipe=Q(t.nativeDesktopRecipe,!0),this.nativeMobileRecipe=Q(t.nativeMobileRecipe,!0),this.outstreamDesktop=Q(t.outstreamDesktop,!0),this.outstreamMobile=Q(t.outstreamMobile,!0)}has(e){return this[e]&&!0===this[e]}get enabled(){return Object.keys(this).filter((e=>!0===this[e]))}get enabledMinified(){const e={outstreamDesktop:{min:"od",val:this.outstreamDesktop},outstreamMobile:{min:"om",val:this.outstreamMobile}};return this.enabled.filter((t=>Object.keys(e).includes(t)&&e[t].val)).map((t=>e[t].min))}get outstreamEnabled(){return ie()?!0===this.outstreamMobile:!0===this.outstreamDesktop}};Qt=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Qt);let Xt=class extends xt{constructor(e,t,i){super(),this._result=!1,this.key="amzn",this._choices=[{choice:!0},{choice:!1}],this.weight=.995;const s=e.deliveryFeatures,n=i.getCoreExperiment(this.key);s&&s.includes(Be.amazonLoad)||n&&(this.weight=n.variants[0].weight,this._result=this.run(),t.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Xt.prototype,"run",null),Xt=I([ut("AmazonExperiment"),A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Ct,Et])],Xt);let Yt=class extends xt{constructor(e,t){super(),this._result=!1,this.key="wvtls",this._choices=[{choice:!0},{choice:!1}],this.weight=.25;const i=t.getCoreExperiment(this.key);H()&&i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this.result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};Yt=I([ut("WebVitalsExperiment"),A(),O("design:paramtypes",[Ct,Et])],Yt);const Jt=(e=navigator.userAgent)=>/iP(hone|od|ad)/i.test(e),Zt=(e,t=navigator.userAgent)=>Jt(t)&&((e,t=navigator.userAgent)=>new RegExp(`OS ${e}`,"i").test(t))(e.toString(),t);let ei=class{constructor(e,t,i){this.bootstrapResult=new Map,this.bootstrapLoaders={},this.ccpaOptIn="1YNY",this.ccpaOptOut="1YYY",this.ccpaConsentChange=new R;const s=e&&e.core&&e.core.country;this.webVitalsEnabled=i.result,this.ccpaRequired="US"===s,this.ccpaPrivacyString=Ye("usprivacy"),this.ccpaUserOptedOut=this.ccpaPrivacyString===this.ccpaOptOut,this.ccpaEnabled=this.ccpaUserOptedOut&&this.ccpaRequired,this.gptLibFailed=!1,this.liveRamp=Q(e.siteAds.adOptions.liveRamp,!0),this.liveRampId=Q(e.siteAds.adOptions.liveRampId,"7f035220-1751-4684-bb7f-a1c0d45657df"),36!==this.liveRampId.length&&(this.liveRampId="7f035220-1751-4684-bb7f-a1c0d45657df"),"FR"!==s&&"DE"!==s||(this.liveRampId="34233849-5500-4e44-8601-5006ae8d13fe");const n=Jt()?"/s2s":"";this._baseUrl=e.baseUrl,this._targetPath=`${e.targetPath}${n}`||`/es2018${n}`;const r=e.deliveryFeatures;this.isAmazonPreloaded=!(!r||!r.includes(Be.amazonLoad)),this.isGPTPreloaded=!(!r||!r.includes(Be.gptLoad)),this.isPrebidPreloaded=!(!r||!r.includes(Be.prebidLoad)),this.amazonEnabled=t.result||this.isAmazonPreloaded,this.isGDPR="true"===e.gdpr}get baseUrl(){return this._baseUrl}get targetPath(){return this._targetPath}};ei=I([ut("BootstrapConfig"),A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Xt,Yt])],ei);let ti=class extends xt{constructor(e,t){super(),this._result=!1,this.key="amzn_hold_load",this._choices=[{choice:!0},{choice:!1}],this.weight=0;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ti.prototype,"run",null),ti=I([ut("AmazonLibraryExperiment"),A(),O("design:paramtypes",[Ct,Et])],ti);let ii=class{constructor(e,t,i){this._bootstrapConfig=t,this._waitForAmazon=i,this.type=ze.Amazon,this.wait=!1,this._url="https://c.amazon-adsystem.com/aax2/apstag.js",this._link="https://c.amazon-adsystem.com",this._amazonUAM=e.siteAds.adOptions.amazonUAM,this.wait=this._waitForAmazon.result}async load(){return this._bootstrapConfig.amazonEnabled&&this._amazonUAM?(this._init(),this._bootstrapConfig.isAmazonPreloaded?Promise.resolve(!0):(this._addAmazonLinks(),this._addApstag())):Promise.resolve(!1)}_addApstag(){return fe(this._url)}_addAmazonLinks(){const e=this._link;ye(e,"dns-prefetch"),ye(e,"preconnect",[{name:"crossorigin",value:""}])}_init(){if(window.apstag)return;const e=(e,t)=>{window.apstag._Q.push([e,t])};window.apstag={init(){e("i",arguments)},fetchBids(){e("f",arguments)},setDisplayBids(){},targetingKeys:()=>[],dpa(){e("di",arguments)},rpa(){e("ri",arguments)},upa(){e("ui",arguments)},_Q:[]}}};ii=I([ut("AmazonBootstrap"),P(),M(0,T("AdThrive")),O("design:paramtypes",[Object,ei,ti])],ii);let si=class{constructor({isGPTPreloaded:e}){this._url="https://securepubads.g.doubleclick.net/tag/js/gpt.js",this._isGPTPreloaded=e}async load(){return this._isGPTPreloaded?Promise.resolve(!0):(this.init(),fe(this._url))}init(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[]}};si=I([ut("GAMBootstrap"),P(),O("design:paramtypes",[ei])],si);let ni=class{constructor(e){this._eventBus=e,this._marmaladeFinishedTimeout=3e3}setMarmaladeFinishedTimeout(e){this._marmaladeFinishedTimeout=e}async get(){if(window.adthrive.marmalade){const e=await window.adthrive.marmalade;return D.event("MarmaladeBootstrap","marmaladeResponseLoaded"),this._eventBus.marmaladeResponseLoaded.emit(e),e}const e=new Promise((e=>{window.adthrive.marmaladeFinished=e})).then((e=>(D.event("MarmaladeBootstrap","marmaladeResponseLoaded"),this._eventBus.marmaladeResponseLoaded.emit(e),e))),t=new Promise((e=>{const t=setTimeout((()=>{clearTimeout(t),e({})}),this._marmaladeFinishedTimeout)}));return Promise.race([e,t])}};ni=I([ut("MarmaladeBootstrap"),P(),O("design:paramtypes",[Mt])],ni);let ri=class{constructor({baseUrl:e,targetPath:t,isPrebidPreloaded:i}){this.type=ze.Prebid,this.wait=!1,this._url=`${e}/vendor/prebid${t}/prebid.min.js`,this._isPrebidPreloaded=i}async load(){return this.init(),this._isPrebidPreloaded?"preloaded":await fe(this._url)}init(){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[]}};ri=I([ut("PrebidBootstrap"),P(),O("design:paramtypes",[ei])],ri);let oi=class extends xt{constructor(e){super(),this._abgroup=e,this._choices=[{choice:0,weight:40},{choice:500,weight:12},{choice:1500,weight:12},{choice:2e3,weight:12},{choice:3500,weight:12},{choice:5e3,weight:12}],this.key="flrdt",this._result=this.run(),this._abgroup.set(this.key,0===this._result?"none":`${this._result}`)}get result(){return this._result}run(){return new At(this._choices).get()}};oi=I([ut("DelayAuctionExperiment"),A(),O("design:paramtypes",[Ct])],oi);let ai=class extends Ft{init(){this._key="flr"}run(){return super.run()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ai.prototype,"run",null),ai=I([ut("FloorsExperiment"),A()],ai);let li=class extends xt{constructor(e){super(),this._abgroup=e,this._choices=[{choice:.4,weight:20},{choice:.6,weight:20},{choice:.8,weight:20},{choice:0,weight:40}],this.key="fpvflr",this._result=this.run(),this._abgroup.set(this.key,0===this._result?"none":""+100*this._result)}get result(){return this._result}run(){return new At(this._choices).get()}};li=I([ut("FPVNonLazyFloorsExperiment"),A(),O("design:paramtypes",[Ct])],li);let di=class extends Ft{init(){this._key="lzflr"}run(){return super.run()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],di.prototype,"run",null),di=I([ut("LazyLoadFloorsExperiment"),A()],di);let ci=class{constructor(e,t){this._floorsExperiment=e,this.abGroup=t,this._result={rubicon:!1,legacy:!1,fallback:!1,fm:!1,cm:!1,delay:0,percentile:{lazy:0,fpvNonLazy:0}},this.run()}get result(){return this._result}_enableRubiconFloors(){this._result.rubicon=!0}_enableLegacyFloors(){this._result.legacy=!0,this._result.percentile.lazy=x.resolve(di).result||0}_canEnableFPVNonLazy(){return(!0===he("session_fpv")||null===he("session_fpv"))&&Boolean(this._result.delay)}_enableFPVNonLazy(){this._result.percentile.fpvNonLazy=new li(this.abGroup).result}_setExpResults({cm:e,fallback:t,floorMin:i,delay:s}){const n=this._result;e&&(n.cm=e),t&&(n.fallback=t),i&&(n.fm=i),s&&(n.delay=s)}run(){const e=new oi(this.abGroup).result,t=this._floorsExperiment.result,i="fb"===t,s="fm"===t,n="rubi"===t,r="cm"===t,o=i||s;this._setExpResults({cm:r,fallback:i,floorMin:s,delay:e}),(r||o)&&(this._canEnableFPVNonLazy()&&this._enableFPVNonLazy(),this._enableLegacyFloors()),(n||o)&&this._enableRubiconFloors()}};ci=I([ut("FloorsExperimentHandler"),A(),O("design:paramtypes",[ai,Ct])],ci);let hi=class{constructor(e){this._enabledFloorsExperiments=e,this.fpvNonLazySlotLocations=["Content"],this.fpvExcludes={Content:[2]},this.delayedBids={},this.floorsDataReady=new R,this._cmFloorsConfig={},this._cmPriority=[Re.refresh,Re.fpvNonLazy,Re.lazy,Re.session],this._establishedFloorsTypes={}}saveFloorConfig(e,t,i){this._establishedFloorsTypes[e]=t,this._cmFloorsConfig[e]=i}clearFloorConfig(e){this._establishedFloorsTypes[e]&&(delete this._establishedFloorsTypes[e],delete this._cmFloorsConfig[e])}get floorsExperiment(){return this._enabledFloorsExperiments.result}get establishedFloorsTypes(){return this._establishedFloorsTypes}get cmFloorsConfig(){return this._cmFloorsConfig}get cmPriority(){return this._cmPriority}isFPVNonLazySlot(e){const{location:t,sequence:i}=e,s=this.fpvNonLazySlotLocations.includes(t),n=i&&1===i,r=i&&this.fpvExcludes[t]&&this.fpvExcludes[t].includes(i);return!e.lazy&&s&&!n&&!r}};hi=I([A(),O("design:paramtypes",[ci])],hi);let pi=class{constructor(e,t){this._adthrive=e,this._floorsConfig=t,this._floorsFinishedTimeout=3e3}resolveFloorsData(e){return Promise.resolve(e).then((e=>(this._floorsConfig.floorsData=e,this._floorsConfig.floorsDataReady.emit(),e)))}async get(){if(!this._floorsConfig.floorsExperiment.rubicon)return Promise.resolve({});const e=window.adthrive.floors;if(e)return this.resolveFloorsData(e);const t=new Promise((e=>{window.adthrive.rubiconFloorsFinished=e})),i=new Promise((e=>{setTimeout((()=>{e({})}),this._floorsFinishedTimeout)}));return Promise.race([t,i]).then((()=>this.resolveFloorsData(window.adthrive.floors)))}};pi=I([ut("FloorsBootstrap"),P(),M(0,T("AdThrive")),O("design:paramtypes",[Object,hi])],pi);let ui=class{constructor(e){this._bootstrapConfig=e,this._url="https://unpkg.com/web-vitals@2.0.1/dist/web-vitals.umd.js"}load(){return this._bootstrapConfig.webVitalsEnabled?this.import():Promise.resolve(!0)}async import(){return await fe(this._url,!1,!0)}};ui=I([ut("WebVitalsBootstrap"),P(),O("design:paramtypes",[ei])],ui);let gi=class{constructor(e,t){this.bootstrapConfig=e,this.eventBus=t,this._frame=document.createElement("iframe"),e.ccpaEnabled||t.marmaladeResponseLoaded.on((t=>{const i=t.recencyFrequency;i&&this.addIframeToPage().then((()=>{D.event("RecencyAndFrequncyIFrameManager","recencyFrequencyIframeAdded"),this.setMcmpData(i),this.bootstrapConfig.ccpaConsentChange.on((t=>{t===e.ccpaOptOut&&this.deleteMcmpData()}))}))}))}get recencyFrequencyIframeLocation(){return`${this.bootstrapConfig.baseUrl}/html/rnf.html`}addIframeToPage(){let e;const t=new Promise((t=>{e=t}));this._frame.onload=()=>{e()};try{this._frame.src=this.recencyFrequencyIframeLocation,this._frame.id="adthrive-mcmp",this._frame.style.display="none",document.body.appendChild(this._frame)}catch(e){D.error("RecencyAndFrequncyIFrameManager","addIframeToPage","Failed to append rnf iframe to document",e)}return t}deleteMcmpData(){try{if(this._frame.contentWindow){const e=window.adthriveDevelopmentMode?"https://localhost:8080":"https://ads.adthrive.com";this._frame.contentWindow.postMessage({message:"deleteMcmpData"},e)}}catch(e){D.error("RecencyAndFrequncyIFrameManager","deleteMcmpData","Failed to delete mcmp data",e)}}setMcmpData(e){try{if(this._frame.contentWindow){const t=window.adthriveDevelopmentMode?"https://localhost:8080":"https://ads.adthrive.com";window.addEventListener("message",(e=>{const i=e.data,s=i.message;e.origin===t&&"mcmpDataResponse"===s&&(D.event("RecencyAndFrequncyIFrameManager","recencyFrequencyDataSet"),this.eventBus.recencyFrequencyDataSet.emit(i.mcmpData))})),this._frame.contentWindow.postMessage({message:"setMcmpData",mcmpData:e},t)}}catch(e){D.error("RecencyAndFrequncyIFrameManager","setMcmpData","Failed to set mcmp data",e)}}};gi=I([ut("RecencyAndFrequncyIFrameManager"),A(),O("design:paramtypes",[ei,Mt])],gi);let _i=class extends It{constructor(){super(...arguments),this.libraryLoadFailed=new R}};_i=I([A()],_i);let mi=class{constructor(e,t,i,s,n,r,o,a){this._bootstrapConfig=e,this._bootstrapEventBus=t,this._amazon=i,this._gam=s,this._marmalade=n,this._prebid=r,this._floors=o,this._webVitals=a,x.resolve(gi)}async run(){const e=this._run((()=>this._floors.get()),ze.Floors);let t,i;return this.loadNonBlockingLibraries(),Promise.all([this._run((()=>this._gam.load()),ze.GAM,{required:!0}).catch((e=>this.gamFallback(e&&e.result,t,i))),i=this._run((()=>this._marmalade.get()),ze.Marmalade),e,this._run((()=>(t=this._webVitals.load(),t)),ze.WebVitals),J()]).then((([e,t,i,s])=>({gam:e,marmalade:t,floors:i,webvitals:s})))}loadNonBlockingLibraries(){[this._prebid,this._amazon].forEach((e=>{this._run((()=>this._bootstrapConfig.bootstrapLoaders[e.type]=e.load().catch((t=>{throw this._bootstrapEventBus.libraryLoadFailed.emit({bootstrapType:e.type}),new Error(t)}))),e.type,{wait:e.wait}).catch((()=>!1))}))}gamFallback(e,t,i){return this._bootstrapConfig.gptLibFailed=!0,this._bootstrapConfig.webVitalsEnabled||(this._bootstrapConfig.webVitalsEnabled=!0,t=this._webVitals.load()),t.then((()=>i.then((t=>Promise.reject({message:e,marmalade:t})))))}_run(e,t,{required:i=!1,wait:s=!0}={}){const n=Ge(),r=e=>{const i=Ge(),s={result:e,started:n,finished:i,duration:i-n};return this._bootstrapConfig.bootstrapResult.set(t,s),s},o=e().then(r,(e=>(D.error("Bootstrap","_start error",t,e),i?Promise.reject(r(e.message)):r(e.message))));return s?o:Promise.resolve(r(!0))}};mi=I([P(),O("design:paramtypes",[ei,_i,ii,si,ni,ri,pi,ui])],mi);let fi=class{constructor(e,t){this.pubId="4fbba76f-7987-4fa2-9733-c27eb3a2170b",this.adUnitExclusions=new Set(["Interstitial"]);const i=t.amazonEnabled;this.enabled=i&&!0===e.siteAds.adOptions.amazonUAM}};fi=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,ei])],fi);let yi=class{constructor(e){this._bootstrapConfig=e,this.nonCompliantBidders=["unruly"],this.ccpaNotApplicable="1---",this.consentChange=new R,this.optOutText="Do not sell or share my personal information.",this.optInText="Customize my ad experience.",this.ccpaOptIn=this._bootstrapConfig.ccpaOptIn,this.ccpaOptOut=this._bootstrapConfig.ccpaOptOut,this.required=this._bootstrapConfig.ccpaRequired,this.consentChange=this._bootstrapConfig.ccpaConsentChange,this.privacyString=this._bootstrapConfig.ccpaPrivacyString,this.gpcEnabled=localStorage.getItem("adthrive_gpc"),this.userOptedOut=this._bootstrapConfig.ccpaUserOptedOut,this.consentChange.on((e=>{this.privacyString=e})),this.userOptedOut=this.privacyString===this.ccpaOptOut,this.required&&(this.comscoreParams=this.userOptedOut?"0":"1")}get enabled(){return this._bootstrapConfig.ccpaEnabled}};yi=I([A(),O("design:paramtypes",[ei])],yi);class vi{constructor(){this._clsGlobalData=window.adthriveCLS}get enabled(){return!!this._clsGlobalData&&!!this._clsGlobalData.siteAds&&ct(this._clsGlobalData.siteAds)}get error(){return!(!this._clsGlobalData||!this._clsGlobalData.error)}set siteAds(e){this._clsGlobalData.siteAds=e}get siteAds(){return this._clsGlobalData.siteAds}set disableAds(e){this._clsGlobalData.disableAds=e}get disableAds(){return this._clsGlobalData.disableAds}set enabledLocations(e){this._clsGlobalData.enabledLocations=e}get enabledLocations(){return this._clsGlobalData.enabledLocations}get injectedFromPlugin(){return this._clsGlobalData.injectedFromPlugin}set injectedFromPlugin(e){this._clsGlobalData.injectedFromPlugin=e}get injectedFromSiteAds(){return this._clsGlobalData.injectedFromSiteAds}set injectedFromSiteAds(e){this._clsGlobalData.injectedFromSiteAds=e}overwriteInjectedSlots(e){this._clsGlobalData.injectedSlots=e}setInjectedSlots(e){this._clsGlobalData.injectedSlots=this._clsGlobalData.injectedSlots||[],this._clsGlobalData.injectedSlots.push(e)}get injectedSlots(){return this._clsGlobalData.injectedSlots}setInjectedVideoSlots(e){this._clsGlobalData.injectedVideoSlots=this._clsGlobalData.injectedVideoSlots||[],this._clsGlobalData.injectedVideoSlots.push(e)}get injectedVideoSlots(){return this._clsGlobalData.injectedVideoSlots}setInjectedScripts(e){this._clsGlobalData.injectedScripts=this._clsGlobalData.injectedScripts||[],this._clsGlobalData.injectedScripts.push(e)}get getInjectedScripts(){return this._clsGlobalData.injectedScripts}setExperiment(e,t,i=!1){this._clsGlobalData.experiments=this._clsGlobalData.experiments||{},this._clsGlobalData.siteExperiments=this._clsGlobalData.siteExperiments||{};(i?this._clsGlobalData.siteExperiments:this._clsGlobalData.experiments)[e]=t}getExperiment(e,t=!1){const i=t?this._clsGlobalData.siteExperiments:this._clsGlobalData.experiments;return i&&i[e]}setWeightedChoiceExperiment(e,t,i=!1){this._clsGlobalData.experimentsWeightedChoice=this._clsGlobalData.experimentsWeightedChoice||{},this._clsGlobalData.siteExperimentsWeightedChoice=this._clsGlobalData.siteExperimentsWeightedChoice||{};(i?this._clsGlobalData.siteExperimentsWeightedChoice:this._clsGlobalData.experimentsWeightedChoice)[e]=t}getWeightedChoiceExperiment(e,t=!1){var i,s;const n=t?null===(i=this._clsGlobalData)||void 0===i?void 0:i.siteExperimentsWeightedChoice:null===(s=this._clsGlobalData)||void 0===s?void 0:s.experimentsWeightedChoice;return n&&n[e]}get branch(){return this._clsGlobalData.branch}get bucket(){return this._clsGlobalData.bucket}set videoDisabledFromPlugin(e){this._clsGlobalData.videoDisabledFromPlugin=e}get videoDisabledFromPlugin(){return this._clsGlobalData.videoDisabledFromPlugin}set targetDensityLog(e){this._clsGlobalData.targetDensityLog=e}get targetDensityLog(){return this._clsGlobalData.targetDensityLog}}const bi=()=>{((e,t)=>{var i;const s=e||navigator.userAgent,n=t||navigator.vendor;if(!G(s,n))return!1;const r=(null===(i=/ Version\/(1\d)\.(\d+)/.exec(s))||void 0===i?void 0:i.slice(-2))||[],o="14"===r[0],a="15"===r[0]&&+r[1]<4;return o||a})()&&window.addEventListener("beforeunload",(()=>{window.addEventListener("visibilitychange",(e=>{e.stopImmediatePropagation()}),!0)}),!0)};let Si=class{constructor(){this.beforeUnload=new R,this.pageHide=new R,this.resize=new R,this.scroll=new R,this.visibilityChange=new R,this.addEventListener("beforeunload",this.beforeUnload),this.addEventListener("pagehide",this.pageHide),this.addEventListener("resize",this.resize),this.addEventListener("scroll",this.scroll),this.addEventListener("visibilitychange",this.visibilityChange,document),bi()}setupOnceEvent(e,t,i=window){const s=()=>{i.removeEventListener(e,s),t()};i.addEventListener(e,s)}setupOnceEventWithPromise(e,t=window){return new Promise((i=>{const s=n=>(t.removeEventListener(e,s),i(n));t.addEventListener(e,s)}))}addEventListener(e,t,i=window){i.addEventListener(e,(()=>{t.emit()}),!1)}};Si=I([ut("PageManager"),A(),O("design:paramtypes",[])],Si);let Ci=class{constructor(e){this.connectionTargeting=[];const{bucket:t,core:i,plugin:s,branch:n,debug:r,deployment:o,baseUrl:a,fastAds:l,siteAds:d,styleUrl:c,invalidTraffic:h,integration:p,deliveryVersion:u}=e,{tablet:g,desktop:_}=d.breakpoints;this.baseUrl=a,this.branch=n,this.bucket=t,this.country=i&&i.country,this.plugin=s,this.fastAds=l,this.invalidTraffic=h,this.deployment=o,this.domain=window.location.host,this.device=Y(g,_),this.pageUrl=window.location.href,this.pageviewKey=bt(),this.querystring=Qe(),this.sessionKey=((e,t,i,s=!0,n)=>{const r=he(e,i,s);if(null!==r)return r;const o=t();return ce(e,o),n&&n(o),o})("session_key",(()=>bt()),864e5,!0,(e=>{localStorage.removeItem("adthrive_fpv"),(e=>{const t=Ye("_ga"),i=Ye("_gid");t||i?D.event("Context","sessionLogger",{gaCookie:t,gidCookie:i,sessionId:e,ua:navigator.userAgent}):x.resolve(Si).beforeUnload.on((()=>{D.event("Context","sessionLogger",{gaCookie:Ye("_ga"),gidCookie:Ye("_gid"),sessionId:e,ua:navigator.userAgent})}))})(e)})),this.styleUrl=c,this.debug=r,this.integration=p,this.deliveryVersion=u,this.fledgeSupported=!!navigator.runAdAuction;const m=window.performance.getEntriesByType("resource").filter((e=>e.name.includes("ads.min.js")&&e.name.includes("ads.adthrive.com")))[0];if(m){const e=Math.round(m.responseEnd-m.startTime).toString();"NaN"!==e&&(this.adsMinLoadDuration=[e])}const f=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection);f&&(f.effectiveType&&this.connectionTargeting.push(`niet:${f.effectiveType}`),this.downlink=f.downlink||f.bandwidth,this.downlink&&this.connectionTargeting.push(`dl:${this.downlink}`))}};Ci=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Ci);const wi=250;let Ei=class{constructor(e,t,i,s){if(this._context=t,this._abgroup=i,this._clsOptions=s,this._defaultHeight=wi,this._map=new Map([["phone",{Content:wi,Recipe:wi,Header:50,Footer:50,Below_Post:wi,Sidebar:wi}],["tablet",{Content:wi,Recipe:wi,Header:90,Footer:90,Below_post:wi,Sidebar:wi}],["desktop",{Content:wi,Recipe:wi,Header:90,Footer:90,Below_Post:wi,Sidebar:wi}]]),this._clsOptimizedAds=e.siteAds.adOptions.clsOptimizedAds,this._clsOptions.enabled){const e="clsins_ss",t=this._clsOptions.getExperiment(e);t&&this._abgroup.set(e,String(t));["cls-insertion","cls-header-insertion","cls-disable-ads"].filter((e=>{if(this._clsOptions.branch){const t="script[id^="+`${e}-${this._clsOptions.branch}`+"]";return document.querySelectorAll(t).length>0}return!1})).forEach((e=>this._clsOptions.setInjectedScripts(e)))}}get enabled(){return this._clsOptimizedAds||this._clsOptions.enabled&&(this._clsOptions.injectedFromPlugin||this._clsOptions.injectedFromSiteAds)}getDivHeight(e,t){const i=this._map.get(t);return i&&i[e]||this._defaultHeight}setStyle(e,t){("Footer"===t||this.enabled&&this._map.get(this._context.device)[t])&&(e.style.minHeight=`${this._map.get(this._context.device)[t]}px`,e.classList.add("adthrive-ad-cls"))}};Ei=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Ci,Ct,vi])],Ei);let ki=class{constructor(e){this.tracker=!0,this.gdpr=!1,this._footerMessages=new Map([["FamilyParenting","CafeMedia Family & Parenting"],["Finance","CafeMedia Finance"],["Food","CafeMedia Food"],["General","CafeMedia"],["HomeDIY","CafeMedia Home/DIY"],["Lifestyle","CafeMedia Lifestyle"],["Pets","CafeMedia Pets"],["Tech","CafeMedia Tech"],["Travel","CafeMedia Travel"]]);const{comscore:t,comscoreFooter:i}=e.siteAds.adOptions;this.category=Q(t,"General"),this.comscore=Q(i,!0),this.comscoreMessage=Q(this._footerMessages.get(this.category),"CafeMedia")}};ki=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],ki);let xi=class{constructor(e,t){this.adthrive=e,this._clsOptions=t,this.all=!1,this.content=!1,this.recipe=!1,this.video=!1,this.locations=new Set,this.reasons=new Set,this._clsDivs=["adthrive-below-post","adthrive-content","adthrive-header","adthrive-recipe","adthrive-sidebar"],(this.urlHasEmail(window.location.href)||this.urlHasEmail(window.document.referrer))&&(this.all=!0,this.reasons.add("all_email"),this.removeClsDivs(this._clsDivs));try{document.body.classList.contains("adthrive-disable-all")&&(this.all=!0,this.reasons.add("all_plugin")),document.body.classList.contains("adthrive-disable-content")&&(this.content=!0,this.recipe=!0,this.locations.add("Content"),this.locations.add("Recipe"),this.reasons.add("content_plugin")),null!==document.querySelector(".tag-novideo")&&(this.video=!0,this.locations.add("Video"),this.reasons.add("video_tag")),document.body.classList.contains("adthrive-disable-video")&&(this.video=!0,this.locations.add("Video"),this.reasons.add("video_plugin"))}catch(e){D.error("DisableAds","constructor",{message:e.message});const t="classList"in document.createElement("_");D.error("BodyDeviceClassComponent","init.support",{support:t});const i="classList"in document.body;D.error("BodyDeviceClassComponent","init.supportBody",{supportBody:i})}}removeClsDivs(e){if(!this._clsOptions.enabled)return;const t=this._clsOptions.injectedSlots.filter((t=>{const i=t.element;let s=!1;return i.parentNode&&e.some((e=>i.classList.contains(e)))&&(i.parentNode.removeChild(i),s=!0),!s}));this._clsOptions.overwriteInjectedSlots(t)}disableAllAds(e){e&&!nt(e)||(this.all=!0,this.reasons.add("all_page"),this.removeClsDivs(this._clsDivs))}disableContentAds(e){e&&!nt(e)||(this.content=!0,this.recipe=!0,this.locations.add("Content"),this.locations.add("Recipe"),this.reasons.add("content_page"),this.removeClsDivs(["adthrive-content","adthrive-recipe"]))}disablePlaylistPlayers(e){e&&!nt(e)||(this.video=!0,this.locations.add("Video"),this.reasons.add("video_page"),this.adthrive.siteAds.videoPlayers?this._removeCLSVideoPlayers():this._removeLegacyCLSVideoPlayers())}_removeCLSVideoPlayers(){var e;null===(e=this.adthrive.siteAds.videoPlayers)||void 0===e||e.players.filter((e=>"stickyPlaylist"===e.type)).map((e=>document.querySelectorAll(`#cls-video-container-${e.playlistId}`))).forEach((e=>{var t;for(let i=0;i<e.length;i++){const s=e[i];null===(t=s.parentNode)||void 0===t||t.removeChild(s)}}))}_removeLegacyCLSVideoPlayers(){var e,t;const i=null===(e=this.adthrive.siteAds.video)||void 0===e?void 0:e.jwPlaylistId;if(i){const e=document.querySelectorAll(`#cls-video-container-${i}`);for(let i=0;i<e.length;i++){const s=e[i];null===(t=s.parentNode)||void 0===t||t.removeChild(s)}}}urlHasEmail(e){if(!e)return!1;return null!==/([A-Z0-9._%+-]+(@|%(25)*40)[A-Z0-9.-]+\.[A-Z]{2,})/i.exec(e)}};xi=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,vi])],xi);const Ti=e=>{const{tablet:t,desktop:i}=e.siteAds.breakpoints,s=Y(t,i),n=e.siteAds,r=n.video&&n.video.partners&&n.video.partners.stickyOutstream,o=n.videoPlayers&&n.videoPlayers.partners&&n.videoPlayers.partners.stickyOutstream,a=r||o,l=e.siteAds.adOptions,d=a||l&&l.stickyOutstream;return!!(d&&("phone"===s?d.mobile.enabled:d.desktop.enabled))};let Pi=class extends Bt{constructor(e,t,i){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._choices=[],this._result=!1,this.key=je.StickyOutstream,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key),this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){const e=this._choices[0].weight/100;return new Pt(e).get()}setExperimentTargeting(){if(!this.experimentConfig)return void D.error("StickyOutstreamSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=this._result?"on":"off";return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Pi.prototype,"run",null),Pi=I([ut("StickyOutstreamSiteExperiment"),A(),O("design:paramtypes",[Vt,wt,Ht])],Pi);let Ai=class extends xt{constructor(e,t){super(),this._result=!1,this.key="smad300",this._choices=[{choice:!0},{choice:!1}],this.weight=1;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};Ai=I([ut("RemoveLargeSidebarExperiment"),A(),O("design:paramtypes",[Ct,Et])],Ai);let Ii=class extends xt{constructor(e){super(),this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.shouldUseCoreExperimentsConfig=!1,this.key="smhd100";const t=window.adthriveCLS,i=t&&t.experiments;this._result=i&&this.key in i?i[this.key]:this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new Pt(.1).get()}};Ii=I([ut("RemoveLargeSizeExperiment"),A(),O("design:paramtypes",[Ct])],Ii);let Mi=class{constructor(e,t,i,s,n){this._adOptions=t,this._removeLargeSizeExperiment=i,this._removeLargeSidebarExperiment=s,this._stickyOutstreamSiteExperiment=n,this._stickyOutstreamEnabled=!1,this._supportedSizes=[[728,90],[300,250],[300,600],[320,50],[970,250],[160,600],[300,1050],[336,280],[970,90],[300,50],[320,100],[468,60],[250,250],[120,240],[1,1],[300,300],[552,334],[300,420],[728,250],[320,300],[300,390]],this._interstitialSupportedSizes=[[320,50],[300,250],[300,600],[336,280],[320,480],[1,1]],this._adUnitAuctionPriorityMap=new Map([["Footer",1],["Header",2],["Sidebar",3],["Content",4],["Recipe",5],["Sidebar_sticky",6],["Below Post",7]]),this._adUnitSettingTemplate={auctionPriority:8,autosize:!0,classNames:[],devices:["tablet","phone","desktop"],elementSelector:"body",every:1,lazy:!1,lazyMax:0,lazyMaxDefaulted:!1,location:"",max:1,pageSelector:"",position:"beforebegin",sequence:1,sizes:[],skip:0,spacing:0,special:[],sticky:!1,stickyOverlapSelector:""};const{tablet:r,desktop:o}=e.siteAds.breakpoints;this._device=Y(r,o),this._adthriveSiteAds=e.siteAds,this._adthriveOptions=this._adthriveSiteAds.adOptions,this._adUnits=e.siteAds.adUnits,this.setupStickyOutstreamSettings(e),this.setupInterstitialSettings()}setupStickyOutstreamSettings(e){const t=e.siteAds.video&&e.siteAds.video.partners&&e.siteAds.video.partners.stickyOutstream,i=this._adthriveSiteAds.videoPlayers&&this._adthriveSiteAds.videoPlayers.partners&&this._adthriveSiteAds.videoPlayers.partners.stickyOutstream,s=t||i,n=Ti(e);if(this._stickyOutstreamSiteExperiment.enabled?this._stickyOutstreamSiteExperiment.result:n){this._stickyOutstreamEnabled=!0;const e={...this._adUnitSettingTemplate};e.sticky=!0,e.location="Video_StickyOutstream",e.position="beforeend",e.pageSelector=Q(s&&s.blockedPageSelectors,""),e.sizes="phone"===this._device?[[300,50]]:[[300,250]],this._stickyOutstreamSettingTemplate=e}}setupInterstitialSettings(){const e={...this._adUnitSettingTemplate},t=this._adthriveOptions;e.location="Interstitial",e.sizes=this.interstitalSupportedSizes(),e.pageSelector=Q(t.interstitialBlockedPageSelectors||t.mobileInterstitialBlockedPageSelectors,""),this._interstitialSettingTemplate=e}get(){this._adUnits.sort(((e,t)=>{const i="Sidebar"===e.location&&e.sticky?`${e.location}_sticky`:e.location,s="Sidebar"===t.location&&t.sticky?`${t.location}_sticky`:t.location;return this._adUnitAuctionPriorityMap.get(i)-this._adUnitAuctionPriorityMap.get(s)}));const e=this._adUnits.filter((e=>void 0!==e.dynamic&&e.dynamic.enabled)).map((e=>{const t=e.location.replace(/\s+/g,"_");return{auctionPriority:this._adUnitAuctionPriorityMap.get(t)||8,location:t,sequence:Q(e.sequence,1),sizes:this.onlySupportedAdSizes(e.adSizes).filter((t=>this.excludeTallSizes(e.location,t,e.sequence,e.adSizes))),devices:e.devices,pageSelector:Q(e.dynamic.pageSelector,"").trim(),elementSelector:Q(e.dynamic.elementSelector,"").trim(),position:Q(e.dynamic.position,"beforebegin"),max:Math.floor(Q(e.dynamic.max,0)),spacing:Q(e.dynamic.spacing,0),skip:Math.floor(Q(e.dynamic.skip,0)),every:Math.max(Math.floor(Q(e.dynamic.every,1)),1),classNames:e.dynamic.classNames||[],sticky:"Footer"===e.location||e.sticky,stickyOverlapSelector:Q(e.stickyOverlapSelector,"").trim(),autosize:e.autosize,special:Q(e.targeting,[]).filter((e=>"special"===e.key)).reduce(((e,t)=>e.concat(...t.value)),[]),lazy:Q(e.dynamic.lazy,!1),lazyMax:Q(e.dynamic.lazyMax,2),lazyMaxDefaulted:0!==e.dynamic.lazyMax&&!e.dynamic.lazyMax}}));return this._stickyOutstreamEnabled&&this._stickyOutstreamSettingTemplate&&e.push(this._stickyOutstreamSettingTemplate),this._adOptions.interstitial.gam&&this._interstitialSettingTemplate&&e.push(this._interstitialSettingTemplate),e}onlySupportedAdSizes(e){return this._supportedSizes.filter((([t,i])=>e.some((([e,s])=>t===e&&i===s))))}interstitalSupportedSizes(){return this._interstitialSupportedSizes.filter((([e,t])=>"phone"===this._device||"320,50"!=`${e},${t}`))}excludeTallSizes(e,[t,i],s,n){return!("Footer"===e&&"phone"===this._device&&320===t&&100===i||"Header"===e&&i>100&&this._removeLargeSizeExperiment.result||"Sidebar"===e&&9!==s&&n.some((([e,t])=>t<=300))&&i>300&&this._removeLargeSidebarExperiment.result)}};Mi=I([P(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Kt,Ii,Ai,Pi])],Mi);let Oi=class extends xt{constructor(e){super(),this.key="ebho",this._choices=[{choice:{name:"ix_ebda",weight:.5}},{choice:{name:"medianet_ebda",weight:4}},{choice:{name:"openx_ebda",weight:1}},{choice:{name:"pubmatic_ebda",weight:1}},{choice:{name:"rhythmone_ebda",weight:5}},{choice:{name:"rubicon_ebda",weight:6}},{choice:{name:"sharethrough_ebda",weight:10}},{choice:{name:"smart_ebda",weight:1}},{choice:{name:"sonobi_ebda",weight:1}},{choice:{name:"sovrn_ebda",weight:10}},{choice:{name:"emx_ebda",weight:1}},{choice:{name:"triplelift_ebda",weight:1}},{choice:{name:"verizon_ebda",weight:36}},{choice:{name:"yieldmo_ebda",weight:10}},{choice:{name:"mediagrid_edba",weight:1}},{choice:{name:"xandr_ebda",weight:1}}],this._result=this.run(),e.set(this.key,this._result?this._result.name:"off")}get result(){return this._result}run(){const e=this._choices.map((e=>e.choice)).map((e=>({choice:e,weight:e.weight}))),t=new At(e);return t.totalWeight,t.get()}};Oi=I([ut("EBHOExperiment"),A(),O("design:paramtypes",[Ct])],Oi);let zi=class{constructor(e){this.bidder=e.result}};zi=I([A(),O("design:paramtypes",[Oi])],zi);let Ri=class extends xt{constructor(e,t){super(),this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.key="loglevel",this.weight=.01;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Ri.prototype,"run",null),Ri=I([ut("EventLogExperiment"),A(),O("design:paramtypes",[Ct,Et])],Ri);let Bi=class{constructor(e){this.enabled=e.result}};Bi=I([A(),O("design:paramtypes",[Ri])],Bi);let Di=class{constructor(){this.elements=[]}};Di=I([A()],Di);let Vi=class{constructor(e){this.prefix="AdThrive",this.networkCode="18190176",this._gamMCMEnabled=Q(e.siteAds.adOptions.gamMCMEnabled,!1),this._gamMCMChildNetworkCode=Q(e.siteAds.adOptions.gamMCMChildNetworkCode,""),this.account=this._gamMCMEnabled&&""!==this._gamMCMChildNetworkCode?`${this.networkCode},${this._gamMCMChildNetworkCode}`:this.networkCode;const t=new Set(["service","bidding","dynamicVersion"]);this.targeting=e.siteAds.targeting.filter((({key:e})=>!t.has(e))).map((({key:e,value:t})=>("boolean"==typeof t&&(t=String(t)),{key:e,value:t})))}};Vi=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Vi);let Li=class extends xt{constructor(){super(),this._result=[],this.shouldUseCoreExperimentsConfig=!1,this._choices=[{choice:"33across",threshold:.1},{choice:"appnexus",threshold:.01},{choice:"brightroll",threshold:.01},{choice:"colossus",threshold:.01},{choice:"conversant",threshold:.1},{choice:"concert",threshold:.05},{choice:"criteo",threshold:.01},{choice:"grid",threshold:.005},{choice:"gumgum",threshold:.01},{choice:"kargo",threshold:.01},{choice:"ix",threshold:.005},{choice:"nativo",threshold:.75},{choice:"openx",threshold:.01},{choice:"pubmatic",threshold:.01},{choice:"roundel",threshold:.1},{choice:"rubicon",threshold:.01},{choice:"sharethrough",threshold:.1},{choice:"teads",threshold:.01},{choice:"triplelift",threshold:.005},{choice:"ttd",threshold:.01},{choice:"undertone",threshold:.01},{choice:"unruly",threshold:.01},{choice:"verizon",threshold:.01},{choice:"yahoossp",threshold:.01},{choice:"yieldmo",threshold:.1}],this.key="hbho",this._result=this.run(),this.result.length||(this._result=["none"])}get result(){return this._result}run(){return this._choices.filter((({threshold:e})=>new Pt(e).get())).map((({choice:e})=>e))}};Li=I([ut("HBHOExperiment"),A(),O("design:paramtypes",[])],Li);let Fi=class{constructor(e){this.bidders=e.result}};Fi=I([A(),O("design:paramtypes",[Li])],Fi);let Ni=class{constructor(e){this.apiReady=new R,this.optIn=new R,this._liveRampATS=Q(e.siteAds.adOptions.liveRampATS,!1)}get enabled(){return this._liveRampATS}};Ni=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Ni);let Ui=class extends xt{constructor(e){super(),this._choices=[{choice:{name:"id5Id",weight:5}},{choice:{name:"identityLink",weight:1}},{choice:{name:"unifiedId",weight:1}},{choice:{name:"sharedId",weight:1}},{choice:{name:"criteo",weight:1}},{choice:{name:"connectId",weight:5}},{choice:{name:"fabrickId",weight:5}},{choice:{name:"FTrackId",weight:5}}],this.key="idho",this._result=this.run(),e.set(this.key,this.result?this.result.name:"off")}get result(){return this._result}run(){const e=this._choices.map((e=>e.choice)).map((e=>({choice:e,weight:e.weight}))),t=new At(e);return t.totalWeight,t.get()}};Ui=I([ut("IDHOExperiment"),A(),O("design:paramtypes",[Ct])],Ui);let ji=class{constructor(e){this.subModule=e.result}};ji=I([A(),O("design:paramtypes",[Ui])],ji);let qi=class{constructor(){this.refreshSlots=new Set(["Footer"]),this.ajaxType=!1}};qi=I([A()],qi);let Hi=class extends Ft{init(){this._key="lzbpvp"}run(){return super.run()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Hi.prototype,"run",null),Hi=I([ut("BelowPostMarginExperiment"),A()],Hi);let Gi=class extends Ft{init(){this._key="lzcvp"}run(){return super.run()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Gi.prototype,"run",null),Gi=I([ut("ContentMarginExperiment"),A()],Gi);let $i=class extends xt{constructor(e,t){super(),this._result=!1,this.key="lzhb",this._choices=[{choice:!0},{choice:!1}],this.weight=1;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],$i.prototype,"run",null),$i=I([ut("LZHBExperiment"),A(),O("design:paramtypes",[Ct,Et])],$i);let Wi=class{constructor(e,t,i){var s,n;this._defaultViewPort=2,this._infScrollViewPort=4,this.googleLazyLoadSettings={disabled:{fetchMarginPercent:-1,renderMarginPercent:-1,mobileScaling:-1},gam:{fetchMarginPercent:600,renderMarginPercent:100,mobileScaling:1.5},hbMarginPercent:700},this.lzhb=e.result,this.viewports={content:null!==(s=t.result)&&void 0!==s?s:2,belowPost:null!==(n=i.result)&&void 0!==n?n:.75,default:this._defaultViewPort,infScroll:this._infScrollViewPort}}};Wi=I([A(),O("design:paramtypes",[$i,Gi,Hi])],Wi);let Ki=class{constructor(e){this._url="https://ats.rlcdn.com/ats.js",this._config={placementID:111,storageType:"localStorage",detectionType:"direct",logging:"error"},this.enabled=Q(e.siteAds.adOptions.liveRampATS,!0)}};Ki=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Ki);const Qi={AS:{location:"Sponsor_Tile",selectors:["h1.entry-title","h1.post-title","h1.posttitle","h1.story-title","h1.heading",".post > .post-title"],size:[[300,55],[234,60]],position:"afterend",classNames:["adthrive-sponsor-tile"],find:e=>document.querySelector(e),requireSelectorMatch:!0,lazy:!1},NR:{location:"Native_Recipe",sequence:1,selectors:['[itemscope][itemtype$="//schema.org/Recipe"] [itemprop="recipeIngredient"]:last-child','[itemscope][itemtype$="//schema.org/Recipe"] [itemprop="ingredients"]:last-child','[itemscope][itemtype$="//schema.org/Recipe"] .ingredient:last-child',".wprm-recipe-ingredient:last-child","#recipe .ingredients",".wprm-recipe-ingredients-container",".tasty-recipe-ingredients",'[class*="recipe"] [class*="ingredient"] ul li:last-child','[class*="create-ingredient"] ul li:last-child','[class*="tasty-recipe"] [class*="ingredient"] p:last-child',"[class*=recipe] [class*=recipe] ~ p + ul li:last-child"],size:[[225,65],[234,60],[300,100]],position:"afterend",classNames:["adthrive-native-recipe"],find:e=>{const t=document.querySelectorAll(e);return t.length>0?t[t.length-1]:null},requireSelectorMatch:!1,lazy:!0}};let Xi=class{constructor(e,t){if(this.loaded=!1,this.campaigns=[],this.siteCodes=[],this.adViewability=[],this.speed=navigator.connection&&"4g"===navigator.connection.effectiveType?"1":"0",this.adUnits=Qi,this.selectorMatches=[],this.ortbSegments=new Map,this.rfMcmpCodes=[],this.rfIabCodes=[],this.rfDataProcessed=new R,this.hvThreshold=.6,this.mcmp=[],this.flpProdIds=[],this.activeCampaign=e=>{const t=Date.now();return t>=this.parseDate(e.start_date).getTime()&&t<=this.parseDate(e.expiration_date).getTime()},e){this.loaded=!0;const{host:i,page:s,adViewability:n}=e;if(i&&i.length&&(this.siteCodes=i[0].site_codes||[]),s&&s.length){const e=s[0].campaigns||[];this.campaigns=e.filter(this.activeCampaign)}n&&n.length&&(this.adViewability=n);const r=this.getMcmpFlpIds();this.mcmp=r.mcmp||[],this.flpProdIds=r.flpProdIds||[],this.ortbSegments=this.campaigns.reduce(((e,t)=>{const i=new RegExp(/(^iab(a|c))_(\d*)/),[,s,,n]=i.exec(t.dfp_id)||[];if(n){const t=e.get(s)||[];t.push({id:n}),s&&t.length&&e.set(s,t)}return e}),new Map);const o=e=>{e.forEach((e=>{const t=e[0],i=e[1];if("_A"===t.substring(t.length-2))this.rfMcmpCodes.push([t,i]);else{const e=t.substring(t.indexOf("_")+1);i.includes("rubicon")&&this.ortbSegments.set("iaba",[{id:e}]),this.rfIabCodes.push([t,i])}})),this.rfDataProcessed.emit()};t.recencyFrequencyDataSet.on(o,{handleEventsAlreadyEmitted:!0})}}isValidMarmaladeCampaign(e){const t=e.dfp_id.substring(0,2),i=this.adUnits[t];if(i){const e=i.find(i.selectors.join(","));return e&&this.selectorMatches.push({adUnit:i,match:e}),!i.requireSelectorMatch||!!e}return!0}getMcmpFlpIds(){return this.campaigns.filter((e=>this.isValidMarmaladeCampaign(e))).reduce(((e,t)=>(e.mcmp.push(t.dfp_id),t.flp_prod_id&&e.flpProdIds.push(...JSON.parse(t.flp_prod_id)),e)),{mcmp:[],flpProdIds:[]})}parseDate(e){const t=e.split("-");return new Date(Number(t[0]),Number(t[1])-1,Number(t[2]))}};var Yi;Xi=I([A(),M(0,T("RecencyFrequencyMarmaladeResponse")),O("design:paramtypes",[Object,Mt])],Xi),function(e){e.ThirtyThreeAcross="33across",e.AppNexus="appnexus",e.Brightroll="brightroll",e.Colossus="colossus",e.ColossusServer="col_ss",e.Conversant="conversant",e.Concert="concert",e.Criteo="criteo",e.GumGum="gumgum",e.IndexExchange="ix",e.Kargo="kargo",e.MediaGrid="grid",e.MediaGridVideo="gridvid",e.Nativo="nativo",e.OpenX="openx",e.OpenXServer="opnx_ss",e.Pubmatic="pubmatic",e.PubmaticServer="pubm_ss",e.Roundel="roundel",e.Rubicon="rubicon",e.RubiconServer="rubi_ss",e.Sharethrough="sharethrough",e.Spotx="spotx",e.Teads="teads",e.Telaria="telaria",e.Triplelift="triplelift",e.TripleliftServer="tripl_ss",e.TTD="ttd",e.Undertone="undertone",e.Unruly="unruly",e.YahooSSP="yahoossp",e.Verizon="verizon",e.Yieldmo="yieldmo"}(Yi||(Yi={}));let Ji=class{constructor(e){this._biddersConfig=new Map;const t=e.siteAds.videoPlayers&&e.siteAds.videoPlayers.partners,i=e.siteAds.video&&e.siteAds.video.partners;this._adOptions=e.siteAds.adOptions,this._videoPartners=t||i||{},e&&e.core&&e.core.partners.forEach((e=>{if(e.bidder_name){const t=Q(e.enabled,!0),i=new Map;e.cpm&&e.cpm.length&&e.cpm.forEach((e=>{i.set(e.name,e)})),this._biddersConfig.set(e.bidder_name,{bidder_name:e.bidder_name,enabled:t,cpmMap:i})}})),this.display=new Map([[Yi.AppNexus,this.partnerEnabled(Yi.AppNexus,!1,!0,"appNexus")],[Yi.Brightroll,this.partnerEnabled(Yi.Brightroll,!0,!0,Yi.Brightroll)],[Yi.Concert,this.partnerEnabled(Yi.Concert,!1,!1,Yi.Concert)],[Yi.Colossus,this.partnerEnabled(Yi.Colossus,!0,!0,Yi.Colossus)],[Yi.Conversant,this.partnerEnabled(Yi.Conversant,!1,!0,Yi.Conversant)],[Yi.Criteo,this.partnerEnabled(Yi.Criteo,!0,!0,Yi.Criteo)],[Yi.IndexExchange,this.partnerEnabled(Yi.IndexExchange,!1,!0,"indexExchange")],[Yi.GumGum,this.partnerEnabled(Yi.GumGum,!0,!0,Yi.GumGum)],[Yi.Kargo,this.partnerEnabled(Yi.Kargo,!0,!0,Yi.Kargo)],[Yi.MediaGrid,this.partnerEnabled(Yi.MediaGrid,!0,!0,"mediaGrid")],[Yi.MediaGridVideo,this.partnerEnabled(Yi.MediaGridVideo,!0,!0,"mediaGrid")],[Yi.Nativo,this.partnerEnabled(Yi.Nativo,!0,!0,Yi.Nativo)],[Yi.OpenX,this.partnerEnabled(Yi.OpenX,!1,!0,Yi.OpenX)],[Yi.Pubmatic,this.partnerEnabled(Yi.Pubmatic,!0,!0,"pubMatic")],[Yi.Rubicon,this.partnerEnabled(Yi.Rubicon,!0,!0,Yi.Rubicon)],[Yi.Sharethrough,this.partnerEnabled(Yi.Sharethrough,!0,!0,Yi.Sharethrough)],[Yi.Spotx,this.partnerEnabled(Yi.Spotx,!0,!0)],[Yi.Teads,this.partnerEnabled(Yi.Teads,!0,!0,Yi.Teads)],[Yi.Roundel,this.partnerEnabled(Yi.Roundel,!0,!0,Yi.Roundel)],[Yi.Telaria,this.partnerEnabled(Yi.Telaria,!0,!0)],[Yi.ThirtyThreeAcross,this.partnerEnabled(Yi.ThirtyThreeAcross,!0,!0,"thirtyThreeAcross")],[Yi.Triplelift,this.partnerEnabled(Yi.Triplelift,!0,!0,"tripleLift")],[Yi.TTD,this.partnerEnabled(Yi.TTD,!0,!0,"theTradeDesk")],[Yi.Undertone,this.partnerEnabled(Yi.Undertone,!0,!0,Yi.Undertone)],[Yi.Unruly,this.partnerEnabled(Yi.Unruly,!0,!0,Yi.Unruly)],[Yi.Verizon,this.partnerEnabled(Yi.Verizon,!0,!0,Yi.Verizon)],[Yi.YahooSSP,this.partnerEnabled(Yi.YahooSSP,!0,!0,Yi.YahooSSP)],[Yi.Yieldmo,this.partnerEnabled(Yi.Yieldmo,!0,!0,Yi.Yieldmo)],["AmazonUAM",this.partnerEnabled("AmazonUAM",!0,!0,"amazonUAM")]]),this.video=new Map([["AmazonUAM",this.videoPartnerEnabled("AmazonUAM",!0,"amazonUAM")],[Yi.AppNexus,this.videoPartnerEnabled(Yi.AppNexus,!0,"appNexus")],[Yi.Colossus,this.videoPartnerEnabled(Yi.Colossus,!0,Yi.Colossus)],[Yi.Conversant,this.videoPartnerEnabled(Yi.Conversant,!1,Yi.Conversant)],[Yi.Criteo,this.videoPartnerEnabled(Yi.Criteo,!0,Yi.Criteo)],[Yi.GumGum,this.videoPartnerEnabled(Yi.GumGum,!0,Yi.GumGum)],[Yi.IndexExchange,this.videoPartnerEnabled(Yi.IndexExchange,!0,"indexExchange")],[Yi.MediaGridVideo,this.videoPartnerEnabled(Yi.MediaGridVideo,!0,"mediaGrid")],[Yi.OpenX,this.videoPartnerEnabled(Yi.OpenX,!0,Yi.OpenX)],[Yi.Pubmatic,this.videoPartnerEnabled(Yi.Pubmatic,!0,"pubMatic")],[Yi.Rubicon,this.videoPartnerEnabled(Yi.Rubicon,!0,Yi.Rubicon)],[Yi.Sharethrough,this.videoPartnerEnabled(Yi.Sharethrough,!0,Yi.Sharethrough)],[Yi.Spotx,this.videoPartnerEnabled(Yi.Spotx,!0,Yi.Spotx)],[Yi.Telaria,this.videoPartnerEnabled(Yi.Telaria,!1,Yi.Telaria)],[Yi.ThirtyThreeAcross,this.videoPartnerEnabled(Yi.ThirtyThreeAcross,!0,"thirtyThreeAcross")],[Yi.Triplelift,this.videoPartnerEnabled(Yi.Triplelift,!0,"tripleLift")],[Yi.TTD,this.videoPartnerEnabled(Yi.TTD,!0,Yi.TTD)],[Yi.Unruly,this.videoPartnerEnabled(Yi.Unruly,!0,Yi.Unruly)],[Yi.YahooSSP,this.videoPartnerEnabled(Yi.YahooSSP,!0,Yi.YahooSSP)],[Yi.Kargo,this.videoPartnerEnabled(Yi.Kargo,!0,Yi.Kargo)]])}getBidderConfig(e){return Q(this._biddersConfig.get(e),{bidder_name:e,enabled:!0,cpmMap:new Map})}partnerEnabled(e,t=!0,i,s){var n;const r=s?Q(this._adOptions[s],t):void 0,o=Q(null===(n=this._biddersConfig.get(e))||void 0===n?void 0:n.enabled,i);return"AmazonUAM"===e?r:s?r&&o:o}videoPartnerEnabled(e,t,i){const s=this.display.get(e),n=Q(this._videoPartners[i],t);return!(!s||!n)}};Ji=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Ji);let Zi=class extends xt{constructor(e){super(),this.key="SensOffExperiment",this._choices=[],this._sensCategories=Q(e.siteAds.adOptions.sensitiveCategories,[]),this._choices=this._sensCategories.map((e=>({choice:[e]}))),this._result=this.run()}get result(){return this._result}run(){return this._sensCategories.filter((()=>new Pt(.01).get()))}};Zi=I([ut("SensOffExperiment"),A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Zi);let es=class{constructor(e,t){this._sensOffExperiment=t,this.id=e.siteAds.siteId,this.name=e.siteAds.siteName,this.verticals=e.siteAds.adOptions.verticals,this.sensitiveCategories=Q(e.siteAds.adOptions.sensitiveCategories,[]),this.sensCategoriesOff=this._sensOffExperiment.result,this.filteredSensitiveCategories=this.sensitiveCategories.filter((e=>-1===this.sensCategoriesOff.indexOf(e))),this.breakpoints=e.siteAds.breakpoints,this.style=e.style}};es=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Zi])],es);let ts=class extends Ft{init(){this._key="magnitedr"}run(){return super.run()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ts.prototype,"run",null),ts=I([ut("RubiconExperiment"),A()],ts);let is=class extends Ft{init(){this._key="opnxdr"}run(){return super.run()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],is.prototype,"run",null),is=I([ut("OpenXExperiment"),A()],is);let ss=class extends Ft{init(){this._key="tripleliftdr"}run(){return super.run()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ss.prototype,"run",null),ss=I([ut("TripleLiftExperiment"),A()],ss);let ns=class extends xt{constructor(e){super(),this._choices=[{choice:"both",weight:100},{choice:"client",weight:0},{choice:"server",weight:0}],this.key="coldr",this._result=this.run(),e.set(this.key,this._result)}get result(){return this._result}run(){return new At(this._choices).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ns.prototype,"run",null),ns=I([ut("ColossusExperiment"),A(),O("design:paramtypes",[Ct])],ns);let rs=class extends xt{constructor(e,t,i,s,n){super(),this._result=["33across","brightroll","conversant","pubm_ss","unruly","yieldmo"],this.shouldUseCoreExperimentsConfig=!1,this._choices=[{choice:"appnexus",threshold:.05},{choice:"grid",threshold:.9},{choice:"gumgum",threshold:Jt()?1:.02}],this.key="pbs2s",this.addToS2SBidders("tripl_ss",t&&t.result),this.addToS2SBidders("rubi_ss",i&&i.result),this.addToS2SBidders("col_ss",s&&s.result),this.addToS2SBidders("opnx_ss",n&&n.result);const r=this.run();this._choices.forEach((({choice:t})=>{const i=t;r.includes(i)?(this._result.push(i),e.set(`pbs2s_${i}`,"on")):e.set(`pbs2s_${i}`,"off")}))}get result(){return this._result}run(){return this._choices.filter((({threshold:e})=>new Pt(e).get())).map((({choice:e})=>e))}addToS2SBidders(e,t){"both"!==t&&"server"!==t||this._result.push(e)}};rs=I([ut("S2SExperiment"),A(),O("design:paramtypes",[Ct,ss,ts,ns,is])],rs);let os=class extends Ft{init(){this._key="adt"}};os=I([ut("AuctionDelayExperiment"),A()],os);let as=class{constructor(e,t,i,s){var n;this._gam=i,this._site=s,this.bidPoolSlots=["Below_Post"],this.deals=[],this.targetingKeys=["ADOMAIN","AD_ID","BIDDER","CACHE_ID","CACHE_HOST","DEAL","FORMAT","PRICE_BUCKET","SIZE","SOURCE","UUID","INTERSTITIAL"],this.sendAllBidsTargetingKeys=this.targetingKeys.filter((e=>!["ADOMAIN","BIDDER","INTERSTITIAL"].includes(e))),this.interstitialAdUnitCode=`gpt_unit_/${this._gam.account}/AdThrive_Interstitial_1/${this._site.id}_0`,this.s2s=this.s2s={bidders:e.result},this.auctionDelay=null!==(n=t.result)&&void 0!==n?n:0}};as=I([A(),O("design:paramtypes",[rs,os,Vi,es])],as);const ls=e=>{const t=e.substring(13).split(".").map((e=>parseInt(e)));return{major:t[0],minor:t[1],patch:t[2]}},ds=(e,t)=>{const i=ls(e),s=ls(t);return!(i.major>s.major)&&(i.major<s.major||!(i.minor>s.minor)&&(i.minor<s.minor||!(i.patch>s.patch)&&(i.patch<=s.patch||void 0)))};let cs=class{constructor(e){this.settings=e.siteAds.adDensityLayout,this._adDensityEnabled=Q(e.siteAds.adDensityEnabled,!0),this.enabled=this.isEnabled()}isEnabled(){const e=window,t=e.adthrive&&e.adthrive.plugin,i=e.adthriveCLS,s=i&&i.experiments,n=!(!s||!("clsins_ss"in s))||!(!t||!ds("adthrive-ads-1.1.0",t));return!!(this.settings&&this._adDensityEnabled&&n)}};cs=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],cs);let hs=class extends Ft{init(){const e=x.resolve(Ci);this._key=(e=>{const t=(e=>{const t=e.downlink;return void 0===t?"unknown":t<10?"slow":"fast"})(e);if("desktop"===e.device)switch(t){case"fast":return"ito_df";case"slow":return"ito_ds";case"unknown":return"ito_dn"}else switch(t){case"fast":return"ito_mf";case"slow":return"ito_ms";case"unknown":return"ito_mn"}})(e)}};hs=I([ut("InitialTimeoutExperiment"),A()],hs);let ps=class{constructor(e){var t;this.initialBidsRequest=null!==(t=e.result)&&void 0!==t?t:2400,this.refreshBidsRequest=5e3}};ps=I([A(),O("design:paramtypes",[hs])],ps);let us=class{constructor(){this._data={}}set(e){this._data={...this._data,...e}}get(){return 0!==Object.keys(this._data).length?this._data:void 0}getByKey(e){return this._data[e]}clear(){this.set({})}};us=I([ut("UserPageDataLoggingStore"),A()],us);let gs=class{constructor(e){this._userPageDataLoggingStore=e,this.loggingData=new R,this._maxTimeOnPage=36e5,this._listeners=[],this._callbacks=new Set,this._requestSent=!1,setTimeout((()=>{this._callbacks.forEach((e=>this._executeCallback(e))),this.cleanup()}),this._maxTimeOnPage)}_executeCallback(e){e(),this._callbacks.delete(e),0===this._callbacks.size&&this.logUserPageData()}setUserPageData(e){e&&this._userPageDataLoggingStore.set(e)}logUserPageData(){this._requestSent||(D.fetchEvent("UserPageDataLoggingComponent","logUserData",this._userPageDataLoggingStore.get()),this._requestSent=!0,this.cleanup())}addCallbackToQueue(e,t){this._callbacks.add(t),e.forEach((e=>{this._listeners.push(e.on((()=>this._executeCallback(t))))}))}cleanup(){this._listeners.forEach((e=>{e()})),this._listeners=[],this._callbacks.clear()}};gs=I([ut("UserPageDataLoggingEvents"),A(),O("design:paramtypes",[us])],gs);let _s=class{constructor(e,t){this._userPageDataLoggingEvent=e,this._pageManager=t,this.started=0,this.loading=0,this.totalTimeOnPage=0,this.bootstrapFinished=0,this.amazonStarted=0,this.amazonFinished=0,this.amazonDuration=0,this.gamStarted=0,this.gamFinished=0,this.gamDuration=0,this.marmaladeStarted=0,this.marmaladeFinished=0,this.marmaladeDuration=0,this.floorsStarted=0,this.floorsFinished=0,this.floorsDuration=0,this.prebidStarted=0,this.prebidFinished=0,this.prebidDuration=0,this.webVitalsStarted=0,this.webVitalsFinished=0,this.webVitalsDuration=0,this.started=Ge(),"visible"===document.visibilityState&&(this.timeOnPage=this.started),this._pageManager.visibilityChange.on((()=>this.documentVisibilityChanged())),e.loggingData.on((()=>{"visible"===document.visibilityState&&(this.totalTimeOnPage+=Ge()-this.timeOnPage)}))}setNonBlockingLibraryTimingData(e){const t=e.get(ze.Prebid),i=e.get(ze.Amazon);this._setPrebidTimingData(t),this._setAmazonTimingData(i)}_setPrebidTimingData(e){this.prebidStarted=e&&e.started||0,this.prebidFinished=e&&e.finished||0,this.prebidDuration=e&&e.started&&e.finished&&e.finished-e.started||0}_setAmazonTimingData(e){this.amazonStarted=e&&e.started||0,this.amazonFinished=e&&e.finished||0,this.amazonDuration=e&&e.started&&e.finished&&e.finished-e.started||0}get timingData(){return{started:this.started,loading:this.loading,totalTimeOnPage:this.totalTimeOnPage,bootstrapFinished:this.bootstrapFinished,amazonStarted:this.amazonStarted,amazonFinished:this.amazonFinished,amazonDuration:this.amazonDuration,gamStarted:this.gamStarted,gamFinished:this.gamFinished,gamDuration:this.gamDuration,marmaladeStarted:this.marmaladeStarted,marmaladeFinished:this.marmaladeFinished,marmaladeDuration:this.marmaladeDuration,floorsStarted:this.floorsStarted,floorsFinished:this.floorsFinished,floorsDuration:this.floorsDuration,prebidStarted:this.prebidStarted,prebidFinished:this.prebidFinished,prebidDuration:this.prebidDuration,webVitalsStarted:this.webVitalsStarted,webVitalsFinished:this.webVitalsFinished,webVitalsDuration:this.webVitalsDuration,...this.timeOnPage&&{timeOnPage:this.timeOnPage}}}documentVisibilityChanged(){"visible"===document.visibilityState?this.timeOnPage=Ge():"hidden"===document.visibilityState&&(this.totalTimeOnPage+=Ge()-this.timeOnPage,this.timeOnPage=void 0)}};_s=I([A(),O("design:paramtypes",[gs,Si])],_s);let ms=class extends xt{constructor(e){super(),this._choices=[{choice:"ats",weight:1},{choice:"conf",weight:1},{choice:"hawk",weight:1},{choice:"tgtaff",weight:1},{choice:"amz",weight:1},{choice:"none",weight:95}],this.key="3pho",this._result=this.run(),e.set(this.key,this.result)}get result(){return this._result}run(){return new At(this._choices).get()}};ms=I([ut("TKHOExperiment"),A(),O("design:paramtypes",[Ct])],ms);let fs=class{constructor(e){this.tracker=e.result}};fs=I([A(),O("design:paramtypes",[ms])],fs);let ys=class extends xt{constructor(){super(),this._result=[],this.shouldUseCoreExperimentsConfig=!1,this._choices=[{choice:"appnexus",threshold:.1},{choice:"colossus",threshold:.01},{choice:"conversant",threshold:.01},{choice:"criteo",threshold:.01},{choice:"gridvid",threshold:.01},{choice:"gumgum",threshold:.5},{choice:"ix",threshold:.005},{choice:"openx",threshold:.1},{choice:"pubmatic",threshold:.01},{choice:"roundel",threshold:.1},{choice:"rubicon",threshold:.01},{choice:"sharethrough",threshold:.01},{choice:"spotx",threshold:.01},{choice:"telaria",threshold:.5},{choice:"triplelift",threshold:.01},{choice:"ttd",threshold:.01},{choice:"unruly",threshold:.01},{choice:"yahoossp",threshold:.01},{choice:"kargo",threshold:.01},{choice:"33across",threshold:.01}],this.key="vbho",this._result=this.run(),this.result.length||(this._result=["none"])}get result(){return this._result}run(){return this._choices.filter((({threshold:e})=>new Pt(e).get())).map((({choice:e})=>e))}};ys=I([ut("VBHOExperiment"),A(),O("design:paramtypes",[])],ys);let vs=class{constructor(e){this.bidders=e.result}};vs=I([A(),O("design:paramtypes",[ys])],vs);let bs=class extends xt{constructor(e){super(),this._choices=[{choice:{name:"ix_ebda",weight:5}},{choice:{name:"medianet_ebda",weight:10}},{choice:{name:"openx_ebda",weight:20}},{choice:{name:"pubmatic_ebda",weight:5}},{choice:{name:"rhythmone_ebda",weight:5}},{choice:{name:"rubicon_ebda",weight:5}},{choice:{name:"spotx_ebda",weight:0}},{choice:{name:"telaria_ebda",weight:0}},{choice:{name:"triplelift_ebda",weight:1}},{choice:{name:"verizon_ebda",weight:1}},{choice:{name:"emx_ebda",weight:5}},{choice:{name:"sharethrough_ebda",weight:10}},{choice:{name:"yieldmo_ebda",weight:20}},{choice:{name:"mediagrid_edba",weight:1}},{choice:{name:"xandr_ebda",weight:1}}],this.key="vebho",this._result=this.run(),e.set(this.key,this._result?this._result.name:"off")}get result(){return this._result}run(){const e=this._choices.map((e=>e.choice)).map((e=>({choice:e,weight:e.weight}))),t=new At(e);return t.totalWeight,t.get()}};bs=I([ut("VEBHOExperiment"),A(),O("design:paramtypes",[Ct])],bs);let Ss=class{constructor(e){this.bidder=e.result}};Ss=I([A(),O("design:paramtypes",[bs])],Ss);let Cs=class extends Ft{init(){this._key="cbt"}run(){return super.run()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Cs.prototype,"run",null),Cs=I([ut("CloseButtonTimeoutExperiment"),A()],Cs);let ws=class extends xt{constructor(e){super(),this.shouldUseCoreExperimentsConfig=!1,this._choices=[{choice:{protocols:[1,2,3,4,5,6,7,8],value:"all",scope:"all"},weight:55},{choice:{protocols:[2,3,5,6,7,8],value:"nv1",scope:"all"},weight:15},{choice:{protocols:[1,2,3,5,6,7,8],value:"allr",scope:"limited"},weight:15},{choice:{protocols:[2,3,5,6,7,8],value:"nv1r",scope:"limited"},weight:15}],this.key="proto",this._result=this.run(),e.set(this.key,this._result.value)}get result(){return this._result}run(){return new At(this._choices).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ws.prototype,"run",null),ws=I([ut("ProtocolsExperiment"),A(),O("design:paramtypes",[Ct])],ws);let Es=class extends Ft{init(){this._key="vast_to"}run(){return super.run()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Es.prototype,"run",null),Es=I([ut("VastTimeoutExperiment"),A()],Es);let ks=class extends Bt{constructor(e,t,i){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._choices=[],this._result=!1,this.key=je.RemoveVideoTitleWrapper,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key),this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){const e=this._choices[0].weight/100;return new Pt(e).get()}setExperimentTargeting(){if(!this.experimentConfig)return void D.error("RemoveVideoTitleWrapperSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=this._result?"on":"off";return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ks.prototype,"run",null),ks=I([ut("RemoveVideoTitleWrapperSiteExperiment"),A(),O("design:paramtypes",[Vt,wt,Ht])],ks);let xs=class extends Bt{constructor(e,t,i){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._choices=[],this._result=!1,this.key=je.VideoAdvancePlaylistRelatedPlayer,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);const s=this._siteExperiments.getVideoPlaylistByType("stickyPlaylist");this.enabled&&this.experimentConfig&&s.length>0&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){const e=this._choices[0].weight/100;return new Pt(e).get()}setExperimentTargeting(){if(!this.experimentConfig)return void D.error("VideoAdvancePlaylistRelatedPlayerSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=this._result?"on":"off";return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],xs.prototype,"run",null),xs=I([ut("VideoAdvancePlaylistRelatedPlayerSiteExperiment"),A(),O("design:paramtypes",[Vt,wt,Ht])],xs);class Ts{static getScrollTop(){return(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}static shufflePlaylist(e){let t,i,s=e.length;for(;0!==s;)i=Math.floor(Math.random()*e.length),s-=1,t=e[s],e[s]=e[i],e[i]=t;return e}static isMobileLandscape(){return window.matchMedia("(orientation: landscape) and (max-height: 480px)").matches}static playerViewable(e){const t=e.getBoundingClientRect();return this.isMobileLandscape()?window.innerHeight>t.top+t.height/2&&t.top+t.height/2>0:window.innerHeight>t.top+t.height/2}static playerVisible(e){const t=e.getBoundingClientRect();return window.innerHeight>t.top}static createQueryString(e){return Object.keys(e).map((t=>`${t}=${e[t]}`)).join("&")}static createEncodedQueryString(e){return Object.keys(e).map((t=>`${t}=${encodeURIComponent(e[t])}`)).join("&")}static setMobileLocation(e){return"top-left"===(e=e||"bottom-right")?e="adthrive-collapse-top-left":"top-right"===e?e="adthrive-collapse-top-right":"bottom-left"===e?e="adthrive-collapse-bottom-left":"bottom-right"===e?e="adthrive-collapse-bottom-right":"top-center"===e&&(e=ie()?"adthrive-collapse-top-center":"adthrive-collapse-bottom-right"),e}}let Ps=class extends xt{constructor(e,t,i){super(),this._result=!1,this.key="rvadv_ab1",this._choices=[{choice:!0},{choice:!1}],this.weight=1;const s=e.siteAds,n=s.adOptions.advancePlaylistOptions||{},r=s.videoPlayers,o=(r&&r.players||[]).filter((e=>"stickyPlaylist"===e.type)),a=i.getCoreExperiment(this.key);a&&o.length&&Q(n.relatedPlayer&&n.relatedPlayer.enabled,!0)&&(this.weight=a.variants[0].weight,this._result=this.run(),t.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Ps.prototype,"run",null),Ps=I([ut("AdvancePlaylistRelatedExperiment"),A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Ct,Et])],Ps);let As=class extends xt{constructor(e,t,i){super(),this._result=!1,this.key="vadv",this._choices=[{choice:!0},{choice:!1}],this.weight=1;const s=e.siteAds.adOptions.advancePlaylist,n=e.siteAds.adOptions.advancePlaylistOptions,r=n?n&&n.playlistPlayer&&n.playlistPlayer.enabled:s,o=i.getCoreExperiment(this.key);o&&Q(r,!0)&&(this.weight=o.variants[0].weight,this._result=this.run(),t.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],As.prototype,"run",null),As=I([ut("AdvancePlaylistExperiment"),A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Ct,Et])],As);let Is=class extends Ft{init(){this._key="reqTo"}run(){return super.run()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Is.prototype,"run",null),Is=I([ut("JwRequestTimeoutExperiment"),A()],Is);let Ms=class extends xt{constructor(e){super(),this._result=!1,this.key="LogAdDurationExperiment",this._choices=[{choice:!0},{choice:!1}],this.weight=.03;const t=e.getCoreExperiment(this.key);t&&(this.weight=t.variants[0].weight,this._result=this.run())}get result(){return this._result}run(){return new Pt(this.weight).get()}};Ms=I([ut("LogAdDurationExperiment"),A(),O("design:paramtypes",[Et])],Ms);let Os=class extends xt{constructor(e){super(),this._result=!1,this.key="LogAdLifeCycleExperiment",this._choices=[{choice:!0},{choice:!1}],this.weight=.1;const t=e.getCoreExperiment(this.key);t&&(this.weight=t.variants[0].weight,this._result=this.run())}get result(){return this._result}run(){return new Pt(this.weight).get()}};Os=I([ut("LogAdLifeCycleExperiment"),A(),O("design:paramtypes",[Et])],Os);let zs=class extends xt{constructor(e,t){super(),this._result=!1,this.key="pbm",this._choices=[{choice:!0},{choice:!1}],this._map=new Map([[Ve.Video_In_Post_ClicktoPlay_SoundOn,[3]],[Ve.Video_Collapse_Autoplay_SoundOff,[6]],[Ve.Video_Coll_SOff_Smartphone,[6]],[Ve.Video_Individual_Autoplay_SOff,[6]]]),this.weight=1;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),this.playbackmethod=this._result?this._map:void 0,e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],zs.prototype,"run",null),zs=I([ut("PlaybackmethodExperiment"),A(),O("design:paramtypes",[Ct,Et])],zs);let Rs=class{constructor(e,t,i,s,n,r,o,a,l){this.players=[],this.instreamAdUnits=new Set([Ve.Video_Collapse_Autoplay_SoundOff,Ve.Video_Individual_Autoplay_SOff,Ve.Video_Coll_SOff_Smartphone,Ve.Video_In_Post_ClicktoPlay_SoundOn]),this.closeButtonTimeout=Q(t.result,4e3),this.vastTimeout=Q(i.result,1e4),this.maxRedirect=8,this.apiValue=[2],this.videoWasClosed=Q(he("video_closed",18e5,!0),!1),this.mobileStickyPlayerOnPage=!1,this.playbackmethod=n.playbackmethod,this.logAdDuration=r.result,this.logAdLifeCycle=o.result,this.jwRequestTimeout=Q(a.result,15e3),this.mimeType=navigator.userAgent&&-1===navigator.userAgent.search(/Chrom|firefox/i)?["video/mp4","application/javascript"]:["video/mp4","application/javascript","video/webm"],this.videoProtocols=s.result,this.position={id:1,name:"above"},this.removeVideoTitleWrapper=Q(e.siteAds.adOptions.removeVideoTitleWrapper,!1);const d=e.siteAds.videoPlayers;this.footerSelector=Q(d&&d.footerSelector,""),this.players=Q(d&&d.players.map((e=>(e.mobileLocation=Ts.setMobileLocation(e.mobileLocation),e))),[]),this.contextualSettings=d&&d.contextual,this.jwPlaylist=this.getPlayListPlayerVideos(e),this.advancePlaylist=this.getAdvancePlaylistConfig(e,l),this.stickyOutstreamSettings=this._getStickyOutstreamSettings(e)}setupAdvanceRelatedExperiment(e){const t=x.resolve(xs),i=x.resolve(Ps),s=this.advancePlaylist.relatedPlayer;if(t.enabled)s.applyToFirst=t.result,s.shouldRun=this.jwPlaylist.then((e=>"object"==typeof e&&t.result)).catch((()=>Promise.reject().catch((()=>!1))));else{const t=e?s.sticky:s.static,n=t?t.enabled:s.enabled;s.applyToFirst=t?t.applyToFirst:s.applyToFirst,s.shouldRun=this.jwPlaylist.then((e=>"object"==typeof e&&n&&i.result)).catch((()=>Promise.reject().catch((()=>!1))))}}getPlayListPlayerVideos(e){const t=e.siteAds.videoPlayers,i=(t&&t.players||[]).filter((e=>"stickyPlaylist"===e.type)),s=i.length&&i[0].playlistId;return s?de(`https://cdn.jwplayer.com/v2/playlists/${s}`):Promise.reject().catch((()=>!1))}getAdvancePlaylistConfig(e,t){const i=(e.siteAds.adOptions.advancePlaylistOptions||{}).relatedPlayer||{};return{playlistPlayer:{enabled:t.result},relatedPlayer:{applyToFirst:Q(i.applyToFirst,!0),enabled:Q(i.enabled,!0),shouldRun:Promise.reject().catch((()=>!1)),static:i.static,sticky:i.sticky}}}_getStickyOutstreamSettings(e){const t=e.siteAds.videoPlayers&&e.siteAds.videoPlayers.partners&&e.siteAds.videoPlayers.partners.stickyOutstream,i=e.siteAds.video&&e.siteAds.video.partners.stickyOutstream;return Q(t||i,{blockedPageSelectors:"",mobile:{enabled:!1},desktop:{enabled:!1},allowForPageWithStickyPlayer:{enabled:!1},allowOnHomepage:!1})}};Rs=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Cs,Es,ws,zs,Ms,Os,Is,As])],Rs);let Bs=class{constructor(e,t,i,s,n){this._videoAdOptions=e,this.apiValue=[2],this.mobileStickyPlayerOnPage=!1,this.playlistPlayerAdded=!1,this.contextualPlayerAdded=!1,this.hasJwPlayer=!1,this.preventStickyOutstream=!1,this.hasStickyOutstream=!1,this.footerSelector="",this.removeVideoTitleWrapper=!1,this.instreamAdUnits=new Set([Ve.Video_Collapse_Autoplay_SoundOff,Ve.Video_Individual_Autoplay_SOff,Ve.Video_Coll_SOff_Smartphone,Ve.Video_In_Post_ClicktoPlay_SoundOn]);const r=this._videoAdOptions;this.videoProtocols=t.result,this.closeButtonTimeout=Q(i.result,4e3),this.vastTimeout=s.result,this.position={id:1,name:"above"},this.maxRedirect=8,this.playbackmethod=r.playbackmethod,this.advancePlaylist=r.advancePlaylist,this.jwPlaylist=r.jwPlaylist,this.setupAdvanceRelatedExperiment=r.setupAdvanceRelatedExperiment,this.contextualSettings=r.contextualSettings,this.mimeType=r.mimeType,this.videoProtocols=r.videoProtocols,this.closeButtonTimeout=r.closeButtonTimeout,this.jwRequestTimeout=r.jwRequestTimeout,this.logAdDuration=r.logAdDuration,this.logAdLifeCycle=r.logAdLifeCycle,this.vastTimeout=r.vastTimeout,this.videoWasClosed=r.videoWasClosed,this.removeVideoTitleWrapper=n.enabled?n.result:r.removeVideoTitleWrapper,this.players=r.players,this.footerSelector=r.footerSelector,this.stickyOutstreamSettings=r.stickyOutstreamSettings}};Bs=I([A(),O("design:paramtypes",[Rs,ws,Cs,Es,ks])],Bs);let Ds=class extends xt{constructor(){super(),this._result=["ax","ch","cr","gg","kg"],this._choices=[{choice:"ix",threshold:.95},{choice:"mn",threshold:.9},{choice:"ox",threshold:.8},{choice:"pu",threshold:.95},{choice:"un",threshold:.95},{choice:"ma",threshold:.95},{choice:"sx",threshold:1},{choice:"te",threshold:1},{choice:"tl",threshold:.99},{choice:"yh",threshold:.99},{choice:"em",threshold:.95},{choice:"sh",threshold:.9},{choice:"ym",threshold:.8},{choice:"mg",threshold:.99},{choice:"xr",threshold:.99}],this.key="voba";const e=this.run();this._choices.forEach((({choice:t})=>{const i=t;e.includes(i)&&this._result.push(i)}))}get result(){return this._result}run(){return this._choices.filter((({threshold:e})=>new Pt(e).get())).map((({choice:e})=>e))}};Ds=I([ut("VideoOpenBidderExperiment"),A(),O("design:paramtypes",[])],Ds);let Vs=class{constructor(e){this.bidders=e.result}};Vs=I([A(),O("design:paramtypes",[Ds])],Vs);let Ls=class{constructor(e,t,i,s,n,r,o,a,l,d,c,h,p,u,g,_,m,f,y,v,b,S,C,w,E,k,T,P,A,I,M,O,z,R,B){this.abGroup=e,this.adOptions=t,this.adTypes=i,this.amazon=s,this.ccpa=n,this.clsOptimizedAds=r,this.comscore=o,this.context=a,this.disableAds=l,this.ebho=d,this.floors=c,this.impressionLog=h,this.footer=p,this.gam=u,this.gdpr=g,this.hbho=_,this.identityApi=m,this.idho=f,this.infiniteScroll=y,this.lazyLoad=v,this.liveRampAts=b,this.marmalade=S,this.partners=C,this.pubAbGroup=w,this.prebid=E,this.site=k,this.targetDensity=T,this.timeouts=P,this.timing=A,this.tkho=I,this.vbho=M,this.vebho=O,this.video=z,this.videoOpenBidding=R,this.dynamicAds=B.get();const D=x.resolve(vi);D.enabled&&(this.clsOptions=D)}};Ls=I([A(),O("design:paramtypes",[Ct,Kt,Qt,fi,yi,Ei,ki,Ci,xi,zi,hi,Bi,Di,Vi,jt,Fi,Ni,ji,qi,Wi,Ki,Xi,Ji,wt,as,es,cs,ps,_s,fs,vs,Ss,Bs,Vs,Mi])],Ls);class Fs{constructor(e,t,i,s,n,r=!1,o=8,a,l=[],d=!0,c=!1){this.location=e,this.sequence=t,this.sizes=i,this.element=s,this.sticky=n,this.lazy=r,this.auctionPriority=o,this.stickyOverlapSelector=a,this.special=l,this.enabledForAuction=d,this.infinite=c,this.refreshPaused=!1,this.viewableDuration=0,this.outOfViewIO=!0,this.outOfViewGPT=!0,this.alwaysInView=!1,this.displayed=!1,this.refreshCount=0,this.viewability=0,this.highlyViewable=!1,this.hvp=0,this.servedPrebidBidResponse=void 0,this.lazyDisabled=!1,"Video_StickyOutstream"===this.location?this.stickyOutstreamErrorCount=0:"Below_Post"===this.location&&(this.bidPoolId="Below_Post_BPID")}get id(){return this.element.id}get isSticky(){return this.sticky}get hasHighViewability(){return this.sticky||"Recipe"===this.location}setHighlyViewable(e){const t=this.viewability>=Number(e&&e.hvThreshold);this.highlyViewable=this.lazy||t}setBidPoolId(e){e.includes(this.location)&&(this.bidPoolId=`${this.location}_BPID`)}isHighlyViewable(){return this.highlyViewable||this.lazy||this.refreshCount>0}get isAboveTheFold(){return(e=>{const t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset,bottom:t.bottom+window.pageYOffset,right:t.right+window.pageXOffset,width:t.right-t.left,height:t.bottom-t.top}})(this.element).top>1e3}hasSize([e,t]){return this.sizes.some((([i,s])=>e===i&&t===s))}get name(){return[this.location,this.sequence].filter(it).join("_")}get placementMapName(){return"Content"===this.location&&this.sequence&&this.sequence>9?"Content_9":this.name.includes("Below_Post")?"Below_Post":this.name}pushToQueue(e){const t=window.googletag;t&&t.cmd&&t.cmd.push(e)}setViewability(e){e.adViewability.filter((t=>t.speed===e.speed&&window.innerWidth>=t.width[0]&&(!t.width[1]||window.innerWidth<=t.width[1]))).forEach((e=>{Object.keys(e.adUnits).forEach((t=>{t===this.name?this.viewability=e.adUnits[t]:"Content"===this.location&&this.sequence>9?this.viewability=e.adUnits.Content:"Below_Post"===this.location&&this.sequence>1&&(this.viewability=e.adUnits.Below_Post)}))}))}clearTargeting(e){this.googleTagSlot?this.googleTagSlot.clearTargeting(e):D.error("Slot","setTargeting","Attempted to clear targeting before slot was defined",e)}setTargeting(e){this.pushToQueue((()=>{if(this.googleTagSlot){const t=Array.isArray(e)?e:[e];for(const e of t)this.googleTagSlot.setTargeting(e.key,e.value)}else D.error("Slot","setTargeting","Attempted to set targeting before slot was defined",e)}))}setSlotTargetingFlag(e,t,i=!1){const s=()=>{if(this.googleTagSlot){const s=this.googleTagSlot.getTargeting("flag_slot").filter((t=>{const[s]=t.split(":");return!i||s!==e}));this.googleTagSlot.setTargeting("flag_slot",[...s,...t.map((t=>`${e}:${t}`))])}};t&&t.length>0&&this.pushToQueue((()=>s()))}getTargeting(e){return this.googleTagSlot?this.googleTagSlot.getTargeting(e):(D.error("Slot","getTargeting","Attempted to get targeting before slot was defined",e),[])}getTargetingMap(){if(this.googleTagSlot){const e=this.googleTagSlot;return e.getTargetingKeys().reduce(((t,i)=>(t[i]=e.getTargeting(i),t)),{})}return D.error("Slot","getTargetingMap","Attempted to get targeting before slot was defined"),{}}}let Ns=class{constructor(){this.added=new R,this.bidServed=new R,this._slots=new Map}add(e){const t=this.castArray(e);for(const e of t)if(!this._slots.has(e.id)){this._slots.set(e.id,e);try{this.added.emit(e)}catch(e){D.error("Slots","add",e)}}return t}remove(e){const t=this.castArray(e);for(const e of t)this._slots.has(e.id)&&this._slots.delete(e.id)}get(e){return e?this._slots.get(e):[...this._slots.values()]}castArray(e){if("string"==typeof e){const t=this.get(e);return void 0!==t?[t]:[]}return Array.isArray(e)?e:[e]}};Ns=I([ut("Slots"),A()],Ns);let Us=class{getBidWithBsidForSlot(e,t){const i=e.filter((e=>e.meta&&e.meta.dchain)),s=new RegExp(`${t.location}_${t.sequence}(?!d)`,"i");for(let t=e.length-1;t>=0;t--){const{adUnitCode:n,meta:r}=e[t];if(s.test(n)&&this.getLastBsid(r))return i[t]}}getLastBsid(e={}){const{dchain:t}=e,i=t&&t.nodes||[];for(let e=i.length-1;e>=0;e--)if(i[e].bsid)return i[e].bsid}};Us=I([ut("DemandChain"),P()],Us);let js=class extends xt{constructor(e,t){super(),this.key="dcsll",this._result="off",this._choices=[{choice:"off",weight:30},{choice:"8.00",weight:50},{choice:"5.00",weight:10},{choice:"2.75",weight:5},{choice:"1.00",weight:5}],Q(t.siteAds.adOptions.dynamicContentSlotLazyLoading,!0)&&(this._result=this.run(),e.set(this.key,this._result))}get result(){return this._result}run(){return new At(this._choices).get()}};js=I([ut("DynamicContentSlotLazyLoadingExperiment"),A(),M(1,T("AdThrive")),O("design:paramtypes",[Ct,Object])],js);class qs{get enabled(){return!0}}let Hs=class extends qs{constructor(e,t){super(),this._dynamicContentSlotLazyLoadingExperiment=e,this._slotEventBus=t,this.cpmThresholdMet=!1}isContentSlot(e){return"Content"===e.location}isBelowPostSlot(e){return"Below_Post"===e.location}isValidLocation(e){return this.isContentSlot(e)||this.isBelowPostSlot(e)}isValidSequence(e){return e.sequence&&e.sequence<=9}isCPMCSlot(e){return e.sequence&&e.sequence<=2&&this.isContentSlot(e)}isTargetSlot(e){return!this.isCPMCSlot(e)&&this.isValidSequence(e)&&this.isValidLocation(e)}getSlotCPM(e,t){if(e.prebidAdUnit){const i=t.getHighestCpmBids(e.prebidAdUnit.code);if(i.length>0)return i[0].cpm}return 0}checkThresholdMet(e,t){return this.cpmThresholdMet||this.isCPMCSlot(e)&&(this.cpmThresholdMet=this.getSlotCPM(e,t)>=parseFloat(this._dynamicContentSlotLazyLoadingExperiment.result),this.cpmThresholdMet&&this.loadRemainingSlots()),this.cpmThresholdMet}loadRemainingSlots(){this._slotEventBus.unobserveBySlotLocation.emit(["Content","Below_Post"])}lazyLoadingEnabledForSlot(e,t){return"off"!==this._dynamicContentSlotLazyLoadingExperiment.result&&this.checkThresholdMet(e,t)&&this.isTargetSlot(e)?(e.setSlotTargetingFlag("dcsll",["true"]),e.lazyDisabled=!0,!1):e.lazy}};Hs=I([ut("DynamicContentSlotLazyLoadingComponent"),A(),O("design:paramtypes",[js,zt])],Hs);let Gs=class{constructor(){this._elements=[],this._emailProviderOnPage=!1,this.piiManagerReady=new R,this._emailProviders=[{divSelector:'div[id$="-optin"]'},{divSelector:'div[class^="cb-form-group"]'},{divSelector:"div.sumo-form-wrapper.listbuilder-popup"}],this.emailCaptured=new R,this._emailCheckTimeout=1500,this._eventMap=new Map([["mousemove",window],["scroll",window],["mouseleave",document],["om.Campaign.startShow",document]]),this._boundCallEventHandler=this.callCheckEmailProviders.bind(this),this._boundProcessEventHandler=this.processInputChange.bind(this),this.addElementListeners(),this.addEmailProviderListeners()}_captureEmail(e,t){this.emailCaptured.emit({email:e,source:"ecc"})}collectUrlEmailFromUrl(){const e=localStorage.getItem("adt_ei");e&&this.piiManagerReady.on((()=>{this.emailCaptured.emit({hash:e,source:"ecc"})}))}addEmailProviderListeners(){this._eventMap.forEach(((e,t)=>{e.addEventListener(t,this._boundCallEventHandler)}))}removeEmailProviderListeners(){this._eventMap.forEach(((e,t)=>{e.removeEventListener(t,this._boundCallEventHandler)}))}callCheckEmailProviders(e){("mouseleave"!==e.type||e.clientY<=0)&&setTimeout((()=>{this._emailProviderOnPage||this.emailProviderHandler()}),this._emailCheckTimeout)}emailProviderHandler(){for(const e of this._emailProviders){if(document.querySelectorAll(e.divSelector).length){this.removeEmailProviderListeners(),this._emailProviderOnPage=!0,this.addElementListeners();break}}}setElements(){this._elements=Array.prototype.slice.call(document.querySelectorAll("input[type=text], input[type=email], input[name=email]"))}addElementListeners(){this.setElements();for(const e of this._elements)e.addEventListener("blur",this._boundProcessEventHandler),e.addEventListener("change",this._boundProcessEventHandler)}removeElementListeners(){for(const e of this._elements)e.removeEventListener("blur",this._boundProcessEventHandler),e.removeEventListener("change",this._boundProcessEventHandler)}processInputChange(e){const t=e.target.value,i=ee(t);i&&(this._captureEmail(i,"_processInputChange"),this.removeElementListeners())}};Gs=I([ut("EmailCaptureHandler"),A(),O("design:paramtypes",[])],Gs);class $s{addAdUnits(e){this.addToQueue((()=>{pbjs.addAdUnits(e)}))}getPrebidAdUnits(){return window.pbjs&&window.pbjs.adUnits}addToQueue(e){pbjs.que.push(e)}enableAnalytics(e){this.addToQueue((()=>{pbjs.enableAnalytics(e)}))}isPrebidLoaded(){return window.pbjs&&window.pbjs.libLoaded}markWinningBidAsUsed(e){this.addToQueue((()=>{pbjs.markWinningBidAsUsed(e)}))}offEvent(e,t){this.addToQueue((()=>{pbjs.offEvent(e,t)}))}onEvent(e,t){this.addToQueue((()=>{pbjs.onEvent(e,t)}))}refreshUserIds(e,t){this.addToQueue((()=>{pbjs.refreshUserIds(e,t)}))}requestBids(e){this.addToQueue((()=>{pbjs.requestBids(e)}))}setAliasBidder(e,t){this.addToQueue((()=>{pbjs.aliasBidder(e,t)}))}setBidderConfig(e){this.addToQueue((()=>{pbjs.setBidderConfig(e)}))}setBidderSettings(e){this.addToQueue((()=>{pbjs.bidderSettings=e}))}setBidsReceivedFilter(e){this.addToQueue((()=>{pbjs.setBidsReceivedFilter(e)}))}setConfig(e){this.addToQueue((()=>{pbjs.setConfig(e)}))}setTargetingForGPTAsync(e,t=null,i=""){this.addToQueue((()=>{pbjs.setTargetingForGPTAsync(e,t,i)}))}triggerUserSyncs(){this.addToQueue((()=>{pbjs.triggerUserSyncs()}))}registerSignalSources(){this.addToQueue((()=>{pbjs.registerSignalSources()}))}clearTargetingForSharedBidPool(e){this.addToQueue((()=>{pbjs.clearTargetingForSharedBidPool(e)}))}waitForQueue(){return new Promise((e=>{this.isPrebidLoaded()||e(!1),pbjs.que.push((()=>{e(!0)}))}))}getBidResponsesForAdUnitCode(e){return pbjs.getBidResponsesForAdUnitCode(e)}getAdserverTargetingForAdUnitCode(e){return pbjs.getAdserverTargetingForAdUnitCode(e)}getAllPrebidWinningBids(){return pbjs.getAllPrebidWinningBids()}getConfig(e,t){return t?pbjs.getConfig(e,t):pbjs.getConfig(e)}getHighestCpmBids(e){return pbjs.getHighestCpmBids(e)}getHighestCpmBidsForPoolId(e){return pbjs.getHighestCpmBidsForPoolId(e)}}var Ws;let Ks=Ws=class{constructor(e,t,i,s,n,r,o){this._config=e,this._bootstrapEventBus=t,this._slots=i,this.emailCapture=s,this._prebidMethods=n,this._demandChain=r,this._dynamicContentSlotLazyLoadingComponent=o,this._started=!1,this.postStartTargetingWhiteList=["bms","pvk","flag","hi_au","abgroup","pubab","mcmp"],this.impressionViewable=new R,this.slotOnload=new R,this.slotRenderEnded=new R,this.slotVisibilityChanged=new R,this.slotRequested=new R,this.slotResponseReceived=new R,this.started=new R}init(){this.emailCapture.collectUrlEmailFromUrl(),Ws.pushToQueue((()=>{const e=googletag.pubads();e.setSafeFrameConfig({sandbox:!0,allowOverlayExpansion:!0,allowPushExpansion:!0}),e.set("page_url",this._config.context.pageUrl),e.collapseEmptyDivs(),e.enableSingleRequest(),e.disableInitialLoad(),e.setTagForChildDirectedTreatment(0),this._addGamEventListeners(),this._bootstrapEventBus.libraryLoadFailed.on((({bootstrapType:e})=>{e===ze.Prebid&&this.setTargetingFlag("pbjs",["failed"])}),{handleEventsAlreadyEmitted:!0})}))}start(){Ws.pushToQueue((()=>{googletag.enableServices();try{this.started.emit()}catch(e){D.error("GoogleAdManager","start","started",e)}this._started=!0}))}static pushToQueue(e){googletag.cmd.push(e)}waitForQueue(){return new Promise((e=>{googletag.cmd.push((()=>{e(!0)}))}))}setTargeting(e){const t=(Array.isArray(e)?e:[e]).filter((e=>!(!e.value||!e.value.length)));if(this._started&&t.some((e=>!this.postStartTargetingWhiteList.includes(e.key))))D.error("GoogleAdManager","setTargeting","Attempted to set targeting after started");else for(const e of t)e&&Ws.pushToQueue((()=>{googletag.pubads().setTargeting(e.key,e.value)}))}setSlotTargeting(e,t){const i=Array.isArray(e)?e:[e];for(const e of i)e&&Ws.pushToQueue((()=>{t.setTargeting(e.key,Array.isArray(e.value)?e.value.join(","):e.value)}))}setTargetingFlag(e,t,i=!1){const s=()=>{const s=googletag.pubads().getTargeting("flag").filter((t=>{const[s]=t.split(":");return!i||s!==e}));this.setTargeting({key:"flag",value:[...s,...t.map((t=>`${e}:${t}`))]})};t&&t.length>0&&Ws.pushToQueue((()=>s()))}getTargeting(){return googletag.pubads().getTargetingKeys().map((e=>({key:e,value:googletag.pubads().getTargeting(e)})))}getTargetingValuesForKey(e){return googletag.pubads().getTargeting(e)}getTargetingMap(){const e=googletag.pubads();return e.getTargetingKeys().reduce(((t,i)=>(t[i]=e.getTargeting(i),t)),{})}clearTargetingForKey(e){Ws.pushToQueue((()=>{googletag.pubads().clearTargeting(e)}))}_getPathname(e){return"Content"===e.location&&e.sequence&&e.sequence>9||"Below_Post"===e.location&&e.sequence&&e.sequence>1?e.location:e.name}defineSlots(e){const{id:t}=this._config.site,{account:i,prefix:s}=this._config.gam;return e.map((e=>{const n=this._getPathname(e),r=`/${i}/${s}_${n}/${t}`,o="Video_StickyOutstream"===e.location?[...e.sizes]:[...e.sizes,"fluid"];return this._setupSlot(e,r,o),e})).filter(it)}displaySlots(e){Ws.pushToQueue((async()=>{const t=googletag.pubads();googletag&&!googletag.pubadsReady&&D.error("index","load",new Error(`Unexpected googletag.pubadsReady: ${googletag.pubadsReady}`));let i=[];await this._prebidMethods.waitForQueue().then((e=>{!0===e&&(i=this._prebidMethods.getAllPrebidWinningBids())}));for(const s of e){const e=this._demandChain.getBidWithBsidForSlot(i,s);if(e){const t=this._demandChain.getLastBsid(e.meta);t&&s.googleTagSlot.setTargeting("hb_bsid",t)}googletag.pubads().enableLazyLoad(this._dynamicContentSlotLazyLoadingComponent.lazyLoadingEnabledForSlot(s,this._prebidMethods)?this._config.lazyLoad.googleLazyLoadSettings.gam:this._config.lazyLoad.googleLazyLoadSettings.disabled),t.refresh([s.googleTagSlot])}}))}refreshSlots(e){Ws.pushToQueue((()=>{googletag.pubads().refresh(e.map((e=>e.googleTagSlot)))}))}clearSlots(e){Ws.pushToQueue((()=>{const t=e.map((e=>e.googleTagSlot));googletag.pubads().clear(t)}))}destroySlots(e){Ws.pushToQueue((()=>{const t=e.map((e=>e.googleTagSlot));googletag.destroySlots(t)}))}_addGamEventListeners(){this._addEventListener(this.impressionViewable,"impressionViewable"),this._addEventListener(this.slotOnload,"slotOnload"),this._addEventListener(this.slotRenderEnded,"slotRenderEnded"),this._addEventListener(this.slotVisibilityChanged,"slotVisibilityChanged"),this._addEventListener(this.slotRequested,"slotRequested"),this._addEventListener(this.slotResponseReceived,"slotResponseReceived")}_addEventListener(e,t){Ws.pushToQueue((()=>{googletag.pubads().addEventListener(t,(t=>{const i=this._slots.get(t.slot.getSlotElementId());if(i)try{e.emit({slot:i,event:t})}catch(e){D.error("GoogleAdManager","addEventListener","emit",e)}}))}))}_setupSlot(e,t,i){const s=googletag.pubads();e.googleTagSlot="Interstitial"===e.location?googletag.defineOutOfPageSlot(t,googletag.enums.OutOfPageFormat.INTERSTITIAL):googletag.defineSlot(t,i,e.element.id),e.googleTagSlot?(e.googleTagSlot.addService(s).setTargeting("location",e.location).setTargeting("sequence",String(e.sequence)).setTargeting("id",e.id),(1===e.sequence&&e.isAboveTheFold||"Footer"===e.location)&&e.googleTagSlot.setTargeting("ATF","true"),e.isSticky&&"Video_StickyOutstream"!==e.location&&e.googleTagSlot.setTargeting("sticky","true"),e.special&&e.special.length>0&&e.googleTagSlot.setTargeting("special",e.special),"Sponsor_Tile"===e.location&&e.googleTagSlot.setCollapseEmptyDiv(!0,!0),s.isInitialLoadDisabled()&&googletag.display(e.googleTagSlot)):D.error("GoogleAdManager","defineSlots",`Duplicate ${t}`)}};Ks=Ws=I([ut("GoogleAdManager"),A(),O("design:paramtypes",[Ls,_i,Ns,Gs,$s,Us,Hs])],Ks);class Qs{get videoEnabled(){return!0}get enabled(){return!0}}let Xs=class extends xt{constructor(e,t){super(),this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.key="tpcapi",this.weight=.95;const i=t.getCoreExperiment(this.key);H()&&i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};Xs=I([ut("TopicsAPIExperiment"),A(),O("design:paramtypes",[Ct,Et])],Xs);let Ys=class{constructor(e,t){this._bootstrapConfig=e,this.topicsDataRecevied=new R,this.topics=[],this._frame=document.createElement("iframe"),this.enabled=!this._bootstrapConfig.isGDPR&&t.result,this.enabled&&this._addIframeToPage().then((()=>{this._setupPostMessaging()}))}get topicsApiIframeLocation(){return`${this._bootstrapConfig.baseUrl}/html/topics.html`}_setupPostMessaging(){try{if(this._frame&&this._frame.contentWindow){const e=window.adthriveDevelopmentMode?"https://localhost:8080":"https://ads.adthrive.com";window.addEventListener("message",(t=>{if(t.origin===e&&"adthrive_topics"===t.data.message&&t.data.topics&&t.data.topics.length){this.topics=this.topics.concat(t.data.topics);try{this.topicsDataRecevied.emit(this.topics)}catch(e){D.error("TopicsApiIframeManager","topics","received",e)}}})),this._frame.contentWindow.postMessage({message:"getTopicsApi"},e)}}catch(e){D.error("TopicsApiIframeManager","setupPostMessaging","Failed to set mcmp data",e)}}_addIframeToPage(){let e;const t=new Promise((t=>{e=t}));this._frame.onload=()=>{e()};try{this._frame.src=this.topicsApiIframeLocation,this._frame.id="adthrive-topics-api",this._frame.style.display="none",document.body.appendChild(this._frame)}catch(e){D.error("TopicsApiIframeManager","addIframeToPage","Failed to append iframe to document",e)}return t}};Ys=I([ut("TopicsApiIframeManager"),A(),O("design:paramtypes",[ei,Xs])],Ys);let Js=class extends xt{constructor(e,t){super(),this._result=!1,this.key="jwb",this._choices=[{choice:!0},{choice:!1}],this.weight=.95;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Js.prototype,"run",null),Js=I([ut("JwBoostExperiment"),A(),O("design:paramtypes",[Ct,Et])],Js);let Zs=class{constructor(e,t,i,s){this._config=e,this._jwBoostExperiment=t,this._topicsApiIframeManager=i,this._prebidMethods=s,this._data={},this.createOrtbDataObj(),this._config.marmalade.rfDataProcessed.on((()=>{this._prebidMethods.addToQueue((()=>{this.createOrtbDataObj();const e=this._prebidMethods.getConfig("ortb2")||{};this._prebidMethods.setConfig({ortb2:{...this._data,...e}})}))}))}createOrtbDataObj(){this._userSegments=this._getUserSegments(),this._siteSegments=this._getSiteSegments(),this._data={...this._userSegments.length&&{user:{data:this._userSegments}},...this._siteSegments.length&&{site:{content:{data:this._siteSegments}}}}}get data(){return this._data}_getSiteSegments(){return this.buildSegmentData(this._config.marmalade.ortbSegments.get("iabc")||[],6)}_getUserSegments(){const e=this.buildSegmentData(this._config.marmalade.ortbSegments.get("iaba")||[],4),t=this._convertTopicData(this._topicsApiIframeManager.topics);return t.length||this._topicsApiIframeManager.topicsDataRecevied.on((e=>{this._setDelayedTopicsData(this._convertTopicData(e))})),e.concat(t)}_convertTopicData(e){return this.buildSegmentData(e.reduce(((e,t)=>e.concat({id:String(t.topic)})),[]),600,"adthrive.com")}_setDelayedTopicsData(e){this._prebidMethods.addToQueue((()=>{const t=this._prebidMethods.getConfig("ortb2")||{};t.user=t.user||{},t.user.data=t.user.data||[],t.user.data=t.user.data.concat(e),this._prebidMethods.setConfig({ortb2:t})}))}buildSegmentData(e,t,i="cafemedia.com"){return e.length?[{name:i,segment:e,ext:{segtax:t}}]:[]}buildSegmentDataFromArray(e,t,i){return this.buildSegmentData(e.map((e=>({id:e}))),t,i)}addOrtb2ImpExtPrebid(e,t=0){const i={ext:{data:{}}},s=e.ortb2Imp?{...i,...e.ortb2Imp}:i;return t&&(s.ext.prebid={floorMin:t}),s}setOrtb2Imp(e,t){if(t)for(const i of Object.keys(e))t[i]=e[i]}setOrtb2ImpExt(e,t){t&&(t.ext={...t.ext,...e})}setOrtb2ImpExtData(e,t){var i;t&&(t.ext=null!==(i=t.ext)&&void 0!==i?i:{},t.ext.data={...t.ext.data,...e})}_setVideoOrtb2ImpData(e,t){this.setOrtb2ImpExtData({adserver:{name:"gam",adslot:`/${this._config.gam.account}/${this._config.gam.prefix}_${t.name}/${this._config.site.id}`}},e),this._jwBoostExperiment.result&&this.setOrtb2ImpExtData({jwTargeting:t.getJwBoostTargeting()},e)}addOrtb2Imp(e,t=!1,i){const{slot:s,video:n}=e,r=i||{ext:{data:{}}};return this._config.context.fledgeSupported&&this.setOrtb2ImpExt({ae:1},r),n&&this._setVideoOrtb2ImpData(r,n),s&&t&&this.setOrtb2Imp({instl:1},r),s&&s.isHighlyViewable()&&this.setOrtb2ImpExtData({pos:"atf"},r),r}addOrtb2Reg(e,t){this._prebidMethods.addToQueue((()=>{const i=this._prebidMethods.getConfig("ortb2")||{};i.regs={gpp:e,gpp_sid:t},this._prebidMethods.setConfig({ortb2:i})}))}};Zs=I([A(),O("design:paramtypes",[Ls,Js,Ys,$s])],Zs);let en=class{constructor(e,t,i,s){this._config=e,this._prebidMethods=t,this._ortb2=i,this._slots=s,this._amazonFloors={},this._videoFlagSlot={},this.modelVersionMap=new Map([]);const{legacy:n,rubicon:r}=this._config.floors.floorsExperiment;(n||r)&&this._prebidMethods.onEvent("auctionEnd",(e=>{this.setFloorTargeting("auctionEnd",e),e.adUnitCodes.forEach((e=>this._config.floors.clearFloorConfig(`${window.location.hostname}|${e}`)))}))}setValues(e,t,i){e.values[`${window.location.host}|${t}`]=i>0?i:0}getDefaultFloorConfig(){return{currency:"USD",schema:{fields:["domain","adUnitCode"],delimiter:"|"},values:{}}}setPrebidFloors(e){e.modelGroups.length>0&&this._setPrebidFloors(e)}saveBids(e,t){const i=this._prebidMethods.getBidResponsesForAdUnitCode(e.id);return i.bids.forEach((e=>{t.push(e.cpm)})),i}prioritizeFloorsConfig(e,t){if(!Object.keys(e.values).length)return;const i=Object.keys(e.values),s=this._config.floors;let n={...s.cmFloorsConfig};for(const r of i){const i=e.values[r],o=s.establishedFloorsTypes[r],a=o&&s.cmPriority.indexOf(t)<=s.cmPriority.indexOf(o);if(!o||a){s.saveFloorConfig(r,t,i);const e={[r]:i};n={...n,...e}}}return e.values=n,this.setLegacyFloorsConfig(e),e}setLegacyFloorsConfig(e){this._setAmazonFloors(e);const t=this._config.floors.floorsExperiment.fallback,i=this._config.floors.floorsExperiment.fm,s=!t&&this._config.floors.floorsData||{floorProvider:"legacy",floorsSchemaVersion:2,modelGroups:[{...e,skipRate:0,modelWeight:100,modelVersion:"legacy"}]};if(i){s.skipRate=0;const t=this.setAdUnitCodeKeys(e.values);this._setAdUnitFloorMin(t)}return this.setPrebidFloors(s),s}createDelayTimeout(e,t,i){const s=this._config.floors.delayedBids;window.setTimeout((()=>{const i=s[e]&&s[e][t];i&&i.parentBidResolve&&i.parentBidResolve()}),i)}createDelayedBidRace(e,t){let i=()=>{};const s=this._config.floors.delayedBids,n=new Promise((e=>{i=()=>e(!0)}));return s[e][t]={parentBidResolve:i},n}handleDelayedBids(e,t){const i=this._config.floors;return i.delayedBids[e]||(i.delayedBids[e]={}),this.createDelayedBidRace(e,t)}removeDelayedBid(e,t){var i;null===(i=this._config.floors.delayedBids[e])||void 0===i||delete i[t]}_setAdUnitFloorMin(e){var t;(null===(t=pbjs.adUnits)||void 0===t?void 0:t.length)&&pbjs.adUnits.forEach((t=>{const i=e[t.code&&t.code.toLowerCase()];if(i){const e=this._ortb2.addOrtb2ImpExtPrebid(t,i);t.ortb2Imp=e}}))}_setPrebidFloors(e){this._prebidMethods.setConfig({floors:{enforcement:{enforceJS:!1},data:e}})}_setAmazonFloors({values:e,currency:t}){Object.keys(e).forEach((i=>{const s=i.split("|").length&&i.split("|")[1]||i;this._amazonFloors[s]={value:e[i],currency:t||"USD"}}))}getAmazonFloorsBySlotId(e){return this._amazonFloors[e]||this._amazonFloors[e.toLowerCase()]||{}}setAdUnitCodeKeys(e){return Object.keys(e).reduce(((t,i)=>(i.split("|").forEach((s=>{this.verifyAdUnitCode(s)&&(t[s.toLowerCase()]=e[i])})),t)),{})}verifyAdUnitCode(e){const t=!!/AdThrive_/i.exec(e),i=void 0!==[...this._config.video.instreamAdUnits].filter((t=>t.toLowerCase()===e.toLowerCase()))[0];return t||i}getVideoFlagSlot(e){return this._videoFlagSlot[e]}setVideoFlagSlot(e,t={}){return e&&(this._videoFlagSlot[e]={...this._videoFlagSlot[e],...t})}_getTargetingValue(e,t,i){const s=e&&"legacy"===e.floorProvider&&"L",n=e&&e.skipped&&"s",r=e&&this.modelVersionMap.get(e.modelVersion);let o=s||n||`${r}`;const a=t.adUnits[0].ortb2Imp&&t.adUnits[0].ortb2Imp.ext,l=a&&a.prebid&&a.prebid.floorMin;if(i&&this._config.floors.floorsData&&l){const i=t.adUnitCodes[0];o=this._getRubiconFloorForAdUnit(e.modelVersion,i)>l?`${r}`:"L"}return o}_getRubiconFloorForAdUnit(e,t){let i=0;const s=this._config.floors.floorsData.modelGroups.filter((t=>t.modelVersion===e))[0];if(s){const e=s.values,n=window.location.hostname,r=s.default,o=e["*|*"],a=e[`${n}|*`];i=e[`${n}|${t.toLowerCase()}`]||a||o||r||0}return i}setFloorTargeting(e,t){var i;const s=t.adUnitCodes[0],n=this._slots.get(s),r=null===(i=t.adUnits[0].bids[0])||void 0===i?void 0:i.floorData,o=r&&"auctionEnd"===e?this._getTargetingValue(r,t,this._config.floors.floorsExperiment.fm):"f",a=n&&n.id===s,l=Object.keys(Ve).some((e=>Ve[e]===s)),d=this.getFloorPrice(t);if(a)return n.setSlotTargetingFlag("fv",[o],!0),void n.setSlotTargetingFlag("hbf",[d.toString()],!0);l&&(this.setVideoFlagSlot(s,{fv:o}),this.setVideoFlagSlot(s,{hbf:d.toString()}))}getFloorPrice(e){return e.bidsReceived[0]&&e.bidsReceived[0].floorData&&e.bidsReceived[0].floorData.floorValue&&e.bidsReceived[0].floorData.floorValue.toFixed(2)||0}};en=I([ut("Floors"),A(),O("design:paramtypes",[Ls,$s,Zs,Ns])],en);class tn{getSupplyChainConfig(e){return{ver:"1.0",complete:1,nodes:[{asi:"cafemedia.com",sid:e,hp:1}]}}}let sn=class extends xt{constructor(e,t){super(),this._result=!1,this.key="amzn_hold_disp",this._choices=[{choice:!0},{choice:!1}],this.weight=.5;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],sn.prototype,"run",null),sn=I([ut("AmazonLibraryExperiment"),A(),O("design:paramtypes",[Ct,Et])],sn);class nn{isAmazonLoaded(){return!!window.apstag}init(e){this.isAmazonLoaded()&&window.apstag.init(e)}fetchBids(e,t){this.isAmazonLoaded()&&window.apstag.fetchBids(e,t)}setDisplayBids(){this.isAmazonLoaded()&&window.apstag.setDisplayBids()}targetingKeys(){return this.isAmazonLoaded()?window.apstag.targetingKeys():[]}rpa(e,t,i){this.isAmazonLoaded()&&window.apstag.rpa(e,t,i)}upa(e,t,i){this.isAmazonLoaded()&&window.apstag.upa(e,t,i)}dpa(e){this.isAmazonLoaded()&&window.apstag.dpa(e)}}let rn=class extends Qs{constructor(e,t,i,s,n,r){super(),this._config=e,this._amazonMethods=t,this._amazonHoldDisplayExperiment=i,this._floors=s,this._videoEventBus=n,this._bootstrapConfig=r,this.holdDisplayExperiment=!1,this.videoSlotNames=new Map,this._amazonConfig={pubID:this._config.amazon.pubId,adServer:"googletag",videoAdServer:"DFP",...this._config.ccpa.required&&this._config.ccpa.privacyString&&{params:{us_privacy:this._config.ccpa.privacyString}},schain:(new tn).getSupplyChainConfig(this._config.site.id)}}init(){const e=this._amazonMethods;this.checkLibLoaded().then((()=>{e.init(this._amazonConfig)})).catch((e=>{D.error("AmazonAuctionManager","init","Failed to initialize apstag",e)})),this._config.ccpa.consentChange.on((t=>{this._amazonConfig.params&&t&&(this._amazonConfig.params.us_privacy=t),e.init(this._amazonConfig)})),this.holdDisplayExperiment=this._amazonHoldDisplayExperiment.result,this.videoSlotNames=this.initVideoSlotMap()}requestBids(e,t=this._config.timeouts.initialBidsRequest-200,i=!1){const s=this._amazonMethods,{id:n}=this._config.site,{networkCode:r,prefix:o}=this._config.gam;return new Promise((a=>{this.checkLibLoaded().then((l=>{if(!l)return a();Ks.pushToQueue((()=>{const l=e.filter((e=>void 0!==e.googleTagSlot&&!this._config.amazon.adUnitExclusions.has(e.location))).map((e=>{const t=this._floors.getAmazonFloorsBySlotId(e.element.id);return{slotID:e.element.id,slotName:`/${r}/${o}_${e.name}/${n}`,sizes:e.sizes,..."Video_StickyOutstream"===e.location&&{mediaType:"video"},...t&&t.value>0&&t.currency&&{floor:{value:Math.ceil(100*t.value),currency:t.currency}}}}));l.length?(s.fetchBids({slots:l,timeout:t,params:{adRefresh:i?"1":"0"}},(()=>{Ks.pushToQueue((()=>{s.setDisplayBids(),a()}))})),this.holdDisplayExperiment||a()):a()}))})).catch((e=>{D.error("AmazonAuctionManager","requestBids",e)}))}))}refreshBids(e){return this.requestBids(e,this._config.timeouts.refreshBidsRequest-200,!0)}requestVideoBids(e,t=this._config.timeouts.initialBidsRequest-200){const i=this._amazonMethods;return Promise.all(e.map((e=>{const s=this._floors.getAmazonFloorsBySlotId(e.name),n={slotID:this.videoSlotNames.get(e.name),mediaType:"video",...s&&s.currency&&{floor:{value:Math.ceil(100*s.value),currency:s.currency}}};return new Promise((s=>{this.checkLibLoaded().then((r=>{if(!r)return s();n?i.fetchBids({slots:[n],timeout:t},(t=>{t.length>0&&this._videoEventBus.addAPStagSlotBidResponse.legacyEmit({playlistId:e._playlistId,bid:t[0]}),s()})):s()})).catch((e=>{D.error("AmazonAuctionManager","requestVideoBids",e)}))}))}))).then((()=>Promise.resolve())).catch()}initVideoSlotMap(){const e={desktop:new Map([[Ve.Video_Collapse_Autoplay_SoundOff,"Sticky_Playlist_Desktop"],[Ve.Video_Individual_Autoplay_SOff,"Sticky_Related_Desktop"],[Ve.Video_In_Post_ClicktoPlay_SoundOn,"CTP_Desktop"]]),mobile:new Map([[Ve.Video_Coll_SOff_Smartphone,"Sticky_Playlist_Mobile"],[Ve.Video_Individual_Autoplay_SOff,"Sticky_Related_Mobile"],[Ve.Video_In_Post_ClicktoPlay_SoundOn,"CTP_Mobile"]])};return Ie()?e.desktop:e.mobile}get videoEnabled(){return this._config.partners.video.get("AmazonUAM")}get enabled(){return this._amazonMethods.isAmazonLoaded()&&this._config.amazon.enabled}async checkLibLoaded(){try{return await this._bootstrapConfig.bootstrapLoaders[ze.Amazon],!0}catch(e){return D.error("AmazonAuctionManager","checkLibLoaded",e),!1}}};rn=I([ut("AmazonAuctionManager"),P(),O("design:paramtypes",[Ls,nn,sn,en,Rt,ei])],rn);let on=class extends qs{constructor(e){super(),this._config=e}init(){this.addPrivacyPreferencesFooter()}addPrivacyPreferencesFooter(){this._config.footer.elements.push({order:1,element:'\n      <div class="adthrive-privacy-preferences">\n        <a href="javascript:adthrive.cmd.push(adthrive.showPrivacyPreferences);">Update Privacy Preferences</a>\n      </div>\n    '})}};on=I([ut("GDPRComponent"),P(),O("design:paramtypes",[Ls])],on);let an=class extends qs{constructor(e,t){super(),this._events=e,this._config=t}init(){D.queueLogs=!0,this.checkConsent().then((e=>{e?(this._config.gdpr.consentCaptured=!0,this._events.consentCaptured.emit(e),this.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[7]).then((e=>{e?D.queueLogs&&D.clearLogQueue(!0):D.disableLogging=!0})).catch((e=>{D.error("init","checkConsentForVendor",e)}))):this.listenForConsentSubmit().catch((e=>{D.error("init","listenForConsentSubmit",e)}))})).catch((e=>{D.error("init","checkConsent",e)}))}checkConsent(){return new Promise((e=>{window.__tcfapi("getTCData",2,((t,i)=>i&&t&&t.tcString?e(t.tcString):e("")))}))}checkConsentForVendor(e,t){return new Promise((i=>{window.__tcfapi("checkConsent",2,((e,t)=>i(!!t&&e)),{data:[{vendorId:e,purposeIds:t}]})}))}listenForConsentSubmit(){return new Promise((e=>{window.__tcfapi("addEventListener",2,((t,i)=>{i&&(t&&"useractioncomplete"===t.eventStatus&&(this._config.gdpr.consentCaptured=!0,this._events.consentCaptured.emit(t.tcString),this.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[7]).then((e=>{e?D.queueLogs&&D.clearLogQueue(!0):(D.disableLogging=!0,D.clearLogQueue(!1))})).catch((e=>{D.error("listenForConsentSubmit","checkConsentForVendor",e)})),window.__tcfapi("removeEventListener",2,(e=>{}),t.listenerId)),e(!0)),e(!1)}))}))}get enabled(){return"function"==typeof window.__tcfapi}};an=I([ut("GDPREnforcementComponent"),P(),O("design:paramtypes",[Ut,Ls])],an);class ln{}let dn=class extends xt{constructor(e){super(),this.key="pba",this._choices=[{choice:{name:"roxot",weight:1}},{choice:{name:"none",weight:99}}],this._result=this.run(),e.set("pba",this._result?this._result.name:"off")}get result(){return this._result}run(){const e=this._choices.map((e=>e.choice)).map((e=>({choice:e,weight:e.weight})));return new At(e).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",Object)],dn.prototype,"run",null),dn=I([ut("AnalyticsExperiment"),A(),O("design:paramtypes",[Ct])],dn);let cn=class extends ln{constructor(e,t,i){super(),this._config=e,this._prebidMethods=t,this._analyticsExperiment=i,this.name="roxot"}init(){if(window.localStorage)try{this._prebidMethods.enableAnalytics({provider:"roxot",options:{publisherIds:["ffcc0e40-07d0-4238-92e4-f711915afb5a"],host:`${this._config.context.bucket}.com`}})}catch(e){D.error("RoxotAnalytics","init - ignored",e)}else D.error("RoxotAnalytics","init",new Error("Disabled roxot because localStorage is undefined"))}get enabled(){var e;return"roxot"===(null===(e=this._analyticsExperiment.result)||void 0===e?void 0:e.name)}};cn=I([ut("RoxotAnalytics"),P(),O("design:paramtypes",[Ls,$s,dn])],cn);let hn=class extends ln{constructor(e,t){super(),this._floorsExperiment=e,this._prebidMethods=t,this.name="rubicon"}init(){try{this._prebidMethods.enableAnalytics({provider:this.name,options:{accountId:9262,endpoint:"https://prebid-a.rubiconproject.com/event"}})}catch(e){D.error("RubiconAnalytics","init - ignored",e)}}get enabled(){return"rubi"===this._floorsExperiment.result}};hn=I([ut("RubiconAnalytics"),P(),O("design:paramtypes",[ai,$s])],hn);class pn extends class{updateBidParams(e,t){}get enabled(){return!0}get videoEnabled(){return!0}get name(){return this.bidderConfig.bidder_name}_addPositionParam(e,t){e.params.position=t}_addPlacementIdParam(e,t){e.params.placementId=t}_addBidLabel(e,t){const i=e.labelAny||[];i.includes(t)||(e.labelAny=i.concat(t))}}{getSlotBidRequests(e){}getVideoSlotBidRequests(e){}getBidRequests(e){return e.reduce(((e,t)=>(e.set(t.id,this.getSlotBidRequests(t)),e)),new Map)}getVideoBidRequests(e){return e.reduce(((e,t)=>(e.set(t.name,this.getVideoSlotBidRequests(t)),e)),new Map)}}let un=class extends pn{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Yi.ThirtyThreeAcross),this.videoCreativeIds=[["138395447475",Yi.ThirtyThreeAcross],["138395937226",Yi.ThirtyThreeAcross],["138395937256",Yi.ThirtyThreeAcross],["138395937310",Yi.ThirtyThreeAcross],["138395937325",Yi.ThirtyThreeAcross],["138395447241",Yi.ThirtyThreeAcross],["138395937274",Yi.ThirtyThreeAcross],["138395937313",Yi.ThirtyThreeAcross],["138395937319",Yi.ThirtyThreeAcross],["138395937343",Yi.ThirtyThreeAcross],["138395937349",Yi.ThirtyThreeAcross],["138395937304",Yi.ThirtyThreeAcross],["138395937307",Yi.ThirtyThreeAcross],["138395937322",Yi.ThirtyThreeAcross],["138395937346",Yi.ThirtyThreeAcross],["138395445846",Yi.ThirtyThreeAcross]],this._bannerProductId="siab",this._videoProductId="instream",this._bannerMap=new Map([["Below_Post","dqjinO_Lqr6i5uaKkv7mNO"],["Content_1","dzqsVw_Lqr6iHHaKlId8sQ"],["Content_2","dGYL36_Lqr6iHHaKlId8sQ"],["Content_3","dPmBLW_Lqr6ikXaKkGJozW"],["Content_4","dYmdO4_Lqr6ikXaKkGJozW"],["Content_5","d73_q4_Lqr6ikfaKlId8sQ"],["Content_6","aeCNc8_Lur6ikfaKlId8sQ"],["Content_7","amEJ90_Lur6ikXaKkGJozW"],["Content_8","avcDUU_Lur6ikXaKkGJozW"],["Content_9","aE0F5q_Lur6iHHaKlId8sQ"],["Footer_1","aMbGkS_Lur6ikXaKkGJozW"],["Header_1","aZCnyg_Lur6ikfaKlId8sQ"],["Header_2","a7S6ye_Lur6ikXaKkGJozW"],["Recipe_1","bfXhLW_Lur6ioMaKkGJozW"],["Recipe_2","bmQVLo_Lur6ikfaKlId8sQ"],["Recipe_3","d7kcPCUhur6yo-aKkGJozW"],["Recipe_4","agAjkaUhyr6yo9aKlId8sQ"],["Sidebar_1","buEy3O_Lur6ikfaKlId8sQ"],["Sidebar_2","bCOsqy_Lur6ikfaKlId8sQ"],["Sidebar_3","bOGvrc_Lur6ikXaKkGJozW"],["Sidebar_4","bW-wb0_Lur6ikfaKlId8sQ"],["Sidebar_5","b8nVxi_Lur6ikXaKkGJozW"],["Sidebar_9","cggK7W_Lur6ikfaKlId8sQ"]]),this._videoMap=new Map([[Ve.Video_Collapse_Autoplay_SoundOff,"a_lKMg0Iar7k8brkHcnlxd"],[Ve.Video_Coll_SOff_Smartphone,"b7sKMM0Iar7ikGrkHcnnVW"],[Ve.Video_In_Post_ClicktoPlay_SoundOn,"c98www0Iar7ioerkHcnlKl"],[Ve.Video_Individual_Autoplay_SOff,"bhUZlu0Ier7ioerkHcnlKl"]])}get enabled(){return this._config.partners.display.get(Yi.ThirtyThreeAcross)}get videoEnabled(){const e=this._config;return e.partners.video.get(Yi.ThirtyThreeAcross)&&!!e.video.playbackmethod}getSlotBidRequests(e){const t=this._bannerMap,i=t.has(e.placementMapName)&&t.get(e.placementMapName);if(i)return[{bidder:this.name,params:{siteId:i,productId:this._bannerProductId}}]}getVideoSlotBidRequests(e){const t=this._videoMap,i=t.has(e.name)&&t.get(e.name);if(i)return[{bidder:this.name,params:{siteId:i,productId:this._videoProductId}}]}};un=I([ut("ThirtyThreeAcrossBidder"),P(),O("design:paramtypes",[Ls])],un);let gn=class{constructor(e,t,i,s,n){this._config=e,this._googleAdManager=t,this._slots=i,this._eventBus=s,this._floors=n,this.added=new R,this.cleared=new R,this.displayed=new R,this.displaying=new R,this.refreshed=new R,this.refreshing=new R,this.refreshingBids=new R,this.refreshedBids=new R,this.requestingBids=new R,this.requestedBids=new R,this.refreshInterval=25e3}async add(e){await this._googleAdManager.waitForQueue();const t=this._googleAdManager.defineSlots(this.castArray(e)),i=this._config.marmalade;return t.forEach((e=>{e.setViewability(i),e.setHighlyViewable(i),e.setBidPoolId(this._config.prebid.bidPoolSlots),this._config.clsOptimizedAds.setStyle(e.element,e.location)})),this._eventBus.addSlots.emit(t),this._slots.add(t),await this.added.legacyEmit(t),t}async clear(e){const t=this.castArray(e);return t.forEach((e=>{e.displayed=!1,this.setMinDimensions(e.element)})),this._googleAdManager.clearSlots(t),await this.cleared.legacyEmit(t),t}destroy(e){const t=this.castArray(e);return this.pauseRefresh(t),this._slots.remove(t),this._googleAdManager.destroySlots(t),t}rebuild(e){const t=this.castArray(e),i=this._googleAdManager;for(const e of t)Ks.pushToQueue((()=>{const t=["refresh","inf_scroll","decref","nref","hvp","lazy"].reduce(((t,i)=>{const s=e.getTargeting(i);return s.length&&t.push({key:i,value:s}),t}),[]);i.destroySlots(this.castArray(e)),i.defineSlots(this.castArray(e)),e.setTargeting(t)}));return t}async refresh(e,t=!0){const i=this.castArray(e);for(const e of i)e.refreshCount++,e.servedPrebidBidResponse=void 0;return await this.refreshing.legacyEmit(i),await Promise.all([!t||X(this._config.timeouts.refreshBidsRequest),this.refreshBids(i)]).then((()=>this._googleAdManager.refreshSlots(i))),await this.refreshed.legacyEmit(i),i}async display(e){const t=this.castArray(e);return await this.displaying.legacyEmit(t),await this.requestBids(t).then((()=>this._googleAdManager.displaySlots(t))),t.forEach((e=>{e.displayed=!0})),await this.displayed.legacyEmit(t),t}inView(e){const t=this.castArray(e);return t.forEach((e=>this.setRefreshTimeout(e))),t}outOfView(e){const t=this.castArray(e);return t.filter((e=>!e.alwaysInView)).filter((e=>"IntersectionObserver"in window?e.outOfViewGPT&&e.outOfViewIO:e.outOfViewGPT)).forEach((e=>{const t=e.element.querySelector("div > iframe");Me(e.element)&&t&&Me(t)&&this.clearRefreshTimeout(e)})),t}pauseRefresh(e){const t=this.castArray(e);return t.filter((e=>e.refreshTimeout)).forEach((e=>{e.refreshPaused=!0,this.clearRefreshTimeout(e)})),t}resumeRefresh(e){const t=this.castArray(e);return t.filter((e=>e.refreshPaused)).forEach((e=>{e.refreshPaused=!1,this.setRefreshTimeout(e)})),t}updateRefreshTimeout(e,t){const i=this.castArray(e);return i.forEach((e=>{e.refreshInterval=t,e.refreshTimeout&&(this.clearRefreshTimeout(e),this.setRefreshTimeout(e))})),i}clearRefreshTimeout(e,t=!1){this.castArray(e).filter((e=>e.refreshTimeout)).forEach((e=>{window.clearTimeout(e.refreshTimeout),e.refreshTimeout=void 0,t?e.viewableDuration=0:e.viewableSince&&(e.viewableDuration+=Ze()-e.viewableSince.getTime())}))}getSlot(e){return this._slots.get(e)}setRefreshTimeout(e){this.castArray(e).filter((e=>!e.refreshTimeout)).forEach((e=>{const t=Q(e.refreshInterval,this.refreshInterval);t>0&&(e.viewableSince=new Date,e.refreshTimeout=window.setTimeout((()=>{e.viewableDuration=0,e.refreshInterval=void 0,e.refreshTimeout=void 0,this.refresh(e).catch((e=>{}))}),t-e.viewableDuration))}))}delayRequestBids({id:e,lazy:t,location:i},s){return this._floors.handleDelayedBids(i,e).then((()=>{this._floors.removeDelayedBid(i,e)})).catch((()=>{D.error("SlotManager","delayRequestBids",`FPVNonLazyExperiment enabled. Error requesting for slot ${e} (lazy: ${t}) with delay of ${this._config.floors.floorsExperiment.delay}`,`Seconds elapsed since adthrive request: ${Math.floor(Date.now()/1e3-s)}`)}))}async requestBids(e){const t=this.castArray(e).filter((e=>e.enabledForAuction&&(!e.lazy||this._config.lazyLoad.lzhb)));if(0===t.length)return t;const i=this._config.floors;if(i.floorsExperiment.percentile.fpvNonLazy&&i.isFPVNonLazySlot(t[0])){const{id:e,lazy:i,location:s}=t[0];await this.delayRequestBids({id:e,lazy:i,location:s},Date.now()/1e3)}return await this.requestingBids.legacyEmit(t),await this._eventBus.requestingBids.legacyEmit(t),await this.requestedBids.legacyEmit(t),t}async refreshBids(e){const t=this.castArray(e).filter((e=>e.enabledForAuction));return t.length>0&&(await this.refreshingBids.legacyEmit(t),await this._eventBus.refreshingBids.legacyEmit(t),await this.refreshedBids.legacyEmit(t)),t}castArray(e){if("string"==typeof e){const t=this._slots.get(e);return void 0!==t?[t]:[]}return Array.isArray(e)?e:[e]}setMinDimensions(e){const t=getComputedStyle(e,null);e.style.minHeight=t.getPropertyValue("height"),e.style.minWidth=t.getPropertyValue("width")}};gn=I([ut("SlotManager"),A(),O("design:paramtypes",[Ls,Ks,Ns,zt,en])],gn);let _n=class{constructor(e,t){this._config=e,this._slotManager=t,this._sharedConfig={context:"outstream",mimes:["video/mp4","application/javascript"],api:[2],skip:0,pos:1,protocols:[2,3,5,6,7,8],linearity:1,minduration:0,maxduration:30,playbackmethod:[2]},this._forcedRefreshLimit=3,this._rendererConfig={renderer:{url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",render:e=>{this._renderer(e)}}};const{desktop:i,tablet:s}=this._config.site.breakpoints;this._stickyOutstreamSize="phone"===Y(s,i)?[178,100]:[227,150]}_callANRenderer(e,t,i){const s=this._getOutstreamRendererConfig(t,i);e.renderer.push((()=>{this._callANRenderAd(s,e.adUnitCode)}))}_rendererEventHandler(e,t,i){if(i&&["AdVideoComplete","complete","adComplete","AdError","error"].includes(t)){const e="AdError"===t||"error"===t,s=this._slotManager.getSlot(i);if(!s)return;e&&s.stickyOutstreamErrorCount&&s.stickyOutstreamErrorCount<this._forcedRefreshLimit?s.stickyOutstreamErrorCount++:s.stickyOutstreamErrorCount=0}}_callANRenderAd(e,t){window.ANOutstreamVideo.renderAd({targetId:t,adResponse:e,rendererOptions:{cbNotification:this._rendererEventHandler.bind(this),audioOnMouseover:!1,playerSkin:{topBarColor:"rgba(0,0,0,0.0)",topBarTextColor:"rgba(0,0,0,0.0)"},playVideoVisibleThreshold:1,disableCollapse:{enabled:!1,replay:!1}}})}_renderer(e){let t=e.ad||e.vastXml;const i=-1!==e.adUnitCode.indexOf("StickyOutstream"),s=i?this._stickyOutstreamSize:e.width&&e.height?[e.width,e.height]:[640,480],n=i?"StickyOutstream":"Outstream";t?this._callANRenderer(e,t,s):e.vastUrl&&(t=me(e.vastUrl),t.then((t=>(this._callANRenderer(e,t,s),!0))).catch((e=>(D.error(n,"fetch",{message:e}),!1))))}callANRendererWithUrl(e,t,i=!1){const s=me(e),n=i?"StickyOutstream":"Outstream",r=i?this._stickyOutstreamSize:[640,480];s.then((e=>{const i=this._getOutstreamRendererConfig(e,r);this._callANRenderAd(i,t)})).catch((e=>(D.error(n,"callANRendererWithUrl","fetch",{message:e}),!1)))}get standardOutstreamConfig(){const e={...this._rendererConfig};return e.renderer.backupOnly=!0,{playerSize:[640,480],...this._sharedConfig,...e}}get stickyOutstreamConfig(){return{...this._sharedConfig,...this._rendererConfig,placement:5,playerSize:this._stickyOutstreamSize}}_getOutstreamRendererConfig(e,t){return{ad:{video:{content:e,player_width:t[0],player_height:t[1]}}}}};_n=I([P(),O("design:paramtypes",[Ls,gn])],_n);let mn=class extends xt{constructor(e,t,i){super(),this._result=!1,this.key="rmosnv1",this._choices=[{choice:!0},{choice:!1}],this.weight=.01;const s=i.getCoreExperiment(this.key);!t.video.hasJwPlayer&&s&&(this.weight=s.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};mn=I([ut("OneVideoStreamNoVideoExperiment"),A(),O("design:paramtypes",[Ct,Ls,Et])],mn);let fn=class extends xt{constructor(e,t){super(),this._result=!1,this.key="rmos1",this._choices=[{choice:!0},{choice:!1}],this.weight=.01;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};fn=I([ut("OneVideoStreamExperiment"),A(),O("design:paramtypes",[Ct,Et])],fn);let yn=class extends Ft{init(){this._key="socon"}};yn=I([ut("OutstreamSOCONExperiment"),A()],yn);let vn=class{constructor(e,t,i,s,n){this._config=e,this._gam=t,this._outstream=i,this._oneVideoStreamExperiment=s,this._soconExperiment=n,this._standardOutstreamSlots=["Content_1","Below_Post"],this.oneStreamExpResult=!1}runOneStreamExperiment(){const e=x.resolve(mn);this._gam.setTargeting({key:"abgroup",value:this._config.abGroup.groups.join(",")}),this.oneStreamExpResult=e.result,this.oneStreamExpResult&&["Content_3","Content_5","Recipe_1"].forEach((e=>{this._standardOutstreamSlots.push(e)}))}isOutstreamAllowed(){return!this._oneVideoStreamExperiment.result||!this._config.video.hasJwPlayer}isSlowConnection(){var e;const t=null!==(e=this._soconExperiment.result)&&void 0!==e?e:0;if(void 0!==this._config.context.downlink){return this._config.context.downlink<=t}return!1}outstreamEnabled(e){const t=e.viewability,i=e.refreshCount,s="Video_StickyOutstream"===e.location,n=i>=1||t>=.5||s,r=!s&&this.isSlowConnection(),o=(this._config.adTypes.outstreamEnabled||s)&&this.outstreamSlots.has(e.placementMapName)&&this.isOutstreamAllowed()&&!r;return{outstreamCapable:o,currentlyActive:o&&n}}getMediaType(e){const t={},{slot:i,video:s}=e;if(s&&this._config.video.instreamAdUnits.has(s.name)){const e=this.getInstreamConfig(s);t.video=e}if(i){const e={sizes:i.sizes,...i.isHighlyViewable()&&{pos:1}};"Video_StickyOutstream"!==i.location&&(t.banner=e),this.outstreamEnabled(i).currentlyActive&&(t.video="Video_StickyOutstream"!==i.location?this._outstream.standardOutstreamConfig:this._outstream.stickyOutstreamConfig)}return t}get outstreamSlots(){return new Set(this.getOutstreamEnabledUnits())}getOutstreamEnabledUnits(){return this._config.video.hasStickyOutstream?["Video_StickyOutstream_1"]:this._standardOutstreamSlots}getInstreamConfig(e){var t;return{context:"instream",playerSize:e.size,mimes:this._config.video.mimeType,protocols:this._config.video.videoProtocols.protocols,maxduration:30,...(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))&&{playbackmethod:this._config.video.playbackmethod.get(e.name)},...e.collapsible&&{playbackend:3},linearity:1,api:this._config.video.apiValue,w:e.size[0],h:e.size[1],pos:this._config.video.position.id,minduration:1,startdelay:0,placement:1,skip:0}}};vn=I([A(),O("design:paramtypes",[Ls,Ks,_n,fn,yn])],vn);let bn=class extends pn{constructor(e,t){super(),this._config=e,this._mediaType=t,this.bidderConfig=this._config.partners.getBidderConfig(Yi.AppNexus),this.videoCreativeIds=[["138323232312",Yi.AppNexus],["138323908966",Yi.AppNexus],["138323900998",Yi.AppNexus],["138323900548",Yi.AppNexus],["138323457386",Yi.AppNexus],["138323908963",Yi.AppNexus],["138323908960",Yi.AppNexus],["138323901004",Yi.AppNexus],["138323901001",Yi.AppNexus],["138323521089",Yi.AppNexus],["138323457473",Yi.AppNexus],["138323908969",Yi.AppNexus],["138323908957",Yi.AppNexus],["138323908954",Yi.AppNexus],["138323900995",Yi.AppNexus],["138323521092",Yi.AppNexus]],this._keywords={keywords:{...this._config.site.filteredSensitiveCategories.length&&{sens:this._config.site.filteredSensitiveCategories},bucket:[this._config.context.bucket],Chrome:`${H()}`,Mobile:(!!(navigator.userAgent&&navigator.userAgent.search(/Mobi/i)>-1)).toString(),...this._config.site.verticals.length&&{verticals:this._config.site.verticals}}},this.outstreamType=ie()?"outstreamMobile":"outstreamDesktop",this._map=new Map([["Below_Post",[{placementId:13036386}]],["Content_1",[{placementId:13036388},{placementId:16808429,adType:this.outstreamType,playback_method:["auto_play_sound_off"]}]],["Content_2",[{placementId:13036389}]],["Content_3",[{placementId:13036391}]],["Content_4",[{placementId:13036393}]],["Content_5",[{placementId:13036394}]],["Content_6",[{placementId:13036396}]],["Content_7",[{placementId:13036398}]],["Content_8",[{placementId:13036399}]],["Content_9",[{placementId:13036400}]],["Footer_1",[{placementId:13036401}]],["Header_1",[{placementId:13036404}]],["Header_2",[{placementId:13036405}]],["Interstitial_1",[{placementId:21240886}]],["Recipe_1",[{placementId:13036406}]],["Recipe_2",[{placementId:13036407}]],["Recipe_3",[{placementId:15014787}]],["Recipe_4",[{placementId:15998791}]],["Sidebar_1",[{placementId:13036408}]],["Sidebar_2",[{placementId:13036409}]],["Sidebar_3",[{placementId:13036410}]],["Sidebar_4",[{placementId:13036411}]],["Sidebar_5",[{placementId:13036412}]],["Sidebar_9",[{placementId:13036416}]],["Video_StickyOutstream_1",[{placementId:22366045}]],[Ve.Video_Collapse_Autoplay_SoundOff,[{placementId:15504193,playback_method:["auto_play_sound_off"]}]],[Ve.Video_Coll_SOff_Smartphone,[{placementId:15504209,playback_method:["auto_play_sound_off"]}]],[Ve.Video_In_Post_ClicktoPlay_SoundOn,[{placementId:15504166,playback_method:["click_to_play"]}]],[Ve.Video_Individual_Autoplay_SOff,[{placementId:17947919,playback_method:["auto_play_sound_off"]}]]]),this._playbackmethodMap=new Map([[3,"click_to_play"],[6,"auto_play_sound_off"]])}get enabled(){return this._config.partners.display.get(Yi.AppNexus)}get videoEnabled(){return this._config.partners.video.get(Yi.AppNexus)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({adType:e})=>!e||this._config.adTypes.has(e))).map((({adType:t,placementId:i,playback_method:s})=>{const n=t===this.outstreamType?{video:{playback_method:s}}:"",r=t===this.outstreamType&&!this._mediaType.outstreamEnabled(e).currentlyActive;return{bidder:this.name,...r?{labelAny:["refresh"]}:{},params:{...this._keywords,allowSmallerSizes:this._config.adOptions.allowSmallerAdSizes,placementId:i,...n,...e.isHighlyViewable()&&{position:"above"}}}}))}getVideoSlotBidRequests(e){var t;if(this._map.has(e.name))return[{bidder:this.name,params:{...this._keywords,placementId:this._map.get(e.name)[0].placementId,position:this._config.video.position.name,video:{mimes:this._config.video.mimeType,...(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))&&{playback_method:this._playbackmethodMap.get(this._config.video.playbackmethod.get(e.name)[0])},frameworks:this._config.video.apiValue}}}]}updateBidParams(e){this._addPositionParam(e,"above")}};bn=I([ut("AppNexusBidder"),P(),O("design:paramtypes",[Ls,vn])],bn);let Sn=class extends pn{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Yi.Brightroll),this._params={publisher:"adthrive"},this._map=new Set(["Below_Post","Content_1","Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Footer_1","Header_1","Header_2","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9"])}get enabled(){return this._config.partners.display.get(Yi.Brightroll)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{...this._params}}]}};Sn=I([ut("BrightRollBidder"),P(),O("design:paramtypes",[Ls])],Sn);let Cn=class extends pn{constructor(e,t){super(),this._config=e,this._colossusExperiment=t,this.adapterName="colossusssp",this.bidderConfig=this._config.partners.getBidderConfig(Yi.Colossus),this.videoCreativeIds=[["138384629372",Yi.Colossus],["138384629375",Yi.Colossus],["138384699576",Yi.Colossus],["138384629339",Yi.Colossus],["138384699561",Yi.Colossus],["138384699546",Yi.Colossus],["138384629351",Yi.Colossus],["138384629381",Yi.Colossus],["138384629366",Yi.Colossus],["138384629378",Yi.Colossus],["138384629384",Yi.Colossus],["138384699564",Yi.Colossus],["138384629363",Yi.Colossus],["138384699582",Yi.Colossus],["138384699579",Yi.Colossus]],this._desktopBannerMap=new Map([["Below_Post",{id:"318",size:[300,250]}],["Content",{id:"319",size:[300,250]}],["Content_1",{id:"320",size:[300,250]}],["Content_2",{id:"321",size:[300,250]}],["Content_3",{id:"322",size:[300,250]}],["Content_4",{id:"323",size:[300,250]}],["Content_5",{id:"324",size:[300,250]}],["Content_6",{id:"325",size:[300,250]}],["Content_7",{id:"326",size:[300,250]}],["Content_8",{id:"327",size:[300,250]}],["Content_9",{id:"328",size:[300,250]}],["Footer_1",{id:"329",size:[728,90]}],["Header_1",{id:"330",size:[728,90]}],["Header_2",{id:"331",size:[728,90]}],["Recipe_1",{id:"332",size:[300,250]}],["Recipe_2",{id:"333",size:[300,250]}],["Recipe_3",{id:"334",size:[300,250]}],["Recipe_4",{id:"335",size:[300,250]}],["Recipe_5",{id:"336",size:[300,250]}],["Sidebar_1",{id:"337",size:[300,250]}],["Sidebar_2",{id:"338",size:[300,250]}],["Sidebar_3",{id:"339",size:[300,250]}],["Sidebar_4",{id:"340",size:[300,250]}],["Sidebar_5",{id:"341",size:[300,250]}],["Sidebar_9",{id:"342",size:[300,250]}]]),this._mobileBannerMap=new Map([["Below_Post",{id:"343",size:[300,250]}],["Content",{id:"344",size:[300,250]}],["Content_1",{id:"345",size:[300,250]}],["Content_2",{id:"346",size:[300,250]}],["Content_3",{id:"347",size:[300,250]}],["Content_4",{id:"348",size:[300,250]}],["Content_5",{id:"349",size:[300,250]}],["Content_6",{id:"350",size:[300,250]}],["Content_7",{id:"351",size:[300,250]}],["Content_8",{id:"352",size:[300,250]}],["Content_9",{id:"353",size:[300,250]}],["Footer_1",{id:"354",size:[320,50]}],["Header_1",{id:"355",size:[320,50]}],["Header_2",{id:"356",size:[320,50]}],["Recipe_1",{id:"357",size:[300,250]}],["Recipe_2",{id:"358",size:[300,250]}],["Recipe_3",{id:"359",size:[300,250]}],["Recipe_4",{id:"360",size:[300,250]}],["Recipe_5",{id:"361",size:[300,250]}],["Sidebar_1",{id:"362",size:[300,250]}],["Sidebar_2",{id:"363",size:[300,250]}],["Sidebar_3",{id:"364",size:[300,250]}],["Sidebar_4",{id:"365",size:[300,250]}],["Sidebar_5",{id:"366",size:[300,250]}],["Sidebar_9",{id:"367",size:[300,250]}]]),this._bannerMap={desktop:this._desktopBannerMap,mobile:this._mobileBannerMap},this._videoMap=new Map([[Ve.Video_Collapse_Autoplay_SoundOff,"368"],[Ve.Video_Coll_SOff_Smartphone,"369"],[Ve.Video_In_Post_ClicktoPlay_SoundOn,"370"],[Ve.Video_Individual_Autoplay_SOff,"371"]]);const i=this._bannerMap;this._map=ie()?i.mobile:i.desktop}get enabled(){return this._config.partners.display.get(Yi.Colossus)&&"server"!==this._colossusExperiment.result}get videoEnabled(){return this._config.partners.video.get(Yi.Colossus)&&"server"!==this._colossusExperiment.result}getSlotBidRequests(e){const t=this._map.get(e.placementMapName);if(t&&e.hasSize(t.size))return[{bidder:this.name,params:{group_id:t.id,traffic:"banner"}}]}getVideoSlotBidRequests(e){if(this._videoMap.has(e.name))return[{bidder:this.name,params:{group_id:this._videoMap.get(e.name),traffic:"video"}}]}};Cn=I([ut("ColossusBidder"),P(),O("design:paramtypes",[Ls,ns])],Cn);let wn=class extends pn{constructor(e){super(),this._config=e,this.adapterName="colossus",this.bidderConfig=this._config.partners.getBidderConfig(Yi.ColossusServer),this.videoCreativeIds=[["138399171431",Yi.ColossusServer],["138396598194",Yi.ColossusServer],["138397072123",Yi.ColossusServer],["138397072117",Yi.ColossusServer],["138397070791",Yi.ColossusServer],["138396598191",Yi.ColossusServer],["138397072120",Yi.ColossusServer],["138397070788",Yi.ColossusServer],["138396598197",Yi.ColossusServer],["138396598188",Yi.ColossusServer],["138396598158",Yi.ColossusServer],["138396598152",Yi.ColossusServer],["138397073191",Yi.ColossusServer],["138397072102",Yi.ColossusServer],["138396598200",Yi.ColossusServer],["138396598155",Yi.ColossusServer]],this._desktopBannerMap=new Map([["Below_Post",{id:"455",size:[300,250]}],["Content",{id:"456",size:[300,250]}],["Content_1",{id:"457",size:[300,250]}],["Content_2",{id:"458",size:[300,250]}],["Content_3",{id:"459",size:[300,250]}],["Content_4",{id:"460",size:[300,250]}],["Content_5",{id:"461",size:[300,250]}],["Content_6",{id:"462",size:[300,250]}],["Content_7",{id:"463",size:[300,250]}],["Content_8",{id:"464",size:[300,250]}],["Content_9",{id:"465",size:[300,250]}],["Footer_1",{id:"466",size:[728,90]}],["Header_1",{id:"467",size:[728,90]}],["Header_2",{id:"468",size:[728,90]}],["Recipe_1",{id:"469",size:[300,250]}],["Recipe_2",{id:"470",size:[300,250]}],["Recipe_3",{id:"471",size:[300,250]}],["Recipe_4",{id:"472",size:[300,250]}],["Recipe_5",{id:"473",size:[300,250]}],["Sidebar_1",{id:"474",size:[300,250]}],["Sidebar_2",{id:"475",size:[300,250]}],["Sidebar_3",{id:"476",size:[300,250]}],["Sidebar_4",{id:"477",size:[300,250]}],["Sidebar_5",{id:"478",size:[300,250]}],["Sidebar_9",{id:"479",size:[300,250]}]]),this._mobileBannerMap=new Map([["Below_Post",{id:"481",size:[300,250]}],["Content",{id:"482",size:[300,250]}],["Content_1",{id:"483",size:[300,250]}],["Content_2",{id:"484",size:[300,250]}],["Content_3",{id:"485",size:[300,250]}],["Content_4",{id:"486",size:[300,250]}],["Content_5",{id:"487",size:[300,250]}],["Content_6",{id:"488",size:[300,250]}],["Content_7",{id:"489",size:[300,250]}],["Content_8",{id:"490",size:[300,250]}],["Content_9",{id:"491",size:[300,250]}],["Footer_1",{id:"492",size:[320,50]}],["Header_1",{id:"493",size:[320,50]}],["Header_2",{id:"494",size:[320,50]}],["Recipe_1",{id:"495",size:[300,250]}],["Recipe_2",{id:"496",size:[300,250]}],["Recipe_3",{id:"497",size:[300,250]}],["Recipe_4",{id:"498",size:[300,250]}],["Recipe_5",{id:"499",size:[300,250]}],["Sidebar_1",{id:"500",size:[300,250]}],["Sidebar_2",{id:"501",size:[300,250]}],["Sidebar_3",{id:"502",size:[300,250]}],["Sidebar_4",{id:"503",size:[300,250]}],["Sidebar_5",{id:"504",size:[300,250]}],["Sidebar_9",{id:"505",size:[300,250]}]]),this._bannerMap={desktop:this._desktopBannerMap,mobile:this._mobileBannerMap},this._videoMap=new Map([[Ve.Video_Collapse_Autoplay_SoundOff,"450"],[Ve.Video_Coll_SOff_Smartphone,"451"],[Ve.Video_In_Post_ClicktoPlay_SoundOn,"452"],[Ve.Video_Individual_Autoplay_SOff,"453"]]);const t=this._bannerMap;this._map=ie()?t.mobile:t.desktop}get enabled(){return this._config.prebid.s2s.bidders.includes(Yi.ColossusServer)&&this._config.partners.display.get(Yi.Colossus)}get videoEnabled(){return this._config.prebid.s2s.bidders.includes(Yi.ColossusServer)&&this._config.partners.video.get(Yi.Colossus)}getSlotBidRequests(e){const t=this._map.get(e.placementMapName);if(t&&e.hasSize(t.size))return[{bidder:this.name,params:{groupId:t.id}}]}getVideoSlotBidRequests(e){if(this._videoMap.has(e.name))return[{bidder:this.name,params:{groupId:this._videoMap.get(e.name)}}]}};wn=I([ut("ColossusServerBidder"),P(),O("design:paramtypes",[Ls])],wn);let En=class extends pn{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Yi.Conversant),this._siteId="203587",this._map=new Map([["Below_Post",{tag_id:"8c6e3091"}],["Content",{tag_id:"f4f67b17"}],["Content_1",{tag_id:"9cbc79fd"}],["Content_2",{tag_id:"8fdfa3de"}],["Content_3",{tag_id:"ff6c383c"}],["Content_4",{tag_id:"972f654c"}],["Content_5",{tag_id:"bd1aadb5"}],["Content_6",{tag_id:"ce4f5d6e"}],["Content_7",{tag_id:"d85e90b"}],["Content_8",{tag_id:"f02f4ba"}],["Content_9",{tag_id:"2c01cbc"}],["Footer_1",{tag_id:"1b2dec1"}],["Header_1",{tag_id:"44d21b5"}],["Header_2",{tag_id:"3488dd9"}],["Recipe_1",{tag_id:"f6cf917"}],["Recipe_2",{tag_id:"31d9c43"}],["Recipe_3",{tag_id:"a7b4d19"}],["Recipe_4",{tag_id:"245c673"}],["Recipe_5",{tag_id:"0bf3576"}],["Sidebar_1",{tag_id:"bf73d45"}],["Sidebar_2",{tag_id:"0a57500"}],["Sidebar_3",{tag_id:"cceddcd"}],["Sidebar_4",{tag_id:"872fffd4"}],["Sidebar_5",{tag_id:"a7653e4"}],["Sidebar_9",{tag_id:"517df454"}],[Ve.Video_Coll_SOff_Smartphone,{tag_id:"0d0dfda"}],[Ve.Video_Collapse_Autoplay_SoundOff,{tag_id:"50331e1d"}],[Ve.Video_Individual_Autoplay_SOff,{tag_id:"de9d5670"}],[Ve.Video_In_Post_ClicktoPlay_SoundOn,{tag_id:"ab89e3c1"}]])}get enabled(){return this._config.partners.display.get(Yi.Conversant)}get videoEnabled(){return this._config.partners.video.get(Yi.Conversant)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{tag_id:this._map.get(e.placementMapName).tag_id,site_id:this._siteId}}]}getVideoSlotBidRequests(e){if(this._map.has(e.name))return[{bidder:this.name,params:{tag_id:this._map.get(e.name).tag_id,site_id:this._siteId,mimes:this._config.video.mimeType,api:this._config.video.apiValue,..."all"===this._config.video.videoProtocols.scope&&{protocols:this._config.video.videoProtocols.protocols},position:this._config.video.position.id}}]}};En=I([ut("ConversantBidder"),P(),O("design:paramtypes",[Ls])],En);let kn=class extends pn{constructor(e,t){super(),this._config=e,this._prebidMethods=t,this.bidderConfig=this._config.partners.getBidderConfig(Yi.Criteo),this.videoCreativeIds=[["138381583896",Yi.Criteo],["138381548372",Yi.Criteo],["138381548387",Yi.Criteo],["138381548384",Yi.Criteo],["138381548525",Yi.Criteo],["138381548522",Yi.Criteo],["138381548516",Yi.Criteo],["138381548513",Yi.Criteo],["138382062244",Yi.Criteo],["138382062241",Yi.Criteo],["138382062238",Yi.Criteo],["138382062235",Yi.Criteo],["138382062232",Yi.Criteo],["138382062226",Yi.Criteo],["138382062223",Yi.Criteo],["138381584697",Yi.Criteo]],this.settings={storageAllowed:!0},this._params={networkId:3927},this._map=new Set(["Below_Post","Content_1","Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Footer_1","Header_1","Header_2","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9"]),this._videoMap=new Map([[Ve.Video_Collapse_Autoplay_SoundOff,"1629631"],[Ve.Video_Coll_SOff_Smartphone,"1629630"],[Ve.Video_In_Post_ClicktoPlay_SoundOn,"1629629"],[Ve.Video_Individual_Autoplay_SOff,"1629401"]]),this._prebidMethods.setConfig({criteo:{fastBidVersion:"none"}})}get enabled(){return this._config.partners.display.get(Yi.Criteo)}get videoEnabled(){return this._config.partners.video.get(Yi.Criteo)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{...this._params}}]}getVideoSlotBidRequests(e){var t;if(this._videoMap.has(e.name))return[{bidder:this.name,params:{zoneId:this._videoMap.get(e.name),video:{playbackmethod:(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))||[]}}}]}};kn=I([ut("CriteoBidder"),P(),O("design:paramtypes",[Ls,$s])],kn);let xn=class extends pn{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Yi.GumGum),this.videoCreativeIds=[["138330842944",Yi.GumGum],["138330432527",Yi.GumGum],["138330466869",Yi.GumGum],["138330842389",Yi.GumGum],["138330842452",Yi.GumGum],["138330432530",Yi.GumGum],["138330432548",Yi.GumGum],["138330432551",Yi.GumGum],["138330466908",Yi.GumGum],["138330842464",Yi.GumGum],["138330842470",Yi.GumGum],["138330466872",Yi.GumGum],["138330842458",Yi.GumGum],["138330842461",Yi.GumGum],["138330842467",Yi.GumGum],["138330842455",Yi.GumGum]],this._zoneIds={client:"g95nznmj",s2s:{desktop:"0yo5ozig",tablet:"0yo5ozig",phone:"nedjcoh9"}},this._map=new Map([["Interstitial_1",[{slotId:110743}]],["Footer_1",[]],[Ve.Video_Collapse_Autoplay_SoundOff,"glpmwixo"],[Ve.Video_Coll_SOff_Smartphone,"5zl85htf"],[Ve.Video_Individual_Autoplay_SOff,"8jzhuyj5"],[Ve.Video_In_Post_ClicktoPlay_SoundOn,"dtwgesum"]]),this._animatedFooterEnabled=this._config.adTypes.animatedFooter,this._interstitialEnabled=this._config.adOptions.interstitial.prebid,this._contextualAuctionParams=this._config.prebid.s2s.bidders.includes(this.name)?{zone:this._zoneIds.s2s[this._config.context.device]}:{inScreen:this._zoneIds.client}}get enabled(){return this._config.partners.display.get(Yi.GumGum)&&(this._animatedFooterEnabled||this._interstitialEnabled)}get videoEnabled(){return this._config.partners.video.get(Yi.GumGum)}getSlotBidRequests(e){const t=this._map.get(e.placementMapName),i="Footer"===e.location&&this._animatedFooterEnabled,s="Interstitial"===e.location;if(t&&(i||s))return[{bidder:this.name,params:{...this._contextualAuctionParams,...s&&{slot:t[0].slotId}}}]}getVideoSlotBidRequests(e){if(this._map.has(e.name))return[{bidder:this.name,params:{...this._config.prebid.s2s.bidders.includes(this.name)&&{...this._contextualAuctionParams},video:this._map.get(e.name)}}]}};xn=I([ut("GumGumBidder"),P(),O("design:paramtypes",[Ls])],xn);const Tn=new Map([["Below_Post",{siteId:"185759"}],["Content_1",{siteId:"185761",outstreamSiteId:"820298"}],["Content_2",{siteId:"185762"}],["Content_3",{siteId:"185763"}],["Content_4",{siteId:"185764"}],["Content_5",{siteId:"185765"}],["Content_6",{siteId:"185766"}],["Content_7",{siteId:"185767"}],["Content_8",{siteId:"185768"}],["Content_9",{siteId:"185769"}],["Footer_1",{siteId:"185770"}],["Header_1",{siteId:"185774"}],["Interstitial_1",{siteId:"631834"}],["Recipe_1",{siteId:"185776"}],["Recipe_2",{siteId:"185777"}],["Recipe_3",{siteId:"304909"}],["Recipe_4",{siteId:"371523"}],["Sidebar_1",{siteId:"185787"}],["Sidebar_2",{siteId:"185788"}],["Sidebar_3",{siteId:"185789"}],["Sidebar_4",{siteId:"185790"}],["Sidebar_5",{siteId:"185791"}],["Sidebar_9",{siteId:"185795"}],["Video_StickyOutstream_1",{siteId:"745167"}]]),Pn=new Map([["Below_Post",[{size:[728,90],id:"1_1"},{size:[300,250],id:"1_2"}]],["Content_1",[{size:[728,90],id:"3_1"},{size:[300,250],id:"3_2"},{size:[320,480],id:"3_2"},{size:[320,50],id:"3_4"},{size:[320,100],id:"3_5"},{size:[300,50],id:"3_6"}]],["Content_2",[{size:[728,90],id:"4_1"},{size:[300,250],id:"4_2"},{size:[728,410],id:"4_2"},{size:[320,50],id:"4_4"},{size:[320,100],id:"4_5"},{size:[300,50],id:"4_6"}]],["Content_3",[{size:[300,250],id:"5_1"},{size:[320,50],id:"5_2"},{size:[320,100],id:"5_3"},{size:[300,50],id:"5_4"}]],["Content_4",[{size:[300,250],id:"6_1"},{size:[320,50],id:"6_2"},{size:[320,100],id:"6_3"},{size:[300,50],id:"6_4"}]],["Content_5",[{size:[300,250],id:"7_1"},{size:[320,50],id:"7_2"},{size:[320,100],id:"7_3"},{size:[300,50],id:"7_4"}]],["Content_6",[{size:[300,250],id:"8_1"},{size:[320,50],id:"8_2"},{size:[320,100],id:"8_3"},{size:[300,50],id:"8_4"}]],["Content_7",[{size:[300,250],id:"9_1"},{size:[320,50],id:"9_2"},{size:[300,50],id:"9_3"}]],["Content_8",[{size:[300,250],id:"10_1"},{size:[320,50],id:"10_2"},{size:[300,50],id:"10_3"}]],["Content_9",[{size:[300,250],id:"11_1"},{size:[320,50],id:"11_2"},{size:[300,50],id:"11_3"}]],["Footer_1",[{size:[728,90],id:"12_1"},{size:[970,90],id:"12_2"},{size:[320,50],id:"12_3"},{size:[320,100],id:"12_4"},{size:[300,50],id:"12_5"}]],["Header_1",[{size:[728,90],id:"15_1"},{size:[970,90],id:"15_2"},{size:[970,250],id:"15_3"},{size:[320,50],id:"15_4"},{size:[320,100],id:"15_5"},{size:[300,50],id:"15_6"}]],["Interstitial_1",[{size:[300,600],id:"36_1"},{size:[336,280],id:"36_2"},{size:[320,480],id:"36_3"},{size:[300,250],id:"36_4"},{size:[320,50],id:"36_5"}]],["Recipe_1",[{size:[300,250],id:"17_1"},{size:[320,50],id:"17_3"},{size:[320,100],id:"17_4"},{size:[300,50],id:"17_5"}]],["Recipe_2",[{size:[300,250],id:"18_1"},{size:[320,50],id:"18_3"},{size:[320,100],id:"18_4"},{size:[300,50],id:"18_5"}]],["Recipe_3",[{size:[300,250],id:"42_1"},{size:[320,50],id:"42_3"},{size:[320,100],id:"42_4"},{size:[300,50],id:"42_5"}]],["Recipe_4",[{size:[300,250],id:"43_1"},{size:[320,50],id:"43_3"},{size:[320,100],id:"43_4"},{size:[300,50],id:"43_5"}]],["Sidebar_1",[{size:[300,250],id:"27_1"},{size:[300,600],id:"27_2"},{size:[300,1050],id:"27_3"},{size:[160,600],id:"27_4"},{size:[300,50],id:"27_5"}]],["Sidebar_2",[{size:[300,250],id:"28_1"},{size:[300,600],id:"28_2"},{size:[160,600],id:"28_3"},{size:[300,50],id:"28_4"}]],["Sidebar_3",[{size:[300,250],id:"29_1"},{size:[300,600],id:"29_2"},{size:[160,600],id:"29_3"},{size:[300,50],id:"29_4"}]],["Sidebar_4",[{size:[300,250],id:"30_1"},{size:[300,600],id:"30_2"},{size:[160,600],id:"30_3"},{size:[300,50],id:"30_4"}]],["Sidebar_5",[{size:[300,250],id:"31_1"},{size:[300,600],id:"31_2"},{size:[160,600],id:"31_3"},{size:[300,50],id:"31_4"}]],["Sidebar_9",[{size:[300,250],id:"35_1"},{size:[300,600],id:"35_2"},{size:[300,1050],id:"35_3"},{size:[160,600],id:"35_4"},{size:[300,50],id:"35_5"}]],["Video_StickyOutstream_1",[{size:[300,250],id:"48_1",sizeOverride:[227,150]},{size:[320,50],id:"48_2",sizeOverride:[178,100]}]]]),An=new Map([[Ve.Video_Collapse_Autoplay_SoundOff,[{size:[640,360],siteId:"185255",id:"44_1"}]],[Ve.Video_Coll_SOff_Smartphone,[{size:[400,225],siteId:"321341",id:"45_1"}]],[Ve.Video_In_Post_ClicktoPlay_SoundOn,[{size:[640,360],siteId:"385287",device:"desktop",id:"46_1"},{size:[400,225],siteId:"385288",device:"mobile",id:"46_2"}]],[Ve.Video_Individual_Autoplay_SOff,[{size:[640,360],siteId:"385285",device:"desktop",id:"47_1"},{size:[400,225],siteId:"385286",device:"mobile",id:"47_2"}]]]);let In=class extends pn{constructor(e,t,i){super(),this._config=e,this._prebidMethods=t,this._mediaType=i,this._bidderName=Yi.IndexExchange,this._device=Ie()?"desktop":"mobile",this._hasLargeFormatSiteCode=this._config.marmalade.siteCodes.includes("MRLOI_22"),this._largeFormatSizes=this._hasLargeFormatSiteCode?"desktop"===this._device?[[728,410]]:[[320,480]]:[],this.bidderConfig=this._config.partners.getBidderConfig(Yi.IndexExchange),this.videoCreativeIds=[["138323461889",Yi.IndexExchange],["138365130553",Yi.IndexExchange],["138323602520",Yi.IndexExchange],["138323911414",Yi.IndexExchange],["138365130307",Yi.IndexExchange],["138323648223",Yi.IndexExchange],["138323911009",Yi.IndexExchange],["138364758402",Yi.IndexExchange],["138323523396",Yi.IndexExchange],["138364703774",Yi.IndexExchange],["138323464748",Yi.IndexExchange],["138364758405",Yi.IndexExchange],["138323911423",Yi.IndexExchange],["138365130310",Yi.IndexExchange],["138323911420",Yi.IndexExchange],["138365130313",Yi.IndexExchange],["138323911411",Yi.IndexExchange],["138364758408",Yi.IndexExchange],["138323911012",Yi.IndexExchange],["138364703777",Yi.IndexExchange],["138323523390",Yi.IndexExchange],["138364758411",Yi.IndexExchange],["138323523387",Yi.IndexExchange],["138365130316",Yi.IndexExchange],["138323911426",Yi.IndexExchange],["138364758414",Yi.IndexExchange],["138323911408",Yi.IndexExchange],["138364703780",Yi.IndexExchange],["138323911405",Yi.IndexExchange],["138364703783",Yi.IndexExchange],["138323523393",Yi.IndexExchange],["138364758417",Yi.IndexExchange],["138323911417",Yi.IndexExchange],["138365130319",Yi.IndexExchange]]}get enabled(){return this._config.partners.display.get(Yi.IndexExchange)}get videoEnabled(){return this._config.partners.video.get(Yi.IndexExchange)}init(){const e=_e(),t=this._config,i=t.site,s=[...i.verticals].filter(te),n=i.filteredSensitiveCategories,r={PD:`${t.adOptions.pmp?"":"no"}${t.context.device}`,...s.length&&{Topic:s.join("#Topic:")},...n.length&&{Sens:n.join("#Sens:")},Source:Se(e),Browser:$(),vp:"0"};var o,a;be(r,this._prebidMethods),this._largeFormatSizes.length&&(o=this._largeFormatSizes,(a=this._prebidMethods).addToQueue((()=>{const e=a.getConfig("ix");e.largeFormatSizes=o,a.setConfig({ix:e})})))}getVideoBidRequests(e){return e.reduce(((t,i)=>{const s=this.getVideoSizeSites(e).filter((e=>e.video===i)).map((e=>{const{siteId:t,id:s,size:n}=e.sizeSite,r=this.getPrebidAdUnitBidRequest(t,s,n);return r.params.video=this.getVideoParams(i.name),r}));return t.set(i.name,s)}),new Map)}getBidRequests(e){return e.reduce(((t,i)=>{const s=Tn.get(i.placementMapName),n=this._mediaType.outstreamEnabled(i).outstreamCapable,r="Video_StickyOutstream"===i.location,o=[];if(!s)return t;return t.set(i.id,this.getSlotSizeIds(e).filter((e=>e.slot===i)).reduce(((e,{sizeId:{id:t,size:a}})=>{const l=(e,i,s=!1,n="")=>{const o=this.getPrebidAdUnitBidRequest(i,t,a,r,s,n);e.push(o)},d=n?s.outstreamSiteId:void 0;return e.push(this.getPrebidAdUnitBidRequest(s.siteId,t,a,r)),d&&!this._config.video.hasStickyOutstream&&l(o,d,!0,`outstreamActive_${i.placementMapName}`),e}),[]).concat(o))}),new Map)}getVideoParams(e,t){const i={...this._config.video,...t},s=i.playbackmethod&&i.playbackmethod.get(e),n=new Map([[3,[3]],[6,[2]]]),r=s&&{playbackmethod:n.get(s[0])};return{api:i.apiValue,mimes:i.mimeType,...r,minduration:0,maxduration:30,protocols:i.videoProtocols.protocols,pos:i.position.id}}getPrebidAdUnitBidRequest(e,t,i,s=!1,n=!1,r=""){return{bidder:this._bidderName,...r&&{labelAny:[r]},params:{id:t,siteId:e,...s||n?{video:{}}:{size:i}}}}getSlotSizeIds(e){return e.filter((e=>Pn.has(e.placementMapName))).reduce(((e,t)=>[...e,...Pn.get(t.placementMapName).filter((({size:e})=>t.hasSize(e)||this.largeFormatSizeEnabled(e))).map((e=>({slot:t,sizeId:e})))]),[])}largeFormatSizeEnabled([e,t]){return this._largeFormatSizes.some((([i,s])=>e===i&&t===s))}getVideoSizeSites(e){return e.filter((e=>An.has(e.name))).reduce(((e,t)=>[...e,...An.get(t.name).filter((({device:e,size:i})=>(!e||e&&e===this._device)&&t.size[0]===i[0]&&t.size[1]===i[1])).map((e=>({video:t,sizeSite:e})))]),[])}};In=I([ut("IndexExchangeBidder"),P(),O("design:paramtypes",[Ls,$s,vn])],In);const[Mn,On,zn,Rn,Bn]=["desktop","content","sidebar","header","footer"],Dn={desktop:{content:{placementId:"_mfu14jCkaN",size:[300,250]},header:{placementId:"_vzS4k9rMKu",size:[728,90]},sidebar:{placementId:"_zxmQwsW17E",size:[300,600]},footer:{placementId:"_lP4vuVhICu",size:[728,90]}}},Vn=new Map([["Below_Post",[Dn[Mn][On],Dn[Mn][Rn]]],["Content_1",[Dn[Mn][On],Dn[Mn][Rn]]],["Content_2",[Dn[Mn][On],Dn[Mn][Rn]]],["Content_3",[Dn[Mn][On],Dn[Mn][Rn]]],["Content_4",[Dn[Mn][On],Dn[Mn][Rn]]],["Content_5",[Dn[Mn][On],Dn[Mn][Rn]]],["Content_6",[Dn[Mn][On],Dn[Mn][Rn]]],["Content_7",[Dn[Mn][On],Dn[Mn][Rn]]],["Content_8",[Dn[Mn][On],Dn[Mn][Rn]]],["Content_9",[Dn[Mn][On],Dn[Mn][Rn]]],["Header_1",[Dn[Mn][Rn],Dn[Mn][On]]],["Header_2",[Dn[Mn][Rn],Dn[Mn][On]]],["Footer_1",[Dn[Mn][Bn]]],["Recipe_1",[Dn[Mn][On]]],["Recipe_2",[Dn[Mn][On]]],["Recipe_3",[Dn[Mn][On]]],["Recipe_4",[Dn[Mn][On]]],["Recipe_5",[Dn[Mn][On]]],["Sidebar_1",[Dn[Mn][zn],Dn[Mn][On]]],["Sidebar_2",[Dn[Mn][zn],Dn[Mn][On]]],["Sidebar_3",[Dn[Mn][zn],Dn[Mn][On]]],["Sidebar_4",[Dn[Mn][zn],Dn[Mn][On]]],["Sidebar_5",[Dn[Mn][zn],Dn[Mn][On]]],["Sidebar_9",[Dn[Mn][zn],Dn[Mn][On]]],[Ve.Video_Collapse_Autoplay_SoundOff,[{placementId:"_kWJDXIuROl",size:[640,360]}]],[Ve.Video_In_Post_ClicktoPlay_SoundOn,[{placementId:"_fR1aawM8Zo",size:[640,360]}]],[Ve.Video_Individual_Autoplay_SOff,[{placementId:"_nmpcOw19lD",size:[640,360]}]]]),Ln=new Map([[Ve.Video_Coll_SOff_Smartphone,[{placementId:"_kUg4kKElHf",size:[400,225]}]],[Ve.Video_In_Post_ClicktoPlay_SoundOn,[{placementId:"_upDLM7q4jV",size:[400,225]}]],[Ve.Video_Individual_Autoplay_SOff,[{placementId:"_fyab3CymN5",size:[400,225]}]]]),Fn=new Map([["10000",{id:"_htv2gWQDl4",isOutstream:!1}],["11000",{id:"_rEapvpk6cZ",isOutstream:!0}],["11100",{id:"_hDLFEUkifu",isOutstream:!0}],["10100",{id:"_kEvPWSnblw",isOutstream:!1}],["00011",{id:"_hRaLC9FgYn",isOutstream:!1}],["00010",{id:"_iyznbek6ki",isOutstream:!1}],["00001",{id:"_g1dEyYpnCU",isOutstream:!1}]]),Nn=["Below_Post","Content_1","Content_2","Content_3","Content_4","Content_5","Content_5","Content_6","Content_7","Content_8","Content_9","Header_1","Header_2","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9"],Un=["Below_Post","Content_1"],jn={desktop:Vn,mobile:Ln},qn=["Below_Post","Content_1","Content_3","Content_5","Recipe_1"];let Hn=class extends pn{constructor(e,t){super(),this._config=e,this._mediaType=t,this._device=ie()?"mobile":"desktop",this._map=jn[this._device],this.bidderConfig=this._config.partners.getBidderConfig(Yi.Kargo),this.videoCreativeIds=[["138381592896",Yi.Kargo],["138381553202",Yi.Kargo],["138381553217",Yi.Kargo],["138381553238",Yi.Kargo],["138381553328",Yi.Kargo],["138381553214",Yi.Kargo],["138381553235",Yi.Kargo],["138381553244",Yi.Kargo],["138381553331",Yi.Kargo],["138381553334",Yi.Kargo],["138382066465",Yi.Kargo],["138381553241",Yi.Kargo],["138381553325",Yi.Kargo],["138381553337",Yi.Kargo],["138381553340",Yi.Kargo],["138382066468",Yi.Kargo]],this.settings={storageAllowed:!0}}get enabled(){return this._config.partners.display.get(Yi.Kargo)}get videoEnabled(){return this._config.partners.video.get(Yi.Kargo)}createBitStringAdOptions(e){const t=e.hasSize([300,250]),i=e.hasSize([320,50]);return[+this.isBanner(e,t,i),+this.isOutstream(e,t),+this.isInterscroller(e),+this.isAnimatedFooter(e,i),+this.isExpandableFooter(e,i)].join("")}isBanner(e,t,i){return t&&i&&Nn.includes(e.placementMapName)}isOutstream(e,t){return t&&qn.includes(e.placementMapName)&&this._mediaType.outstreamEnabled(e).outstreamCapable}isInterscroller(e){return this._config.adTypes.has("interscroller")&&Un.includes(e.placementMapName)}isAnimatedFooter(e,t){return t&&this._config.adTypes.has("animatedFooter")&&"Footer_1"===e.placementMapName}isExpandableFooter(e,t){return t&&this._config.adTypes.has("expandableFooter")&&"Footer_1"===e.placementMapName}getSlotBidRequests(e){if("mobile"===this._device){const t=this.createBitStringAdOptions(e);if(Fn.has(t)){const i=Fn.get(t);return[{bidder:this.name,...this.getLabels(i.isOutstream,e.placementMapName),params:{placementId:i.id}}]}}else if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({adType:t,mobileCollapsePlayer:i,size:s})=>(!t||this._config.adTypes.has(t))&&(!i||!this._config.video.mobileStickyPlayerOnPage)&&e.hasSize(s))).map((({placementId:e})=>({bidder:this.name,params:{placementId:e}})))}getVideoSlotBidRequests(e){var t;return null===(t=this._map.get(e.name))||void 0===t?void 0:t.map((({placementId:e})=>({bidder:this.name,params:{placementId:e}})))}getLabels(e,t){const i=[];return e&&i.push(`outstreamCapable_${t}`),i.length?{labelAny:i}:{}}};Hn=I([ut("KargoBidder"),A(),O("design:paramtypes",[Ls,vn])],Hn);let Gn=class extends pn{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Yi.MediaGrid),this.settings={bidCpmAdjustment:(e,t)=>this._getCPMAdjustment(e,t),adserverTargeting:[{key:"hb_format",val:e=>e&&e.meta&&"trustx"===e.meta.demandSource?`trustx_${e.mediaType}`:e.mediaType}]},this._getCPMAdjustment=(e,t)=>{const i=t.dealId,s=("vastUrl"in t||"vastXml"in t)&&i&&i.toString().includes("G-TRUSTX");return L(this._config,e,Yi.MediaGrid,{...t,...s&&{dealId:void 0}})},this._map=new Map([["Below_Post",357],["Content_1",358],["Content_2",359],["Content_3",360],["Content_4",361],["Content_5",362],["Content_6",363],["Content_7",364],["Content_8",365],["Content_9",366],["Footer_1",367],["Header_1",368],["Header_2",369],["Interstitial_1",48428],["Recipe_1",370],["Recipe_2",371],["Recipe_3",372],["Recipe_4",373],["Sidebar_1",375],["Sidebar_2",376],["Sidebar_3",377],["Sidebar_4",378],["Sidebar_5",379],["Sidebar_9",380],["Video_StickyOutstream_1",133519]])}get enabled(){return this._config.partners.display.get(Yi.MediaGrid)}get videoEnabled(){return this._config.partners.video.get(Yi.MediaGrid)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{uid:this._map.get(e.placementMapName)}}]}};Gn=I([ut("MediaGridBidder"),P(),O("design:paramtypes",[Ls])],Gn);let $n=class extends pn{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Yi.MediaGridVideo),this.adapterName="grid",this.videoCreativeIds=[["138323922262",Yi.MediaGridVideo],["138323922901",Yi.MediaGridVideo],["138323922886",Yi.MediaGridVideo],["138323922898",Yi.MediaGridVideo],["138323922904",Yi.MediaGridVideo],["138323923042",Yi.MediaGridVideo],["138323922889",Yi.MediaGridVideo],["138323923018",Yi.MediaGridVideo],["138323922907",Yi.MediaGridVideo],["138323922859",Yi.MediaGridVideo],["138323923048",Yi.MediaGridVideo],["138323923045",Yi.MediaGridVideo],["138323923051",Yi.MediaGridVideo],["138323923021",Yi.MediaGridVideo],["138323922895",Yi.MediaGridVideo],["138323922892",Yi.MediaGridVideo]],this._map=new Map([[Ve.Video_Collapse_Autoplay_SoundOff,[{uid:2163}]],[Ve.Video_Coll_SOff_Smartphone,[{uid:2165}]],[Ve.Video_In_Post_ClicktoPlay_SoundOn,[{device:"desktop",uid:2164},{device:"mobile",uid:6056}]],[Ve.Video_Individual_Autoplay_SOff,[{device:"desktop",uid:2166},{device:"mobile",uid:6057}]]])}get enabled(){return this._config.partners.display.get(Yi.MediaGridVideo)}get videoEnabled(){return this._config.partners.video.get(Yi.MediaGridVideo)}getVideoSlotBidRequests(e){const t=Ie()?"desktop":"mobile";if(this._map.has(e.name))return this._map.get(e.name).filter((({device:e})=>!e||e===t)).map((({uid:e})=>({bidder:this.name,params:{uid:e}})))}};$n=I([ut("MediaGridVideoBidder"),P(),O("design:paramtypes",[Ls])],$n);let Wn=class extends pn{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Yi.Nativo),this.adapterName=Yi.Nativo,this._map=new Set(["Content_1","Content_2","Recipe_1","Recipe_2","Sidebar_1","Sidebar_2"])}get enabled(){return this._config.partners.display.get(Yi.Nativo)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{}}]}};Wn=I([ut("NativoBidder"),P(),O("design:paramtypes",[Ls])],Wn);let Kn=class extends pn{constructor(e,t){super(),this._config=e,this.openxExperiment=t,this.bidderConfig=this._config.partners.getBidderConfig(Yi.OpenX),this.adapterName=Yi.OpenX,this.serverBidderName=Yi.OpenXServer,this._bidders=[],this.videoCreativeIds=[["138323525262",Yi.OpenX],["138323914702",Yi.OpenX],["138323526741",Yi.OpenX],["138323526186",Yi.OpenX],["138323526738",Yi.OpenX],["138323526744",Yi.OpenX],["138323526747",Yi.OpenX],["138323526189",Yi.OpenX],["138323914588",Yi.OpenX],["138323526192",Yi.OpenX],["138323526750",Yi.OpenX],["138323466806",Yi.OpenX],["138323468969",Yi.OpenX],["138323914705",Yi.OpenX],["138323526183",Yi.OpenX],["138323526753",Yi.OpenX]],this.videoServerCreativeIds=[["138411286398",Yi.OpenXServer],["138411786451",Yi.OpenXServer],["138411286395",Yi.OpenXServer],["138411286392",Yi.OpenXServer],["138411286401",Yi.OpenXServer],["138411286389",Yi.OpenXServer],["13841117744",Yi.OpenXServer],["138411178055",Yi.OpenXServer]],this._params={delDomain:"cafemedia-d.openx.net"},this._highImpactParamsMap=new Map([["Content_1",["interscroller","miniscroller"]]]),this._map=new Map([["Below_Post",{client:{unit:"538699862"},server:{unit:"558245996"}}],["Content_1",{client:{unit:"538699864"},server:{unit:"558245997"}}],["Content_2",{client:{unit:"538699865"},server:{unit:"558245998"}}],["Content_3",{client:{unit:"538699866"},server:{unit:"558245999"}}],["Content_4",{client:{unit:"538699867"},server:{unit:"558246000"}}],["Content_5",{client:{unit:"538699868"},server:{unit:"558246001"}}],["Content_6",{client:{unit:"538699869"},server:{unit:"558246002"}}],["Content_7",{client:{unit:"538699870"},server:{unit:"558246003"}}],["Content_8",{client:{unit:"538699871"},server:{unit:"558246004"}}],["Content_9",{client:{unit:"538699872"},server:{unit:"558246005"}}],["Footer_1",{client:{unit:"538699840"},server:{unit:"558246006"}}],["Header_1",{client:{unit:"538699873"},server:{unit:"558246007"}}],["Header_2",{client:{unit:"538699874"},server:{unit:"558246008"}}],["Interstitial_1",{client:{unit:"543876568"},server:{unit:"543876568"}}],["Recipe_1",{client:{unit:"538699843"},server:{unit:"558246009"}}],["Recipe_2",{client:{unit:"538699844"},server:{unit:"558246010"}}],["Recipe_3",{client:{unit:"540594416"},server:{unit:"558246011"}}],["Recipe_4",{client:{unit:"540751624"},server:{unit:"558246012"}}],["Sidebar_1",{client:{unit:"538699853"},server:{unit:"558246014"}}],["Sidebar_2",{client:{unit:"538699854"},server:{unit:"558246015"}}],["Sidebar_3",{client:{unit:"538699855"},server:{unit:"558246016"}}],["Sidebar_4",{client:{unit:"538699856"},server:{unit:"558246017"}}],["Sidebar_5",{client:{unit:"538699857"},server:{unit:"558246018"}}],["Sidebar_9",{client:{unit:"538699861"},server:{unit:"558246019"}}],["Video_StickyOutstream_1",{client:{unit:"545721971"},server:{unit:"558246697"}}],[Ve.Video_Collapse_Autoplay_SoundOff,{client:{unit:"540679731"},server:{unit:"558246727"}}],[Ve.Video_Coll_SOff_Smartphone,{client:{unit:"540679733"},server:{unit:"558246726"}}],[Ve.Video_In_Post_ClicktoPlay_SoundOn,{client:{unit:"540679727"},server:{unit:"558246662"}}],[Ve.Video_Individual_Autoplay_SOff,{client:{unit:"540925853"},server:{unit:"558246728"}}]]),this._custParams={...this._config.site.filteredSensitiveCategories.length&&{sens:this._config.site.filteredSensitiveCategories},bucket:[this._config.context.bucket]};const i="both"===t.result||"server"===t.result,s="both"===t.result||"client"===t.result;i&&this._bidders.push({name:this.serverBidderName,type:"server"}),s&&this._bidders.push({name:this.name,type:"client"})}get enabled(){return this._config.partners.display.get(Yi.OpenX)}get videoEnabled(){return this._config.partners.video.get(Yi.OpenX)}getSlotBidRequests(e){if(this._map.has(e.placementMapName)){const t=this._highImpactParamsMap.get(e.placementMapName)||[],i=this._map.get(e.placementMapName);return this._bidders.map((e=>({bidder:e.name,params:{...this._params,unit:i[e.type].unit,customParams:{...this._custParams,hi_au:t.filter((e=>this._config.adTypes[e]))}}})))}}getVideoSlotBidRequests(e){if(this._map.has(e.name)){const t="all"===this._config.video.videoProtocols.scope?{protocols:this._config.video.videoProtocols.protocols}:"",i=this._map.get(e.name);return this._bidders.map((s=>{var n;return{bidder:s.name,params:{...this._params,unit:i[s.type].unit,video:{mimes:this._config.video.mimeType,api:this._config.video.apiValue,...t,pos:this._config.video.position.id,...(null===(n=this._config.video.playbackmethod)||void 0===n?void 0:n.get(e.name))&&{playbackmethod:this._config.video.playbackmethod.get(e.name)}}}}}))}}};Kn=I([ut("OpenXBidder"),P(),O("design:paramtypes",[Ls,is])],Kn);let Qn=class{constructor(){this.segmentName="www.iris.tv",this.segtax=501,this._irisEndpoint="https://context.iris.tv/video_info",this._token="5d8f38ad6d7de4253cfa501b84c30b1014868d9884be5d68dc64bd50a6edb54c",this._clientToken="EXJQESR8SMWMZCJ"}fetchIrisResponse(e){return de(`${this._irisEndpoint}?access_token=${this._token}&client_token=${this._clientToken}&platform_id=${e}`)}async setContextualData(e){return this.fetchIrisResponse(e).then((e=>{if(e&&"boolean"!=typeof e){const t=e.video_info,i=t&&t.context;i&&i.length&&(this._contextualData=i,this._irisId=t.iris_id)}return!0})).catch((()=>!1))}get irisContextualData(){return this._contextualData}get irisId(){return this._irisId}};Qn=I([A()],Qn);let Xn=class extends pn{constructor(e,t){super(),this._config=e,this._irisTv=t,this.bidderConfig=this._config.partners.getBidderConfig(Yi.Pubmatic),this.adapterName=Yi.Pubmatic,this.serverBidderName=Yi.PubmaticServer,this.videoCreativeIds=[["138323526825",Yi.Pubmatic],["138323915419",Yi.Pubmatic],["138323915299",Yi.Pubmatic],["138323527095",Yi.Pubmatic],["138323469392",Yi.Pubmatic],["138323915422",Yi.Pubmatic],["138323469395",Yi.Pubmatic],["138323469389",Yi.Pubmatic],["138323469383",Yi.Pubmatic],["138323469320",Yi.Pubmatic],["138323469317",Yi.Pubmatic],["138323527092",Yi.Pubmatic],["138323469401",Yi.Pubmatic],["138323469398",Yi.Pubmatic],["138323469386",Yi.Pubmatic],["138323469404",Yi.Pubmatic]],this.videoServerCreativeIds=[["138337271609",Yi.PubmaticServer],["138337343196",Yi.PubmaticServer],["138337343229",Yi.PubmaticServer],["138337720879",Yi.PubmaticServer],["138337720885",Yi.PubmaticServer],["138337343202",Yi.PubmaticServer],["138337343211",Yi.PubmaticServer],["138337343217",Yi.PubmaticServer],["138337343232",Yi.PubmaticServer],["138337720597",Yi.PubmaticServer],["138337720888",Yi.PubmaticServer],["138337343199",Yi.PubmaticServer],["138337343214",Yi.PubmaticServer],["138337343223",Yi.PubmaticServer],["138337343226",Yi.PubmaticServer],["138337343220",Yi.PubmaticServer]],this.pubId="157347",this._map=new Map([["Below_Post",{client:"BelowPost1",server:"BelowPost1_XandrS2S"}],["Content_1",{client:"Content1",server:"Content1_XandrS2S"}],["Content_2",{client:"Content2",server:"Content2_XandrS2S"}],["Content_3",{client:"Content3",server:"Content3_XandrS2S"}],["Content_4",{client:"Content4",server:"Content4_XandrS2S"}],["Content_5",{client:"Content5",server:"Content5_XandrS2S"}],["Content_6",{client:"Content6",server:"Content6_XandrS2S"}],["Content_7",{client:"Content7",server:"Content7_XandrS2S"}],["Content_8",{client:"Content8",server:"Content8_XandrS2S"}],["Content_9",{client:"Content9",server:"Content9_XandrS2S"}],["Footer_1",{client:"Footer1",server:"Footer1_XandrS2S"}],["Header_1",{client:"Header1",server:"Header1_XandrS2S"}],["Header_2",{client:"Header2",server:"Header2_XandrS2S"}],["Interstitial_1",{client:"interstitial",server:"interstitial_XandrS2S"}],["Recipe_1",{client:"Recipe1",server:"Recipe1_XandrS2S"}],["Recipe_2",{client:"Recipe2",server:"Recipe2_XandrS2S"}],["Recipe_3",{client:"Recipe3",server:"Recipe3_XandrS2S"}],["Recipe_4",{client:"Recipe4",server:"Recipe4_XandrS2S"}],["Sidebar_1",{client:"Sidebar1",server:"Sidebar1_XandrS2S"}],["Sidebar_2",{client:"Sidebar2",server:"Sidebar2_XandrS2S"}],["Sidebar_3",{client:"Sidebar3",server:"Sidebar3_XandrS2S"}],["Sidebar_4",{client:"Sidebar4",server:"Sidebar4_XandrS2S"}],["Sidebar_5",{client:"Sidebar5",server:"Sidebar5_XandrS2S"}],["Sidebar_9",{client:"Sidebar9",server:"Sidebar9_XandrS2S"}],["Video_StickyOutstream_1",{client:"2267845",server:"4018943"}],[Ve.Video_Collapse_Autoplay_SoundOff,{client:"1961309",server:"3437231"}],[Ve.Video_Coll_SOff_Smartphone,{client:"1961310",server:"3437234"}],[Ve.Video_In_Post_ClicktoPlay_SoundOn,{client:"1961308",server:"3437232"}],[Ve.Video_Individual_Autoplay_SOff,{client:"2503033",server:"3443766"}]])}get enabled(){return this._config.partners.display.get(Yi.Pubmatic)}get videoEnabled(){return this._config.partners.video.get(Yi.Pubmatic)}getSlotBidRequests(e){const t=[];return this._map.has(e.placementMapName)&&(t.push(this.getBidParams(this.name,this._map.get(e.placementMapName).client,e)),t.push(this.getBidParams(this.serverBidderName,this._map.get(e.placementMapName).server,e))),t}getBidParams(e,t,i){return{bidder:e,params:{publisherId:this.pubId,adSlot:`${t}@${i.sizes[0][0]}x${i.sizes[0][1]}`,...this._config.site.filteredSensitiveCategories.length&&{pmzoneid:this._config.site.filteredSensitiveCategories.join(",")}}}}getVideoSlotBidRequests(e){const t=[];return this._map.has(e.name)&&(t.push(this.getVideoBidParams(this.name,this._map.get(e.name).client,e)),t.push(this.getVideoBidParams(this.serverBidderName,this._map.get(e.name).server,e))),t}getDCTRParam(){const e=[],t=this._irisTv.irisContextualData;return t&&t.length&&e.push(`iris_context=${t.toString()}`),e.join("|")}getVideoBidParams(e,t,i){var s;const n=this.getDCTRParam();return{bidder:e,params:{publisherId:this.pubId,...n&&{dctr:n},video:{mimes:this._config.video.mimeType,api:this._config.video.apiValue,..."all"===this._config.video.videoProtocols.scope&&{protocols:this._config.video.videoProtocols.protocols},...(null===(s=this._config.video.playbackmethod)||void 0===s?void 0:s.get(i.name))&&{playbackmethod:this._config.video.playbackmethod.get(i.name)}},adSlot:`${t}@${i.size[0]}x${i.size[1]}`,...this._config.site.filteredSensitiveCategories.length&&{pmzoneid:this._config.site.filteredSensitiveCategories.join(",")}}}}};Xn=I([ut("PubMaticBidder"),P(),O("design:paramtypes",[Ls,Qn])],Xn);let Yn=class extends pn{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Yi.Roundel),this.adapterName=Yi.IndexExchange,this.videoCreativeIds=[["138323538893",Yi.Roundel],["138323592675",Yi.Roundel],["138323592663",Yi.Roundel],["138323592660",Yi.Roundel],["138323983633",Yi.Roundel],["138323970739",Yi.Roundel],["138323983639",Yi.Roundel],["138323592699",Yi.Roundel],["138323592672",Yi.Roundel],["138323983636",Yi.Roundel],["138323970742",Yi.Roundel],["138323592693",Yi.Roundel],["138323592696",Yi.Roundel],["138323592690",Yi.Roundel],["138323592687",Yi.Roundel],["138323592684",Yi.Roundel]],this._params={siteId:"377190"},this._map=new Map([["Below_Post",[{size:[728,90]},{size:[300,250]}]],["Content_1",[{size:[728,90]},{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_2",[{size:[728,90]},{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_3",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_4",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_5",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_6",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_7",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_8",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_9",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Header_1",[{size:[728,90]},{size:[970,250]},{size:[320,50]},{size:[300,50]}]],["Header_2",[{size:[728,90]},{size:[970,250]},{size:[320,50]},{size:[300,50]}]],["Footer_1",[{size:[728,90]},{size:[970,90]},{size:[320,50]},{size:[320,100]},{size:[300,50]}]],["Recipe_1",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Recipe_2",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Recipe_3",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Recipe_4",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Sidebar_1",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_2",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_3",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_4",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_5",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_9",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]]]),this._videoMap=new Map([[Ve.Video_Collapse_Autoplay_SoundOff,[{size:[640,360],siteId:"485376",device:"desktop"}]],[Ve.Video_Coll_SOff_Smartphone,[{size:[400,225],siteId:"485377",device:"mobile"}]],[Ve.Video_In_Post_ClicktoPlay_SoundOn,[{size:[640,360],siteId:"485380",device:"desktop"},{size:[400,225],siteId:"485381",device:"mobile"}]],[Ve.Video_Individual_Autoplay_SOff,[{size:[640,360],siteId:"485378",device:"desktop"},{size:[400,225],siteId:"485379",device:"mobile"}]]]),this._playbackmethodMap=new Map([[3,[3]],[6,[2]]])}get enabled(){return this._config.partners.display.get(Yi.Roundel)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({size:t})=>e.hasSize(t))).map((({size:t})=>({bidder:this.name,...e.viewability<this._config.marmalade.hvThreshold?{labelAny:["refresh"]}:{},params:{...this._params,size:t}})))}getVideoSlotBidRequests(e){var t;if(this._videoMap.has(e.name)){const i=Ie()?"desktop":"mobile",s=this._videoMap.get(e.name).filter((e=>e.device===i)).map((({...e})=>e))[0];return[{bidder:this.name,params:{...s,video:{mimes:this._config.video.mimeType,...(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))&&{playbackmethod:this._playbackmethodMap.get(this._config.video.playbackmethod.get(e.name)[0])},api:this._config.video.apiValue,minduration:0,maxduration:30,protocols:this._config.video.videoProtocols.protocols}}}]}}};Yn=I([ut("RoundelBidder"),P(),O("design:paramtypes",[Ls])],Yn);let Jn=class extends pn{constructor(e,t){super(),this._config=e,this._rubiconExperiment=t,this.bidderConfig=this._config.partners.getBidderConfig(Yi.Rubicon),this.adapterName=Yi.Rubicon,this.serverBidderName=Yi.RubiconServer,this.videoCreativeIds=[["138323536473",Yi.Rubicon],["138323540955",Yi.Rubicon],["138323540961",Yi.Rubicon],["138323540964",Yi.Rubicon],["138323929606",Yi.Rubicon],["138323480624",Yi.Rubicon],["138323536455",Yi.Rubicon],["138323540856",Yi.Rubicon],["138323929612",Yi.Rubicon],["138323480642",Yi.Rubicon],["138323929516",Yi.Rubicon],["138323480600",Yi.Rubicon],["138323480636",Yi.Rubicon],["138323536467",Yi.Rubicon],["138323926693",Yi.Rubicon],["138323536476",Yi.Rubicon]],this.videoServerCreativeIds=[["138323542002",Yi.RubiconServer],["138323932663",Yi.RubiconServer],["138323544525",Yi.RubiconServer],["138323932642",Yi.RubiconServer],["138323544531",Yi.RubiconServer],["138323544528",Yi.RubiconServer],["138323932765",Yi.RubiconServer],["138323932768",Yi.RubiconServer],["138323932852",Yi.RubiconServer],["138323932855",Yi.RubiconServer],["138323544354",Yi.RubiconServer],["138323932858",Yi.RubiconServer],["138323544357",Yi.RubiconServer],["138323544339",Yi.RubiconServer],["138323932672",Yi.RubiconServer],["138323932669",Yi.RubiconServer]],this._bidders=[],this._map=new Map([["Below_Post",{client:881394,server:1974272}],["Content_1",{client:881398,server:1974276}],["Content_2",{client:881400,server:1974280}],["Content_3",{client:881402,server:1974282}],["Content_4",{client:881404,server:1974284}],["Content_5",{client:881406,server:1974286}],["Content_6",{client:881408,server:1974288}],["Content_7",{client:881410,server:1974290}],["Content_8",{client:881412,server:1974292}],["Content_9",{client:881414,server:1974294}],["Footer_1",{client:881416,server:1974296}],["Header_1",{client:881422,server:1974304}],["Header_2",{client:881426,server:1974306}],["Interstitial_1",{client:1979348,server:1979354}],["Recipe_1",{client:881428,server:1974308}],["Recipe_2",{client:881430,server:1974310}],["Recipe_3",{client:1187188,server:1974312}],["Recipe_4",{client:1279328,server:1974314}],["Sidebar_1",{client:881440,server:1974316}],["Sidebar_2",{client:881454,server:1974318}],["Sidebar_3",{client:881460,server:1974320}],["Sidebar_4",{client:881462,server:1974322}],["Sidebar_5",{client:881466,server:1974324}],["Sidebar_9",{client:881478,server:1974332}],["Video_StickyOutstream_1",{client:2150398,server:2384630}],[Ve.Video_Collapse_Autoplay_SoundOff,{client:1259006,server:2055644}],[Ve.Video_Coll_SOff_Smartphone,{client:1259010,server:2055648}],[Ve.Video_In_Post_ClicktoPlay_SoundOn,{client:1259008,server:2055642}],[Ve.Video_Individual_Autoplay_SOff,{client:1506800,server:2055646}]]);const i="both"===this._rubiconExperiment.result||"client"===this._rubiconExperiment.result;this._config.prebid.s2s.bidders.includes(Yi.RubiconServer)&&this._bidders.push({name:this.serverBidderName,type:"server"}),i&&this._bidders.push({name:this.name,type:"client"})}getDisplayParams(e,t){return{accountId:9262,siteId:"Video_StickyOutstream"===t?{server:420534,client:386004}[e]:{server:363698,client:180726}[e],..."Video_StickyOutstream"===t&&{video:{language:"en"}}}}getVideoParams(e){return{accountId:9262,siteId:{server:375144,client:253996}[e],video:{language:"en"}}}get enabled(){return this._config.partners.display.get(Yi.Rubicon)}get videoEnabled(){return this._config.partners.video.get(Yi.Rubicon)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._bidders.map((t=>({bidder:t.name,params:{...this.getDisplayParams(t.type,e.location),zoneId:this._map.get(e.placementMapName)[t.type],...e.isHighlyViewable()&&{position:"atf"}}})))}getVideoSlotBidRequests(e){if(this._map.has(e.name))return this._bidders.map((t=>({bidder:t.name,params:{...this.getVideoParams(t.type),zoneId:this._map.get(e.name)[t.type]}})))}updateBidParams(e){this._addPositionParam(e,"atf")}};Jn=I([ut("RubiconBidder"),P(),O("design:paramtypes",[Ls,ts])],Jn);const Zn=new Map([["Below_Post",[{size:[300,250],pkey:"7SbWFfJm2dn10YEIuTIpKDME"},{size:[728,90],pkey:"rcC1EVV27zshgwZefZtMMbQH"},{size:[320,50],pkey:"T7Qor0zFsfzE8d0WArpJPwQX"},{size:[336,280],pkey:"WoVFJAUvQg9oowjifOQLhHfb"}]],["Content_1",[{size:[300,250],pkey:"Hqhk8OQEu54TMfika2qbQjZe"},{size:[728,90],pkey:"Abg2OePLqx4qSJsbvcMFeKMd"},{size:[320,50],pkey:"nlcvbONm7a7qbEq1CUb60bDG"},{size:[336,280],pkey:"ygZ1JVS7p7SMDBgz7ueGgfVr"},{size:[300,50],pkey:"9kDU40A4BJXchR7ikuWND5Ui"}]],["Content_2",[{size:[300,250],pkey:"h28JMhou2Lu9BYHVipYoXuJC"},{size:[320,50],pkey:"jdumKQjHDTttqY113Cyf8Dg5"},{size:[728,90],pkey:"zXUbUzaRyn8LyqVmiSSGFcf5"},{size:[300,50],pkey:"D3MXJwPThTgUD48ESouRejcn"},{size:[336,280],pkey:"ocdg6DMXhAfaTk7KgImuPCPi"}]],["Content_3",[{size:[300,250],pkey:"BFOY9pnh071TtzOy9lBjIr2i"},{size:[320,50],pkey:"96aXzW1FyE1LlnVyOMYuFW7x"},{size:[728,90],pkey:"HhDmPHv4VTNzHzcG65kBlpS0"},{size:[300,50],pkey:"JQXmRwXj1jOjHCQF8ufXkKIJ"}]],["Content_4",[{size:[300,250],pkey:"GA7GQONt3evAWTb7QFsfr4kT"},{size:[320,50],pkey:"iN7VUlNOwy5Nem9ve7HCjt1O"},{size:[728,90],pkey:"WlK6M3BJTYR6CKgtW4fpeWwc"},{size:[300,50],pkey:"7DEh5436UHnmeKGzVXQVsvRk"}]],["Content_5",[{size:[300,250],pkey:"ZKk36rd21PTfmO81jIh4Yogg"},{size:[320,50],pkey:"Dc9sjnVcwjTK2iG3wYmqLveY"},{size:[728,90],pkey:"wuq8OFVQSXj9rmtUlnLo57Tm"},{size:[300,50],pkey:"ZWVmSVe4txKlxxCQoqMcGIus"}]],["Content_6",[{size:[300,250],pkey:"1rWi9eEX25aaJTBP0gYbRZkI"},{size:[320,50],pkey:"xpvziI7Hx5t9ZYEhjNh559PS"},{size:[728,90],pkey:"NCS2KzLcAOxlnkaJ4xjxF0yY"},{size:[300,50],pkey:"T3CRI7sep8LYNDkOrvgSZUPQ"}]],["Content_7",[{size:[300,250],pkey:"UyoEFm2doVvp7106fNDYQWUD"},{size:[320,50],pkey:"TaEN9LCRL7njBnuDdcqFl45i"},{size:[728,90],pkey:"F9qCCjLusYbKBOeMYwTpuEPE"},{size:[300,50],pkey:"T4LKxfIKZJCqFzBemjae6MGu"}]],["Content_8",[{size:[300,250],pkey:"Kx7r3bEMtM8oX76sHwPJmKc0"},{size:[320,50],pkey:"yFU6LWetkGsn5PDQKYT2IDsb"},{size:[728,90],pkey:"SzRqozC7KE5CHZ5X0MYolGNg"},{size:[300,50],pkey:"TIHmP6MqapPY4RpbkOm3pYpV"}]],["Content_9",[{size:[300,250],pkey:"ME02OxIG42MNrqtEtkRcC3WI"},{size:[320,50],pkey:"FZAEaVzZWYVTEcRNmWJmjUXB"},{size:[728,90],pkey:"d2Rjluzn2K59G2BS6dcOSTnQ"},{size:[300,50],pkey:"mBGMr6mqftj8c2qcQky6UjEB"}]],["Footer_1",[{size:[728,90],pkey:"3B3mEOFlqzWznInsydJTcOM4"},{size:[320,50],pkey:"D7FU4vgB3xSrSUsE8x941axF"},{size:[300,50],pkey:"GNY9gDQKzEGt6Tlb13yLfmuX"},{size:[970,90],pkey:"QpPUq12xurb2uH4eesPfZAHF"},{size:[320,100],pkey:"B1C8tQAkMN7kpCuxh1hW6CY8"}]],["Header_1",[{size:[728,90],pkey:"gEiCP252abCex8X60QDCQ18Q"},{size:[320,50],pkey:"1edt8nVrdCirRPclWUszxTkp"},{size:[970,250],pkey:"8vU2bELnZC87m9GLY6XrB82g"},{size:[300,50],pkey:"hjIoNE7R9iO7fInGsX0iibTz"},{size:[300,250],pkey:"jStKXZxN8Ccuf6XS4dKqhKr9"},{size:[970,90],pkey:"InTyYn8hF3Qs7LnzMuZosUTQ"}]],["Header_2",[{size:[728,90],pkey:"qJiJRp6ukhtMyrprTZKHjL2M"},{size:[320,50],pkey:"8FmqCiT44WYjSNLDf1gQE8JU"},{size:[300,250],pkey:"HkFfwTqoieNv9hxPhJKPKoX8"},{size:[970,250],pkey:"NwtHSBVFWxfm6Yh7UeCfuHa6"},{size:[300,50],pkey:"4kwwuV84b6KhCJQy0yjDYdfl"},{size:[320,100],pkey:"TJx2N6gevlYeFawnBbRy4gRl"}]],["Recipe_1",[{size:[300,250],pkey:"uf0lKHKQpMCXGy4lxiCspQq7"},{size:[320,50],pkey:"lklI3sAvIozfaIGNQGORtPOR"},{size:[300,50],pkey:"yiehMO6LI3FNHjbCPIb1L3Sk"},{size:[250,250],pkey:"LyZ0FEa1r0IYt8G2ZZsZi389"}]],["Recipe_2",[{size:[300,250],pkey:"k3diT2fkJ9qUBWQussCusqH3"},{size:[320,50],pkey:"nWhVYiRycgz0snwL4hTcS3vA"},{size:[300,50],pkey:"dq7FbogqyhCRRIH60EEOqCSU"},{size:[250,250],pkey:"yiWtNVya1yOMCncI5pNF5kc5"}]],["Recipe_3",[{size:[300,250],pkey:"43441FPoOkNSE3t2cVABWnsj"},{size:[320,50],pkey:"XTsNJ5wTa3CksG40rnRNHiib"},{size:[300,50],pkey:"OogAcgEwqjMqWmbuSN0n1fhg"},{size:[250,250],pkey:"t9D4xPUErCl21pJOFQemQp9h"}]],["Recipe_4",[{size:[300,250],pkey:"DYIoV5pkMmf8Dh6Z328lJjVS"},{size:[320,50],pkey:"00kJPcqve45ZTYX6hicr37iK"},{size:[300,50],pkey:"BpO7D8zDzdyGmFUOGNcRhUUm"},{size:[300,600],pkey:"xv9dO3gYMP1nJKg1FZVtIUlc"}]],["Sidebar_1",[{size:[300,250],pkey:"CrsU69OOlLRE1gDlLVGWIIV6"},{size:[300,600],pkey:"3pyeQzDRiW84Hg8gNrOq7BUr"},{size:[160,600],pkey:"CFUyMykS3nc38kL2GnT0S7E4"},{size:[320,50],pkey:"1BptSVedVseFELcEHmSjZmDr"},{size:[300,50],pkey:"2pg9IZthU4rVlb45qoI2081a"}]],["Sidebar_2",[{size:[300,250],pkey:"SRG5uYvQkWqlTzkqgXr65zTB"},{size:[300,600],pkey:"Ean6FEKv8T4dKoDEQtgf6J5K"},{size:[160,600],pkey:"WbYPSpMSXQPKyD7MaH1Qc5z7"},{size:[320,50],pkey:"TAk15aJmBw3jMFoV9vSYYWLl"},{size:[300,50],pkey:"9w6UD5z59ooQWpW98mmpv0mD"}]],["Sidebar_3",[{size:[300,250],pkey:"ePJzx8Sm7N35TzihmA98puiL"},{size:[160,600],pkey:"P4EOkxn1ZtpxOxx2lahCdYOJ"},{size:[300,600],pkey:"6mOPwEqEtbkwuuzizUPzdQhN"},{size:[320,50],pkey:"oSwBRQCb6174NZ0wDEyxZW9E"},{size:[300,50],pkey:"LImddo0cIDhlsk6dkvMaHxsW"}]],["Sidebar_4",[{size:[300,250],pkey:"xVf5XsMi0sHZYN4WvjiFhCt3"},{size:[300,600],pkey:"WH8DfDE6oJYbphu2nD4xxeIV"},{size:[160,600],pkey:"8ZBBtdUqKqArOUPgW7bpiUia"},{size:[320,50],pkey:"UMKQPvhCYMOH1sOPVdYEDEQt"},{size:[300,50],pkey:"UoweNgEnjfmpxKoHzSXkuoWg"}]],["Sidebar_5",[{size:[300,250],pkey:"EhtNcAaPOBeM8QI5ypGM7lZy"},{size:[160,600],pkey:"zAOUkIaCHmzOCw2Ma5rrzaql"},{size:[300,600],pkey:"LDMKwAfNFjGKWXL0OWKksknT"},{size:[320,50],pkey:"WdPWJ92IfPqKgO5vRXvlsDO4"},{size:[300,50],pkey:"MgyTpbqDa5nWNz6aDNWyucFn"}]],["Sidebar_9",[{size:[300,250],pkey:"JmiI0R5Mw4cFlLp9pgaem31E"},{size:[300,600],pkey:"IoYC7dL9wONQvhjMnu3iqP3R"},{size:[160,600],pkey:"np3Ol8PXscn2cbaUcrthhTKg"},{size:[320,50],pkey:"Cd46ns56pySxsSXXdRi3KlYq"},{size:[300,50],pkey:"k8W1t71k8qmkYsiK4v3pop6j"},{size:[250,250],pkey:"qINMbG0pc3n9CO2oIW1qxWGE"}]],["Video_StickyOutstream_1",[{size:[300,250],pkey:"qKjlCz8NOStHzB15G18scbgS"},{size:[320,50],pkey:"qKjlCz8NOStHzB15G18scbgS"}]]]),er=new Map([[Ve.Video_Collapse_Autoplay_SoundOff,[{size:[640,360],pkey:"I5VjN89qESPMegBdpCt92W8S"}]],[Ve.Video_Coll_SOff_Smartphone,[{size:[400,225],pkey:"iZXbFkwkNrOgpI7ue8o3mJda"}]],[Ve.Video_In_Post_ClicktoPlay_SoundOn,[{size:[640,360],pkey:"sMLWZBQNa6GaKC2khQiIg5Tj"},{size:[400,225],pkey:"yHkEhAMj24ubV101Fklbp6fA"}]],[Ve.Video_Individual_Autoplay_SOff,[{size:[640,360],pkey:"GCV9Do84nDBEFaVjb507H4iE"},{size:[400,225],pkey:"6lY8mDlZX6W7ijhbh6OuDCfj"}]]]);let tr=class extends pn{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Yi.Sharethrough),this.videoCreativeIds=[["138377683089",Yi.Sharethrough],["138377670131",Yi.Sharethrough],["138377670158",Yi.Sharethrough],["138377670173",Yi.Sharethrough],["138378141751",Yi.Sharethrough],["138377670161",Yi.Sharethrough],["138377670167",Yi.Sharethrough],["138377670170",Yi.Sharethrough],["138377670209",Yi.Sharethrough],["138377670212",Yi.Sharethrough],["138377670224",Yi.Sharethrough],["138377669645",Yi.Sharethrough],["138377670218",Yi.Sharethrough],["138377670221",Yi.Sharethrough],["138378141754",Yi.Sharethrough],["138377670215",Yi.Sharethrough]]}get enabled(){return this._config.partners.display.get(Yi.Sharethrough)}get videoEnabled(){return this._config.partners.video.get(Yi.Sharethrough)}getSlotBidRequests(e){if(Zn.has(e.placementMapName))return Zn.get(e.placementMapName).filter((({size:t})=>e.hasSize(t))).map((({pkey:e})=>({bidder:this.name,params:{pkey:e}})))}getVideoSlotBidRequests(e){return er.get(e.name).filter((({size:t})=>e.size[0]===t[0]&&e.size[1]===t[1])).map((({pkey:e})=>({bidder:this.name,params:{pkey:e}})))}};tr=I([ut("SharethroughBidder"),P(),O("design:paramtypes",[Ls])],tr);let ir=class extends pn{constructor(e,t){super(),this._config=e,this._irisTv=t,this.bidderConfig=this._config.partners.getBidderConfig(Yi.Spotx),this.videoCreativeIds=[["138303907026",Yi.Spotx],["138323929600",Yi.Spotx],["138323929594",Yi.Spotx],["138323536461",Yi.Spotx],["138323929603",Yi.Spotx],["138323929507",Yi.Spotx],["138323536458",Yi.Spotx],["138323536449",Yi.Spotx],["138323929591",Yi.Spotx],["138323537142",Yi.Spotx],["138323929621",Yi.Spotx],["138323536452",Yi.Spotx],["138323540958",Yi.Spotx],["138323929459",Yi.Spotx],["138323929522",Yi.Spotx],["138323929618",Yi.Spotx],["138317573432",Yi.Spotx],["138303907368",Yi.Spotx],["138303940541",Yi.Spotx],["138303941144",Yi.Spotx],["138304289827",Yi.Spotx],["138303907377",Yi.Spotx],["138303935663",Yi.Spotx],["138303940901",Yi.Spotx],["138303941138",Yi.Spotx],["138303941153",Yi.Spotx],["138304290448",Yi.Spotx],["138303941135",Yi.Spotx],["138303941147",Yi.Spotx],["138303941156",Yi.Spotx],["138304290445",Yi.Spotx],["138303941141",Yi.Spotx]],this._videoParams={ad_unit:"instream",secure:!0,mimes:this._config.video.mimeType,position:this._config.video.position.id},this._map=new Map([[Ve.Video_Collapse_Autoplay_SoundOff,279547],[Ve.Video_Coll_SOff_Smartphone,279549],[Ve.Video_In_Post_ClicktoPlay_SoundOn,279548],[Ve.Video_Individual_Autoplay_SOff,279550]])}get videoEnabled(){return this._config.partners.video.get(Yi.Sharethrough)}getVideoSlotBidRequests(e){if(this._map.has(e.name)){const t=this._irisTv.irisContextualData,i=this._irisTv.irisId,s=i&&t&&t.length;return[{bidder:this.name,params:{...this._videoParams,channel_id:this._map.get(e.name),...s&&{custom:{iris_context:t,iris_id:i}}}}]}}};ir=I([ut("SpotXBidder"),P(),O("design:paramtypes",[Ls,Qn])],ir);let sr=class extends pn{constructor(e,t){super(),this._config=e,this._mediaType=t,this.bidderConfig=this._config.partners.getBidderConfig(Yi.Teads),this._pageId=112062,this._adTypeBitIndexMap=new Map([["outstream",{adType:ie()?"outstreamMobile":"outstreamDesktop",index:1}],["interscroller",{adType:"interscroller",index:2}],["miniscroller",{adType:"miniscroller",index:3}]]),this._adUnitsMap=new Map([["Below_Post",[]],["Content_1",["outstreamDesktop","outstreamMobile","miniscroller","interscroller"]],["Content_2",["miniscroller","interscroller"]],["Content_3",["outstreamDesktop","outstreamMobile","miniscroller","interscroller"]],["Content_4",["miniscroller","interscroller"]],["Content_5",["outstreamDesktop","outstreamMobile","miniscroller","interscroller"]],["Content_6",["miniscroller","interscroller"]],["Content_7",["miniscroller","interscroller"]],["Content_8",["miniscroller","interscroller"]],["Content_9",["miniscroller","interscroller"]],["Footer_1",[]],["Header_1",[]],["Header_2",[]],["Recipe_1",["outstreamDesktop","outstreamMobile","miniscroller"]],["Recipe_2",["miniscroller"]],["Recipe_3",["miniscroller"]],["Recipe_4",["miniscroller"]],["Sidebar_1",[]],["Sidebar_2",[]],["Sidebar_3",[]],["Sidebar_4",[]],["Sidebar_5",[]],["Sidebar_9",[]]]),this._deviceAdTypes={mobile:["outstreamMobile","interscroller","miniscroller"],desktop:["outstreamDesktop"]},this._placementIdMap=new Map([["1000",{id:121842,isOutstream:!1}],["1001",{id:121836,isOutstream:!0}],["1010",{id:121835,isOutstream:!0}],["1011",{id:121840,isOutstream:!0}],["1100",{id:121834,isOutstream:!1}],["1101",{id:121838,isOutstream:!0}],["1110",{id:121837,isOutstream:!0}],["1111",{id:121895,isOutstream:!0}]])}get enabled(){return this._config.partners.display.get(Yi.Teads)}createBitArrayAdOptions(e){const t=ie()?this._deviceAdTypes.mobile:this._deviceAdTypes.desktop,i=["1","0","0","0"],s=this._adUnitsMap.get(e.placementMapName);return this._adTypeBitIndexMap.forEach(((n,r)=>{const o=n.adType;t.includes(o)&&this._config.adTypes.has(o)&&s.includes(o)&&(i[n.index]="outstream"===r?this._mediaType.outstreamEnabled(e).currentlyActive?"1":"0":"1")})),i}getSlotBidRequests(e){if(this._adUnitsMap.has(e.placementMapName)){const t=this.createBitArrayAdOptions(e),i=this._placementIdMap.get(t.join(""));return[{bidder:this.name,...this.getLabels(i.isOutstream,e.placementMapName),params:{placementId:i.id,pageId:this._pageId}}]}}getLabels(e,t){const i=[];return e&&i.push(`outstreamCapable_${t}`),i.length?{labelAny:i}:{}}updateBidParams(e,t){const i=this.createBitArrayAdOptions(t),s=this._placementIdMap.get(i.join(""));this._addPlacementIdParam(e,s.id),s.isOutstream&&this._addBidLabel(e,`outstreamActive_${t.placementMapName}`)}};sr=I([ut("TeadsBidder"),P(),O("design:paramtypes",[Ls,vn])],sr);let nr=class extends pn{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Yi.Telaria),this.videoCreativeIds=[["138323469428",Yi.Telaria],["138323528058",Yi.Telaria],["138323527527",Yi.Telaria],["138323527362",Yi.Telaria],["138323520198",Yi.Telaria],["138323528061",Yi.Telaria],["138323528049",Yi.Telaria],["138323528043",Yi.Telaria],["138323527632",Yi.Telaria],["138323527524",Yi.Telaria],["138323527359",Yi.Telaria],["138323528055",Yi.Telaria],["138323527794",Yi.Telaria],["138323527791",Yi.Telaria],["138323527530",Yi.Telaria],["138323528046",Yi.Telaria]],this._map=new Map([[Ve.Video_Collapse_Autoplay_SoundOff,{supplyCode:"6psex-fm1gy",adCode:"6psex-o3fcq"}],[Ve.Video_In_Post_ClicktoPlay_SoundOn,{supplyCode:"6psex-bgapy",adCode:"6psex-kln5k"}],[Ve.Video_Coll_SOff_Smartphone,{supplyCode:"6psex-axuft",adCode:"6psex-jaes3"}],[Ve.Video_Individual_Autoplay_SOff,{supplyCode:"6psex-sootr",adCode:"6psex-0vosj"}]])}get videoEnabled(){return this._config.partners.video.get(Yi.Telaria)}getVideoSlotBidRequests(e){if(this._map.has(e.name)){const t=this._map.get(e.name);return[{bidder:this.name,params:{...t,videoId:e.name}}]}}};nr=I([ut("TelariaBidder"),P(),O("design:paramtypes",[Ls])],nr);let rr=class extends pn{constructor(e,t,i){super(),this._config=e,this._tripleLiftExperiment=t,this._mediaType=i,this.bidderConfig=this._config.partners.getBidderConfig(Yi.Triplelift),this.adapterName=Yi.Triplelift,this.serverBidderName=Yi.TripleliftServer,this.videoCreativeIds=[["138323510289",Yi.Triplelift],["138323472959",Yi.Triplelift],["138323472731",Yi.Triplelift],["138323472671",Yi.Triplelift],["138323472641",Yi.Triplelift],["138323473061",Yi.Triplelift],["138323473058",Yi.Triplelift],["138323473019",Yi.Triplelift],["138323473016",Yi.Triplelift],["138323472986",Yi.Triplelift],["138323472734",Yi.Triplelift],["138323473064",Yi.Triplelift],["138323473055",Yi.Triplelift],["138323472728",Yi.Triplelift],["138323472674",Yi.Triplelift],["138323472737",Yi.Triplelift],["138326649881",Yi.Triplelift],["138326691825",Yi.Triplelift],["138326691828",Yi.Triplelift],["138326691831",Yi.Triplelift],["138326691834",Yi.Triplelift],["138326691837",Yi.Triplelift],["138326691840",Yi.Triplelift],["138326691843",Yi.Triplelift],["138326691846",Yi.Triplelift],["138326691783",Yi.Triplelift],["138326691786",Yi.Triplelift],["138326691789",Yi.Triplelift],["138326691792",Yi.Triplelift],["138326691753",Yi.Triplelift],["138326691756",Yi.Triplelift],["138326691570",Yi.Triplelift]],this.videoServerCreativeIds=[["138348653814",Yi.TripleliftServer],["138348654438",Yi.TripleliftServer],["138349054156",Yi.TripleliftServer],["138349054168",Yi.TripleliftServer],["138349054201",Yi.TripleliftServer],["138348654432",Yi.TripleliftServer],["138348654444",Yi.TripleliftServer],["138349054186",Yi.TripleliftServer],["138349054204",Yi.TripleliftServer],["138349054210",Yi.TripleliftServer],["138349054435",Yi.TripleliftServer],["138349054189",Yi.TripleliftServer],["138349054207",Yi.TripleliftServer],["138349054426",Yi.TripleliftServer],["138349054429",Yi.TripleliftServer],["138349054432",Yi.TripleliftServer]],this._clientEnabled=!1,this._serverEnabled=!1,this.settings={adserverTargeting:[{key:"hb_format",val:({meta:e,tl_source:t})=>e&&e.mediaType||this.tlSourceMap.get(t||"")}]},this.tlSourceMap=new Map([["hdx","banner"],["tlx","native"]]),this._verticalCategoryMap=new Map([["Baby","Family"],["Family and Parenting","Family"],["Natural Parenting","Family"],["Pregnancy","Family"],["Toddler","Family"],["Personal Finance","Finance"],["Professional Finance","Finance"],["Deals","Finance"],["Clean Eating","Food"],["Food","Food"],["Crafts","Home"],["Gardening","Home"],["Green Living","Home"],["Home Decor and Design","Home"],["Pets","Home"],["Travel","Travel"],["News","News"],["Lifestyle","Lifestyle"],["Beauty","Lifestyle"],["Other","Lifestyle"],["Health and Fitness","Health"],["Entertainment","Entertainment"],["Sports","Sports"],["Womens Style","Womens Style"],["Mens Style and Grooming","Mens Style"],["Tech","Tech"],["Wedding","Wedding"],["Auto","Auto"]]),this._categoryPriorityList=new Set(["Food","Home","Family","Finance","Travel","News","Health","Entertainment","Sports","Womens Style","Mens Style","Tech","Wedding","Auto","Lifestyle"]),this._category=Q(this.getCategory(),"Lifestyle"),this._map=new Map([["Interstitial_1",[]],["Below_Post",[]],["Content_1",["nativeMobileContent","nativeDesktopContent"]],["Content_2",["nativeMobileContent","nativeDesktopContent"]],["Content_3",["nativeMobileContent","nativeDesktopContent"]],["Content_4",["nativeMobileContent","nativeDesktopContent"]],["Content_5",["nativeMobileContent","nativeDesktopContent"]],["Content_6",["nativeMobileContent","nativeDesktopContent"]],["Content_7",["nativeMobileContent","nativeDesktopContent"]],["Content_8",["nativeMobileContent","nativeDesktopContent"]],["Content_9",["nativeMobileContent","nativeDesktopContent"]],["Footer_1",[]],["Header_1",[]],["Header_2",[]],["Recipe_1",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_2",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_3",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_4",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_5",["nativeMobileRecipe","nativeDesktopRecipe"]],["Sidebar_1",["nativeDesktopSidebar"]],["Sidebar_2",["nativeDesktopSidebar"]],["Sidebar_3",["nativeDesktopSidebar"]],["Sidebar_4",["nativeDesktopSidebar"]],["Sidebar_5",["nativeDesktopSidebar"]],["Sidebar_9",["nativeDesktopSidebar"]],["Video_StickyOutstream_1",[]]]),this._videoMap=new Map([[Ve.Video_Collapse_Autoplay_SoundOff,{client:"AdThriveRON_instream_desktopcollapse_prebid_c2s",server:"AdThriveRON_instream_desktopcollapse_prebid"}],[Ve.Video_Coll_SOff_Smartphone,{client:"AdThriveRON_instream_mwebsticky_prebid_c2s",server:"AdThriveRON_instream_mwebsticky_prebid"}],[Ve.Video_In_Post_ClicktoPlay_SoundOn,{client:"AdThriveRON_instream_CTP_prebid_c2s",server:"AdThriveRON_instream_CTP_prebid"}],[Ve.Video_Individual_Autoplay_SOff,{client:"AdThriveRON_instream_contextcollapse_prebid_c2s",server:"AdThriveRON_instream_contextcollapse_prebid"}]]),this._deviceAdTypes={mobile:["nativeMobileContent","nativeMobileRecipe"],desktop:["nativeDesktopContent","nativeDesktopRecipe","nativeDesktopSidebar"]},this._clientEnabled="both"===this._tripleLiftExperiment.result||"client"===this._tripleLiftExperiment.result,this._serverEnabled=this._config.prebid.s2s.bidders.includes(Yi.TripleliftServer)}get enabled(){return this._config.partners.display.get(Yi.Triplelift)}get videoEnabled(){return this._config.partners.video.get(Yi.Triplelift)}getSlotBidRequests(e){const t=(ie()?this._deviceAdTypes.mobile:this._deviceAdTypes.desktop).filter((e=>this._config.adTypes.has(e)));if(this._map.has(e.placementMapName)){const i=[];let s="Interstitial"===e.location?"Interstitial".toLowerCase():"standard";this._map.get(e.placementMapName).forEach((e=>{t.includes(e)&&(s=e)}));const n=this.getInventoryCode(s,e),r=this.isOutstreamEligible(e);return this._clientEnabled&&i.push({bidder:this.name,...this.getLabels(e.placementMapName,r),params:{inventoryCode:n}}),this._serverEnabled&&i.push({bidder:this.serverBidderName,params:{inventoryCode:n+"_pbs2s"}}),i}}inventoryCodeAppend(e){return this.isOutstreamEligible(e)?"_BV":""}isOutstreamEligible(e){return!1}getInventoryCode(e,t){const i=ie()?"mobile":"desktop";if("standard"===e){return`AdThrive_${"Below_Post"===t.placementMapName?"Below_Post_1":t.placementMapName}${"Video_StickyOutstream_1"===t.placementMapName?`_${i}`:""}_HDX`}if("interstitial"===e)return"AdThriveRON_interstitial_multisize";const s="Content_1"===t.placementMapName||"Sidebar_9"===t.placementMapName?t.location.toLowerCase():t.placementMapName.toLowerCase().replace(/_(?!.*_)/,""),n=this.inventoryCodeAppend(t);return`adthrive${this._category}_${s}_fixed_${i}${n}`}getVideoBidParams(e,t,i){var s,n;return{bidder:e,params:{inventoryCode:i,video:{...Ie()?{w:640,h:360}:{w:400,h:225},api:this._config.video.apiValue,mimes:this._config.video.mimeType,..."all"===this._config.video.videoProtocols.scope&&{protocols:this._config.video.videoProtocols.protocols},playbackmethod:null===(n=null===(s=this._config.video.playbackmethod)||void 0===s?void 0:s.get(t.name))||void 0===n?void 0:n[0],pos:this._config.video.position.id}}}}getVideoSlotBidRequests(e){const t=[];return this._videoMap.has(e.name)&&(this._clientEnabled&&t.push(this.getVideoBidParams(this.name,e,this._videoMap.get(e.name).client)),this._serverEnabled&&t.push(this.getVideoBidParams(this.serverBidderName,e,this._videoMap.get(e.name).server))),t}getCategory(){const e=this._config.site.verticals.filter((e=>this._verticalCategoryMap.has(e))).map((e=>this._verticalCategoryMap.get(e)));for(const t of this._categoryPriorityList)if(e.includes(t))return t}getLabels(e,t){const i=[];return t&&i.push(`outstreamCapable_${e}`),i.length?{labelAny:i}:{}}};rr=I([ut("TripleLiftBidder"),P(),O("design:paramtypes",[Ls,ss,vn])],rr);let or=class extends pn{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Yi.TTD),this.videoCreativeIds=[["138323472896",Yi.TTD],["138323532681",Yi.TTD],["138323532645",Yi.TTD],["138323532675",Yi.TTD],["138323532678",Yi.TTD],["138323922211",Yi.TTD],["138323530488",Yi.TTD],["138323532606",Yi.TTD],["138323532648",Yi.TTD],["138323922202",Yi.TTD],["138323532672",Yi.TTD],["138323922205",Yi.TTD],["138323922010",Yi.TTD],["138323922208",Yi.TTD],["138323532642",Yi.TTD],["138323921998",Yi.TTD]],this._device=this._config.context.device,this._set=new Set(["Below_Post","Content_1","Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Footer_1","Header_1","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9",Ve.Video_Collapse_Autoplay_SoundOff,Ve.Video_Coll_SOff_Smartphone,Ve.Video_In_Post_ClicktoPlay_SoundOn,Ve.Video_Individual_Autoplay_SOff])}get enabled(){return this._config.partners.display.get(Yi.TTD)}get videoEnabled(){return this._config.partners.video.get(Yi.TTD)}getSlotBidRequests(e){if(this._set.has(e.placementMapName)){const t=e.id,i=new RegExp(`_${this._device}`);return[{bidder:this.name,params:{publisherId:this._config.site.id,siteId:this._config.site.id,placementId:t.replace(i,""),supplySourceId:"cafemedia"}}]}}getVideoSlotBidRequests(e){if(this._set.has(e.name)){const t=`${e.name}`;return[{bidder:this.name,params:{publisherId:this._config.site.id,siteId:this._config.site.id,placementId:t,supplySourceId:"cafemedia"}}]}}};or=I([ut("TTDBidder"),P(),O("design:paramtypes",[Ls])],or);let ar=class extends pn{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Yi.Undertone),this._params={publisherId:2002},this._deviceAdTypes={mobile:["animatedFooter","expandableFooter","interscroller","miniscroller"],desktop:[]},this._map=new Map([["Below_Post",[{placementId:"2002034",size:[[1,2]],adType:"interscroller",highViewability:!0},{placementId:"2002035",size:[[1,2]],adType:"miniscroller",highViewability:!0},{placementId:"2002036",size:[[300,250]],highViewability:!0}]],["Content_1",[{placementId:"2002001",size:[[1,2]],adType:"interscroller"},{placementId:"2002002",size:[[1,2],[300,250],[728,90]]}]],["Content_2",[{placementId:"2002003",size:[[1,2],[300,250],[728,90]]}]],["Content_3",[{placementId:"2002004",size:[[1,2],[300,250],[728,90]]}]],["Content_4",[{placementId:"2002005",size:[[1,2],[300,250],[728,90]]}]],["Content_5",[{placementId:"2002006",size:[[1,2]],adType:"miniscroller"}]],["Footer_1",[{placementId:"2002033",size:[[320,50]],adType:"expandableFooter"},{placementId:"2002038",size:[[1,1]],adType:"expandableFooter",mobileCollapsePlayer:!0},{placementId:"2002039",size:[[1,1]],adType:"animatedFooter"}]],["Header_1",[{placementId:"2002037",size:[[970,250]]}]],["Interstitial_1",[{placementId:"2002040",size:[[1,1]]}]],["Recipe_1",[{placementId:"2002020",size:[[300,250]]}]],["Recipe_2",[{placementId:"2002021",size:[[300,250]]}]],["Recipe_3",[{placementId:"2002022",size:[[300,250]]}]],["Recipe_4",[{placementId:"2002023",size:[[300,250]]}]],["Sidebar_9",[{placementId:"2002032",size:[[300,250],[160,600],[300,600]]}]]])}get enabled(){return this._config.partners.display.get(Yi.Undertone)}getSlotBidRequests(e){const t=(ie()?this._deviceAdTypes.mobile:this._deviceAdTypes.desktop).filter((e=>this._config.adTypes.has(e)));if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({adType:i,mobileCollapsePlayer:s,size:n})=>(!i&&n.some((t=>e.hasSize(t)))||i&&t.includes(i))&&(!s||!this._config.video.mobileStickyPlayerOnPage))).map((({placementId:i,size:s,highViewability:n,adType:r})=>({bidder:this.name,...n&&e.viewability<this._config.marmalade.hvThreshold?{labelAny:["refresh"]}:{},params:{...this._params,placementId:i,size:s.filter((i=>e.hasSize(i)||r&&t.includes(r)))}})))}};ar=I([ut("UndertoneBidder"),A(),O("design:paramtypes",[Ls])],ar);let lr=class extends pn{constructor(e,t){super(),this._config=e,this._mediaType=t,this.bidderConfig=this._config.partners.getBidderConfig(Yi.Unruly),this._params={siteId:249232}}get enabled(){return this._config.partners.display.get(Yi.Unruly)}get videoEnabled(){return this._config.partners.video.get(Yi.Unruly)}getSlotBidRequests(e){if("Video_StickyOutstream"!==e.location)return[{bidder:this.name,params:{...this._params}}]}getVideoSlotBidRequests(){return[{bidder:this.name,params:{...this._params}}]}};lr=I([ut("UnrulyBidder"),P(),O("design:paramtypes",[Ls,vn])],lr);let dr=class extends pn{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Yi.Verizon),this.adapterName="aol",this._params={dcn:ie()?"8a969d580177771bc13c2047d6290082":"8a9694d00177771bcae21c6941d30023"},this._desktopMap=new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c20458198007e"},{size:[728,90],id:"8a96918c0177771bc65220467ff60092"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204531fe0091"}]],["Content_3",[{size:[300,250],id:"8a9694d00177771bcae220463a710058"}]],["Footer_1",[{size:[728,90],id:"8a9694d00177771bcae21c6a7d880025"},{size:[970,90],id:"8a969d580177771bc13c2046cd280081"},{size:[320,50],id:"8a9694d00177771bcae2204408520056"}]],["Header_1",[{size:[728,90],id:"8a969d580177771bc13c2045cac4007f"}]],["Interstitial_1",[{size:[300,250],id:"8a969449017c7c9d384d9f8170b10066"},{size:[300,600],id:"8a969449017c7c9d384d9f80b9970064"},{size:[320,480],id:"8a969958017c7c9d2d8a9f812d360081"},{size:[336,280],id:"8a969449017c7c9d384d9f80f2a20065"}]],["Sidebar_1",[{size:[300,250],id:"8a9694d00177771bcae2204449d80057"}]],["Sidebar_9",[{size:[320,50],id:"8a969d580177771bc13c2045ff6b0080"},{size:[300,600],id:"8a96918c0177771bc6522043c8540090"},{size:[160,600],id:"8a969d580177771bc13c2044ea91007d"},{size:[300,250],id:"8a96918c0177771bc6521c6b5f4e003f"}]],["Recipe_1",[{size:[300,250],id:"8a9694d00177771bcae21c6bc7e80027"}]],["Recipe_2",[{size:[300,250],id:"8a969d580177771bc13c2044ac08007c"}]]]),this._mobileMap=new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c2048bd0e0085"},{size:[320,50],id:"8a969d580177771bc13c204b68670088"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204877c50094"},{size:[320,50],id:"8a96918c0177771bc652204b257e0097"}]],["Content_3",[{size:[300,250],id:"8a96918c0177771bc6522048f24e0095"}]],["Content_4",[{size:[300,250],id:"8a9694d00177771bcae220497831005a"}]],["Content_5",[{size:[300,250],id:"8a969d580177771bc13c204a5f240087"}]],["Content_6",[{size:[300,250],id:"8a9694d00177771bcae2204a9092005c"}]],["Footer_1",[{size:[320,100],id:"8a96918c0177771bc652204a27cb0096"},{size:[300,50],id:"8a9694d00177771bcae22049449a0059"},{size:[728,90],id:"8a9694d00177771bcae2204ad481005d"},{size:[320,50],id:"8a969d580177771bc13c20480cf50084"}]],["Interstitial_1",[{size:[300,250],id:"8a969161017c7c9d32879f82491c007d"},{size:[300,600],id:"8a969161017c7c9d32879f8195b3007c"},{size:[320,480],id:"8a969958017c7c9d2d8a9f81f2c50082"},{size:[336,280],id:"8a969449017c7c9d384d9f81c5660067"},{size:[320,50],id:"8a969449017c7c9d384d9f8279950068"}]],["Recipe_1",[{size:[300,250],id:"8a96918c0177771bc6522048483a0093"}]],["Recipe_2",[{size:[300,250],id:"8a9694d00177771bcae22049e596005b"}]],["Recipe_3",[{size:[300,250],id:"8a969d580177771bc13c2049b47f0086"}]]]),this._map=ie()?this._mobileMap:this._desktopMap}get enabled(){return this._config.partners.display.get(Yi.Verizon)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({size:t})=>e.hasSize(t))).map((({id:e})=>({bidder:this.name,params:{...this._params,...this._config.site.filteredSensitiveCategories.length&&{ext:{sens:this._config.site.filteredSensitiveCategories}},pos:e}})))}};dr=I([ut("VerizonBidder"),P(),O("design:paramtypes",[Ls])],dr);let cr=class extends pn{constructor(e,t){super(),this._config=e,this._prebidMethods=t,this.bidderConfig=this._config.partners.getBidderConfig(Yi.YahooSSP),this.videoCreativeIds=[["138379204183",Yi.YahooSSP],["138378707447",Yi.YahooSSP],["138378707558",Yi.YahooSSP],["138378717711",Yi.YahooSSP],["138378717726",Yi.YahooSSP],["138378706907",Yi.YahooSSP],["138378706928",Yi.YahooSSP],["138378707468",Yi.YahooSSP],["138378707561",Yi.YahooSSP],["138378717720",Yi.YahooSSP],["138378717783",Yi.YahooSSP],["138378707552",Yi.YahooSSP],["138378717723",Yi.YahooSSP],["138378717780",Yi.YahooSSP],["138378717786",Yi.YahooSSP],["138378707555",Yi.YahooSSP]],this._params={display:{dcn:ie()?"8a969d580177771bc13c2047d6290082":"8a9694d00177771bcae21c6941d30023"},video:{dcn:"8a969469017b7bdf59b2e07862af0281"}},this._videoMap=new Map([[Ve.Video_Collapse_Autoplay_SoundOff,"8a96941a017e7e91c49492261bdf000c"],[Ve.Video_Coll_SOff_Smartphone,"8a9690ee017e7e91bee0922682f1000b"],[Ve.Video_In_Post_ClicktoPlay_SoundOn,"8a969951017e7e91ba38923576c20011"],[Ve.Video_Individual_Autoplay_SOff,"8a969951017e7e91ba389236dc470014"]]),this._displayMap={desktop:new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c20458198007e"},{size:[728,90],id:"8a96918c0177771bc65220467ff60092"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204531fe0091"}]],["Content_3",[{size:[300,250],id:"8a9694d00177771bcae220463a710058"}]],["Footer_1",[{size:[728,90],id:"8a9694d00177771bcae21c6a7d880025"},{size:[970,90],id:"8a969d580177771bc13c2046cd280081"},{size:[320,50],id:"8a9694d00177771bcae2204408520056"}]],["Header_1",[{size:[728,90],id:"8a969d580177771bc13c2045cac4007f"}]],["Interstitial_1",[{size:[300,250],id:"8a969449017c7c9d384d9f8170b10066"},{size:[300,600],id:"8a969449017c7c9d384d9f80b9970064"},{size:[320,480],id:"8a969958017c7c9d2d8a9f812d360081"},{size:[336,280],id:"8a969449017c7c9d384d9f80f2a20065"}]],["Sidebar_1",[{size:[300,250],id:"8a9694d00177771bcae2204449d80057"}]],["Sidebar_9",[{size:[320,50],id:"8a969d580177771bc13c2045ff6b0080"},{size:[300,600],id:"8a96918c0177771bc6522043c8540090"},{size:[160,600],id:"8a969d580177771bc13c2044ea91007d"},{size:[300,250],id:"8a96918c0177771bc6521c6b5f4e003f"}]],["Recipe_1",[{size:[300,250],id:"8a9694d00177771bcae21c6bc7e80027"}]],["Recipe_2",[{size:[300,250],id:"8a969d580177771bc13c2044ac08007c"}]],["Video_StickyOutstream_1",[{size:[300,250],id:"8a969d87017b7be074aae07a22b70005"}]]]),mobile:new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c2048bd0e0085"},{size:[320,50],id:"8a969d580177771bc13c204b68670088"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204877c50094"},{size:[320,50],id:"8a96918c0177771bc652204b257e0097"}]],["Content_3",[{size:[300,250],id:"8a96918c0177771bc6522048f24e0095"}]],["Content_4",[{size:[300,250],id:"8a9694d00177771bcae220497831005a"}]],["Content_5",[{size:[300,250],id:"8a969d580177771bc13c204a5f240087"}]],["Content_6",[{size:[300,250],id:"8a9694d00177771bcae2204a9092005c"}]],["Footer_1",[{size:[320,100],id:"8a96918c0177771bc652204a27cb0096"},{size:[300,50],id:"8a9694d00177771bcae22049449a0059"},{size:[728,90],id:"8a9694d00177771bcae2204ad481005d"},{size:[320,50],id:"8a969d580177771bc13c20480cf50084"}]],["Interstitial_1",[{size:[300,250],id:"8a969161017c7c9d32879f82491c007d"},{size:[300,600],id:"8a969161017c7c9d32879f8195b3007c"},{size:[320,480],id:"8a969958017c7c9d2d8a9f81f2c50082"},{size:[336,280],id:"8a969449017c7c9d384d9f81c5660067"},{size:[320,50],id:"8a969449017c7c9d384d9f8279950068"}]],["Recipe_1",[{size:[300,250],id:"8a96918c0177771bc6522048483a0093"}]],["Recipe_2",[{size:[300,250],id:"8a9694d00177771bcae22049e596005b"}]],["Recipe_3",[{size:[300,250],id:"8a969d580177771bc13c2049b47f0086"}]],["Video_StickyOutstream_1",[{size:[300,50],id:"8a969d87017b7be074aae07a22b70005"}]]])},this._setYahooMediaConfig();const i=this._displayMap;this._map=ie()?i.mobile:i.desktop}get enabled(){return this._config.partners.display.get(Yi.YahooSSP)}get videoEnabled(){return this._config.partners.video.get(Yi.YahooSSP)}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({size:t})=>e.hasSize(t))).map((({id:t})=>({bidder:this.name,params:{..."Video_StickyOutstream"!==e.location?this._params.display:this._params.video,pos:t}})))}getVideoSlotBidRequests(e){if(this._videoMap.has(e.name))return[{bidder:this.name,params:{...this._params.video,pos:this._videoMap.get(e.name)}}]}_setYahooMediaConfig(){this._prebidMethods.setConfig({yahoossp:{mode:"all"}})}};cr=I([ut("YahooSSPBidder"),P(),O("design:paramtypes",[Ls,$s])],cr);let hr=class extends pn{constructor(e,t){super(),this._config=e,this._mediaType=t,this.bidderConfig=this._config.partners.getBidderConfig(Yi.Yieldmo),this.settings={adserverTargeting:[{key:"hb_format",val:e=>this._creativeFormatMap.get(this.getCreativeFormatId(e.ad))||e.mediaType}]},this._creativeFormatMap=new Map([["44","banner"],["47","banner"],["49","banner"],["50","banner"],["43","banner"],["17","banner"],["23","banner"],["33","banner"],["40","outstream"],["51","outstream"],["48","outstream"],["34","outstream"],["14","miniscroller"],["16","miniscroller"],["37","miniscroller"],["15","miniscroller"],["18","native"],["36","native"],["46","native"],["10","native"],["6","native"]]),this._adOptionsMap=new Map([["100000",{id:"2626064683911553041",isOutstream:!1}],["110000",{id:"2626064684062547986",isOutstream:!0}],["111000",{id:"2626064684196765715",isOutstream:!0}],["110100",{id:"2626064684339372052",isOutstream:!0}],["110010",{id:"2626064684498755605",isOutstream:!0}],["111100",{id:"2626064684632973334",isOutstream:!0}],["111010",{id:"2626064684775579671",isOutstream:!0}],["111110",{id:"2626064684934963224",isOutstream:!0}],["101000",{id:"2626064685069180953",isOutstream:!1}],["101100",{id:"2626064685203398682",isOutstream:!1}],["101010",{id:"2626064685337616411",isOutstream:!0}],["101110",{id:"2626064685471834140",isOutstream:!0}],["100100",{id:"2626064685606051869",isOutstream:!1}],["100110",{id:"2626064685740269598",isOutstream:!0}],["100010",{id:"2626064685882875935",isOutstream:!0}],["110110",{id:"2626807131797397582",isOutstream:!0}],["110001",{id:"2820437600580345895",isOutstream:!0}]]),this._bannerMap=["Below_Post","Content","Content_1","Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Footer_1","Header_1","Header_2","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Recipe_5","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9","Video_StickyOutstream_1"]}getCreativeFormatId(e){const t=/creative_format_id":([0-9]*)/.exec(e);if(null!==t)return t[1]}get enabled(){return this._config.partners.display.get(Yi.Yieldmo)}isMiniScroller(e){return e.sequence&&this._config.adTypes.has("miniscroller")&&("Content"===e.location||"Recipe"===e.location)}isNative(e){const t={mobile:new Map([["Content","nativeMobileContent"],["Recipe","nativeMobileRecipe"]]),desktop:new Map([["Content","nativeDesktopContent"],["Recipe","nativeDesktopRecipe"],["Sidebar","nativeDesktopSidebar"]])},i=ie()?t.mobile:t.desktop;return e.sequence&&i.has(e.location)&&this._config.adTypes.has(i.get(e.location))}isOutstream(e){return this._mediaType.outstreamEnabled(e).currentlyActive}isStickyOutstream(e){return"Video_StickyOutstream"===e.location}isMobileOustreamSingleInstance(e){return ie()&&"Content_1"===e.placementMapName&&this._mediaType.outstreamEnabled(e).currentlyActive&&this._config.adTypes.has("outstreamMobile")&&!this._config.video.mobileStickyPlayerOnPage}createBitStringAdOptions(e){let t=this._bannerMap.includes(e.placementMapName)?"1":"0";return t+=this.isOutstream(e)?"1":"0",t+=this.isMiniScroller(e)?"1":"0",t+=this.isNative(e)?"1":"0",t+=this.isMobileOustreamSingleInstance(e)?"1":"0",t+=this.isStickyOutstream(e)?"1":"0",t}getSlotBidRequests(e){const t=this.createBitStringAdOptions(e);if(this._adOptionsMap.has(t)){const i=this._adOptionsMap.get(t);return[{bidder:this.name,...this.getLabels(i.isOutstream,e.placementMapName),params:{placementId:i.id,..."Video_StickyOutstream"===e.location&&{video:{placement:2}}}}]}}getLabels(e,t){const i=[];return e&&i.push(`outstreamCapable_${t}`),i.length?{labelAny:i}:{}}updateBidParams(e,t){const i=this.createBitStringAdOptions(t),s=this._adOptionsMap.get(i);this._adOptionsMap.has(i)&&(this._addPlacementIdParam(e,s.id),s.isOutstream&&this._addBidLabel(e,`outstreamActive_${t.placementMapName}`))}};hr=I([ut("YieldmoBidder"),P(),O("design:paramtypes",[Ls,vn])],hr);let pr=class extends pn{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig(Yi.Concert),this._map=new Map([["Content_1",[300,250]]]),this._desktopSizes=[[620,366]],this._mobileSizes=[[325,508],[325,204]]}get enabled(){return this._config.partners.display.get(Yi.Concert)}getPartnerIdFromDomain(){try{const e=ue(window.location.hostname);return e.split(".")[0].toLowerCase().replace("-","")}catch(e){return D.error("ConcertBidder","getPartnerIdFromDomain",e),""}}getSlotBidRequests(e){if(this._map.has(e.placementMapName)&&e.hasSize(this._map.get(e.placementMapName))){const t=this.getPartnerIdFromDomain();if(t.length>0)return[{bidder:this.name,...e.isHighlyViewable()?{}:{labelAny:["refresh"]},params:{bidder:this.name,slot:e.id,partnerId:t,sizes:ie()?this._mobileSizes:this._desktopSizes}}]}}};pr=I([ut("ConcertBidder"),P(),O("design:paramtypes",[Ls])],pr);let ur=class{constructor(e,t,i,s,n,r,o,a,l,d,c,h,p,u,g,_,m,f,y,v,b,S,C,w,E,k,x,T,P,A){this._config=e,this._biddersParams=new Map,this._orderedDisplayBidders=[b,c,h,a,w,p,u,i,T,g,m,P,t,A,y,r,E,C,s,k,x,d,_,f,n,o].filter((e=>this._bidderFilter(e))),this._orderedVideoBidders=[a,t,h,w,g,c,m,u,l,E,P,v,d,y,s,n,x,C,S,_,r].filter((e=>this._bidderFilter(e,!0))),this._videoCreativeIdMapping=this._setVideoCreativeIdMap()}get orderedDisplayBidders(){return this._orderedDisplayBidders}get orderedVideoBidders(){return this._orderedVideoBidders}get biddersParams(){return this._biddersParams}get videoCreativeIdMapping(){return this._videoCreativeIdMapping}_setVideoCreativeIdMap(){return new Map(this._orderedVideoBidders.reduce(((e,t)=>e.concat(t.videoCreativeIds||[],t.videoServerCreativeIds||[])),[]))}_bidderFilter(e,t=!1){const i=this._config,s=e.name,n=t?i.vbho.bidders:i.hbho.bidders,r=t?"videoEnabled":"enabled",o=t||!e.updateBidParams;return e[r]&&this._holdoutValidation(n,s)&&this._ccpaValidation(i.ccpa,s)&&this._gdprValidation(i.gdpr,s)&&(o||this._biddersParams.set(s,e))}_holdoutValidation(e,t){return!e.length||!e.includes(t)}_ccpaValidation(e,t){return!e.enabled||!e.nonCompliantBidders.includes(t)}_gdprValidation(e,t){return!e.enabled||!e.nonCompliantBidders.includes(t)}};ur=I([A(),O("design:paramtypes",[Ls,bn,Sn,Cn,wn,En,pr,kn,$n,xn,In,Hn,Gn,Kn,Xn,Yn,Jn,Wn,tr,ir,sr,nr,un,rr,or,ar,lr,dr,cr,hr])],ur);let gr=class extends xt{constructor(e,t){super(),this._result=!1,this.key="crtvmon",this._choices=[{choice:!0},{choice:!1}],this.weight=.1;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};gr=I([ut("CreativeMonitoringExperiment"),A(),O("design:paramtypes",[Ct,Et])],gr);let _r=class{constructor(e,t,i,s,n){this._config=e,this._gam=t,this._prebidMethods=i,this._slots=s,this._creativeMonitoringExperiment=n,this._auctionData=new Set,this._prebidAdvertiserId=413678576,this._gamRenderedData=new Map}setupCreativeEventListeners(){this._prebidMethods.onEvent("auctionInit",this._storeAuctionData.bind(this)),this._prebidMethods.onEvent("adRenderFailed",this._renderFailedHandler.bind(this)),this._prebidMethods.onEvent("adRenderSucceeded",this._renderSucceededHandler.bind(this)),this._prebidMethods.onEvent("staleRender",this._staleRenderHandler.bind(this)),this._gam.slotRenderEnded.on(this._slotRenderEnded.bind(this)),this._gam.slotRequested.on(this._slotRequested.bind(this))}_slotRequested(e){const t=e.slot.id;this._gamRenderedData.has(t)&&this._gamRenderedData.delete(t)}_slotRenderEnded(e){this._gamRenderedData.set(e.slot.id,e),this._creativeMonitoringExperiment.result&&this._checkSlotRender(e)}_storeAuctionData(e){e.adUnitCodes.forEach((t=>this._auctionData.add(`${e.auctionId}-${t}`)))}_deleteStoredAuction(e,t){this._auctionData.delete(`${e}-${t}`)}_getSlotData(e){const t=this._slots.get(e);return{...t&&{slot:t.location,sequence:t.sequence,nref:t.refreshCount}}}_getGAMCreativeData(e){const t=this._gamRenderedData.get(e);return t?{lineItemId:t.event.lineItemId,creativeId:t.event.creativeId,campaignId:t.event.campaignId}:{}}_getBidData(e){return e?{...this._getPrebidBidDataFromBid(e),...this._getSlotData(e.adUnitCode),...this._getGAMCreativeData(e.adUnitCode)}:{}}_renderFailedHandler(e){setTimeout((()=>{const t=e.bid;t&&this._deleteStoredAuction(t.auctionId,t.adUnitCode);const i={message:e.message,reason:e.reason,...this._getBidData(t)};t&&t.meta&&Object.keys(t.meta).length>0?i.buyerInformation=t.meta:i.markup=t&&t.ad,D.error("PrebidAuctionManager","init","adRenderFailed",i)}),2e3)}_staleRenderHandler(e){e&&this._deleteStoredAuction(e.auctionId,e.adUnitCode),setTimeout((()=>{D.error("PrebidAuctionManager","init","staleRender",{...this._getBidData(e)})}),2e3)}_renderSucceededHandler(e){const t=e.bid;t&&this._deleteStoredAuction(t.auctionId,t.adUnitCode)}_isSafeFrame(e){const t=e.element.querySelector("iframe");return!(!t||!t.src)}_checkSlotRender(e){const t=e.event;this._isSafeFrame(e.slot)||t.advertiserId!==this._prebidAdvertiserId||setTimeout((()=>{this._logUnknownFailure(e)}),2e3)}_getHeightWidth(e){if(!e)return{};const t=e.split("x").map(Number);return{...Array.isArray(t)&&2===t.length&&{height:t[1],width:t[0]}}}_getPrebidCreativeWindowData(e){return{adId:e.bidderAdId,bidder:e.bidder,size:e.bidderSize,adserverTargeting:e.targeting}}_getPrebidBidDataFromBid(e){return{price:e.adserverTargeting.hb_pb,bidderSize:e.size||e.adserverTargeting.hb_size,advertiserDomains:e.meta&&e.meta.advertiserDomains||e.adserverTargeting.hb_adomain,bidder:e.bidder}}_getPrebidBidderDataFromIframe(e){const t=e.element.querySelector("iframe").contentWindow;if(!t)return{};const{adId:i,adserverTargeting:s,bidder:n,size:r}=this._getPrebidCreativeWindowData(t),{height:o,width:a}=this._getHeightWidth(t&&t.bidderSize);return{adId:i,adserverTargeting:s,adUnitCode:e.id,bidder:n,height:o,size:r,width:a}}_logUnknownFailure(e){const t=this._config.context,i=e.slot,s=e.event,{adId:n,adserverTargeting:r,auctionId:o,adUnitCode:a,bidder:l,height:d,meta:c,size:h,width:p}=i.servedPrebidBidResponse||this._getPrebidBidderDataFromIframe(i);if(o&&a&&!this._auctionData.has(`${o}-${a}`))return;const u={adId:n,advertiserDomains:c&&c.advertiserDomains||r&&r.hb_adomain,bidderSize:h||r&&r.hb_size,bidder:l,branch:t.branch,bucket:t.bucket,campaignId:s.campaignId,creativeId:s.creativeId||s.sourceAgnosticCreativeId,lineItemId:s.lineItemId||s.sourceAgnosticLineItemId,message:"An unknown error occurred rendering the Prebid creative",nref:i.refreshCount,price:r&&r.hb_pb,sequence:i.sequence,slotSizes:i.sizes,slot:i.location,...p&&d&&{size:[p,d]},...c&&(c.dchain&&{dchain:c.dchain}||c.networkId&&{networkId:c.networkId}),...(!n||n.length<2)&&r&&{hbAdId:r.hb_adid}};D.error("PrebidAuctionManager","init","prebidCreativeFailure",u),o&&a&&this._deleteStoredAuction(o,a)}};_r=I([A(),O("design:paramtypes",[Ls,Ks,$s,Ns,gr])],_r);let mr=class extends Ft{init(){this._key="dco"}run(){return super.run()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],mr.prototype,"run",null),mr=I([ut("DemandChainExperiment"),A()],mr);let fr=class extends xt{constructor(e,t){super(),this._result=!1,this.key="dajto",this._choices=[{choice:!0},{choice:!1}],this.weight=.1;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};fr=I([ut("DisableAjaxTimeoutExperiment"),A(),O("design:paramtypes",[Ct,Et])],fr);let yr=class extends Ft{init(){this._key="mxrpog"}run(){return super.run()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],yr.prototype,"run",null),yr=I([ut("MaxRequestsExperiment"),A()],yr);const vr={buckets:[{precision:2,max:.1,increment:.01},{precision:2,max:5,increment:.05},{precision:2,max:20,increment:.1},{precision:2,max:100,increment:.5}]};let br=class{constructor(e){this._config=e,this._configuration={suppressEmptyKeys:!0,adserverTargeting:[{key:"hb_bidder",val:e=>e.bidderCode},{key:"hb_adid",val:e=>e.adId},{key:"hb_pb",val:e=>e.pbCg},{key:"hb_size",val:e=>this._config.video.instreamAdUnits.has(e.adUnitCode)?"":e.size},{key:"hb_deal",val:e=>e.dealId},{key:"hb_format",val:e=>e.mediaType},{key:"hb_adomain",val:e=>e.meta&&e.meta.advertiserDomains?e.meta.advertiserDomains[0]:e.meta&&e.meta.advertiserId},{key:"hb_dsp",val:e=>{var t;return null!==(t=e.meta&&e.meta.networkId)&&void 0!==t?t:e.meta&&e.meta.dchain&&e.meta.dchain.nodes.reverse()[0].bsid}}]}}get configuration(){return this._configuration}};br=I([A(),O("design:paramtypes",[Ls])],br);let Sr=class{constructor(e,t,i,s,n,r,o){this._config=e,this._prebidMethods=t,this._dcoExperiment=i,this._maxRequestsExperiment=s,this._disableAjaxTimeoutExperiment=n,this._ortb2=r,this._standardPrebidBidderSetting=o,this._uspConfig={usp:this._getUspConfig()},this._clientVendorExceptions=["appnexus"],this._serverVendorExceptions=this._config.prebid.s2s.bidders,this._gdprConfig={gdpr:{cmpApi:"iab",timeout:25e3,defaultGdprScope:!0,rules:[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0},{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:this._clientVendorExceptions.concat(this._serverVendorExceptions)},{purpose:"measurement",enforcePurpose:!0,enforceVendor:!0}]}},this._defaultConfig={maxRequestsPerOrigin:this._maxRequestsExperiment.result,auctionOptions:{secondaryBidders:["unruly","undertone","33across","telaria","nativo"]},bidderSequence:"fixed",sendBidsControl:{bidLimit:3},useBidCache:!0,enableSendAllBids:!0,disableAjaxTimeout:this._disableAjaxTimeoutExperiment.result,userSync:{auctionDelay:this._config.prebid.auctionDelay,syncsPerBidder:1,aliasSyncEnabled:!0,enableOverride:!0,filterSettings:{iframe:{bidders:"*",filter:"include"}}},gptPreAuction:{mcmEnabled:!0},priceGranularity:vr,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},consentManagement:{},targetingControls:{allowTargetingKeys:this._config.prebid.targetingKeys,allowSendAllBidsTargetingKeys:this._config.prebid.sendAllBidsTargetingKeys},dchain:{validation:this._dcoExperiment.result},schain:{validation:"strict",config:(new tn).getSupplyChainConfig(this._config.site.id)},ortb2:this._ortb2.data}}_getUspConfig(){return this._config.ccpa.required?{cmpApi:"iab",timeout:0}:{cmpApi:"static",consentData:{getUSPData:{uspString:"1---"}}}}setDefaultConfig(){const e=this.addPrebidConsent(),t=this._defaultConfig;t.consentManagement=e,this._prebidMethods.setConfig(t)}applyClientAndServerBidderSettings(e){this._prebidMethods.setBidderSettings(e.reduce(((e,t)=>this._setupBidderSettings(e,t)),{standard:this._standardPrebidBidderSetting.configuration}))}aliasBidders(e){e.forEach((e=>{e.adapterName&&(e.adapterName!==e.name&&this._prebidMethods.setAliasBidder(e.adapterName,e.name),e.serverBidderName&&this._prebidMethods.setAliasBidder(e.adapterName,e.serverBidderName))}))}_setupBidderSettings(e,t){return e[t.name]=this.getBidderSettings(t,t.name),t.serverBidderName&&(e[t.serverBidderName]=this.getBidderSettings(t,t.serverBidderName)),e.standard.adserverTargeting&&t.adServerTargeting&&e.standard.adserverTargeting.push(...t.adServerTargeting),e}addPrebidConsent(){return!0===this._config.gdpr.enabled?this._gdprConfig:this._uspConfig}getBidderSettings(e,t){return{bidCpmAdjustment:(e,i)=>L(this._config,e,t,i),...e.settings}}};Sr=I([A(),O("design:paramtypes",[Ls,$s,mr,yr,fr,Zs,br])],Sr);let Cr=class extends xt{constructor(e){super(),this.key="vpred_1",this._choices=[{choice:.9,weight:96},{choice:.85,weight:1},{choice:.8,weight:1},{choice:.75,weight:1},{choice:0,weight:1}],this._result=this.run(),e.set(this.key,0!==this.result?String(100*this._result):"off")}get result(){return this._result}run(){return new At(this._choices).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Cr.prototype,"run",null),Cr=I([ut("PredictiveAnalysisExperiment"),A(),O("design:paramtypes",[Ct])],Cr);let wr=class extends Ft{init(){this._key="s2sbuff"}};wr=I([ut("S2SBufferExperiment"),A()],wr);let Er=class{constructor(e,t,i,s){var n;this._config=e,this._prebidMethods=t,this._s2sBufferExperiment=i,this._colossusExperiment=s,this._s2sConfig=[{accountId:"9262",enabled:!0,bidders:this._config.prebid.s2s.bidders,...this._config.partners.display.get(Yi.Colossus)&&"client"!==this._colossusExperiment.result&&this._config.prebid.s2s.bidders.includes(Yi.Colossus)&&{extPrebid:{aliases:{col_ss:"colossus"}}},defaultTtl:300,timeout:this._config.timeouts.initialBidsRequest-(null!==(n=this._s2sBufferExperiment.result)&&void 0!==n?n:200),adapter:"prebidServer",endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"}}]}init(){this._prebidMethods.setConfig({s2sConfig:this._s2sConfig.filter((e=>e.bidders.length))})}};Er=I([P(),O("design:paramtypes",[Ls,$s,wr,ns])],Er);let kr=class extends Qs{constructor(e,t,i,s,n,r,o,a,l,d,c,h,p,u,g,_,m){super(),this._bootstrapConfig=t,this._config=i,this._gam=s,this._s2s=n,this._bidderSetup=r,this._mediaType=o,this._prebidMethods=a,this._prebidConfiguration=l,this._predictiveAnalysisExperiment=d,this._slots=c,this._creativeMonitoring=h,this._ortb2=p,this._gdprEnforcement=u,this._slotEventBus=g,this.videoAdUnits=[],this.bidsRequested=new R,this._orderedDisplayBidders=this._bidderSetup.orderedDisplayBidders,this._orderedVideoBidders=this._bidderSetup.orderedVideoBidders,this._videoCreativeIdMapping=this._bidderSetup.videoCreativeIdMapping,this._predictiveAnalysisResult=this._predictiveAnalysisExperiment.result,this._predictiveAnalysis=e.core.predictiveAnalysis,this._analytics=[_,m].filter((e=>e.enabled))}init(){const e=this._prebidConfiguration,t=this._orderedDisplayBidders,i=this._orderedVideoBidders,s=[...t,...i];e.setDefaultConfig(),e.aliasBidders(s),this._s2s.init(),this._analytics.forEach((e=>void 0!==e.init&&e.init())),t.forEach((e=>void 0!==e.init&&e.init())),e.applyClientAndServerBidderSettings(s),Ke().then((()=>this._prebidMethods.triggerUserSyncs())).then((()=>this._registerSignalSources())).catch((e=>{D.error("PrebidAuctionManager","init","pageLoaded",e)})),this._setEvents(),this._predictiveAnalysisResult&&this._setVideoBidsFilter()}async _registerSignalSources(){if(this._config.ccpa.userOptedOut)return;if(this._config.gdpr.enabled){if(!await this._gdprEnforcement.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[1]))return}this._prebidMethods.setConfig({userSync:{encryptedSignalSources:{sources:[{source:["adserver.org","criteo.com","id5-sync.com","pubcid.org","parrable.com","liveramp.com"],encrypt:!1}],registerDelay:2e3}}}),this._prebidMethods.registerSignalSources()}_setEvents(){this._creativeMonitoring.setupCreativeEventListeners(),this._prebidMethods.onEvent("bidWon",(e=>{const t=this._slots.get(e.adUnitCode);t&&(t.servedPrebidBidResponse=e,this._slots.bidServed.emit(t))})),this._prebidMethods.onEvent("auctionEnd",(e=>{e.adUnitCodes.forEach((e=>{const t=this._slots.get(e);if(t){const e=this._prebidMethods.getAdserverTargetingForAdUnitCode(t.id);t.googleTagSlot&&!Object.keys(e).length&&t.googleTagSlot.setTargeting("hb_bidder","noBid")}else{const t=this._prebidMethods.getAdserverTargetingForAdUnitCode(e);this._slotEventBus.addPrebidSlotTargeting.emit({adUnitCode:e,slotTargeting:t})}}))}));const e=()=>{!this._mediaType.oneStreamExpResult&&this._mediaType.isOutstreamAllowed()||this._updateHighImpactUnitTargeting(),this._prebidMethods.offEvent("beforeRequestBids",e)};this._prebidMethods.onEvent("beforeRequestBids",e),this._predictiveAnalysisResult&&this._setVideoBidsFilter(),this._prebidMethods.onEvent("bidRequested",(()=>{this.bidsRequested.emit()})),this._gam.slotOnload.on((({slot:e})=>{e.bidPoolId&&this._prebidMethods.clearTargetingForSharedBidPool(e.id)}))}_setVideoBidsFilter(){if(!this._predictiveAnalysis.length)return;const e=e=>{const t=this._config.context.device;return"1"===e?"phone"===t:"tablet"===t||"desktop"===t},t=this._predictiveAnalysis.filter((t=>parseFloat(t.error_rate)>this._predictiveAnalysisResult&&"1"===t.chrome===H()&&e(t.mobile))),i={};t.forEach((e=>{const t=`${e.adomain},${e.bidder}`;i[t]=!0})),this._prebidMethods.setBidsReceivedFilter((e=>e.length&&this._config.video.instreamAdUnits.has(e[0].adUnitCode)?e.filter((e=>{var t,s;let n=!0;return null===(s=null===(t=e.meta)||void 0===t?void 0:t.advertiserDomains)||void 0===s||s.forEach((t=>{const s=t+","+e.bidder;i[s]&&(n=!1)})),n})):e))}_updateSlotTargeting(e){if(!this._mediaType.outstreamSlots.has(`${e.placementMapName}`))return;const t=this._config.adTypes.enabledMinified.map((e=>e.toLowerCase())).filter((e=>"od"===e||"om"===e));t.length&&this._gam.setSlotTargeting({key:"hi_au",value:t},e.googleTagSlot)}instlEnabled(e){return"Interstitial"===e&&this._config.adOptions.interstitial.prebid}get videoCreativeIdMapping(){return this._videoCreativeIdMapping}addSlots(e){const t=this._orderedDisplayBidders.map((t=>t.getBidRequests(e))),i=e.filter((e=>"Interstitial"!==e.location||this.instlEnabled(e.location))).sort(((e,t)=>e.auctionPriority-t.auctionPriority)).map((e=>{const i=this.instlEnabled(e.location),s=this._ortb2.addOrtb2Imp({slot:e},i);this._mediaType.oneStreamExpResult&&this._updateSlotTargeting(e);return{...e.bidPoolId&&{bidPoolId:e.bidPoolId},code:i?this._config.prebid.interstitialAdUnitCode:e.element.id,mediaTypes:this._mediaType.getMediaType({slot:e}),...s?{ortb2Imp:s}:{},bids:t.map((t=>t.get(e.id))).filter(it).reduce(((e,t)=>e.concat(t)),[])}}));return this._prebidMethods.addAdUnits(i),this._setAdUnitOnSLot(e),i}_setAdUnitOnSLot(e){this._prebidMethods.addToQueue((()=>{const t=this._prebidMethods.getPrebidAdUnits();t&&e.forEach((e=>{const i=t.filter((t=>t.code===e.element.id));i.length&&(e.prebidAdUnit=i[0])}))}))}_updateSlots(e){e.forEach((e=>{e.isHighlyViewable()&&(this._updateBidderBidParams(e),this._updateAdUnitParams(e))}))}_updateAdUnitParams(e){const t=e.prebidAdUnit;if(t){const i=t.ortb2Imp&&t.ortb2Imp.ext&&t.ortb2Imp.ext.prebid,s=i&&i.floorMin&&{ext:{data:{},prebid:{floorMin:i.floorMin}}},n=this._ortb2.addOrtb2Imp({slot:e},!1,s);t.ortb2Imp=n,t.mediaTypes=this._mediaType.getMediaType({slot:e})}}_updateBidderBidParams(e){const t=e.prebidAdUnit;t&&t.bids&&t.bids.forEach((t=>{const i=this._bidderSetup.biddersParams.get(t.bidder);i&&i.updateBidParams(t,e)}))}_updateHighImpactUnitTargeting(){const e=this._gam;Ks.pushToQueue((()=>{const t="hi_au",i=e.getTargetingValuesForKey(t).filter((e=>"od"!==e&&"om"!==e));i.length?e.setTargeting({key:t,value:i}):e.clearTargetingForKey(t)}))}_addOutstreamLabel(e,t){return this._mediaType.isOutstreamAllowed()&&e.forEach((e=>{this._mediaType.outstreamEnabled(e).outstreamCapable&&t.push(`outstreamCapable_${e.placementMapName}`),this._mediaType.outstreamEnabled(e).currentlyActive&&t.push(`outstreamActive_${e.placementMapName}`)})),t}_addHvpLabel(e,t){e.forEach((e=>{e.isHighlyViewable()&&t.push(`hvp_${e.placementMapName}`)}))}_addRefreshLabel(e,t){e.forEach((e=>{e.refreshCount>0&&t.push("refresh")}))}_addLabels(e,t){this._addRefreshLabel(e,t),this._addOutstreamLabel(e,t),this._addHvpLabel(e,t)}requestBids(e,t=this._config.timeouts.initialBidsRequest,i=[]){return new Promise((s=>{this.checkLibLoaded().then((n=>{n||s();const r=e.map((e=>this.instlEnabled(e.location)?this._config.prebid.interstitialAdUnitCode:e.element.id));this._addLabels(e,i),this._updateSlots(e),this._prebidMethods.requestBids({adUnitCodes:r,timeout:t,bidsBackHandler:()=>{Ks.pushToQueue((()=>{this._prebidMethods.setTargetingForGPTAsync(r,null,e[0].bidPoolId),s()}))},labels:i})})).catch((e=>D.error("PrebidAuctionManager","requestBids",e)))}))}addVideoSlots(e){const t=this._orderedVideoBidders.map((t=>t.getVideoBidRequests(e))),i=e.map((e=>{const i=this._ortb2.addOrtb2Imp({video:e}),s={code:e.name,ortb2Imp:i,mediaTypes:this._mediaType.getMediaType({video:e}),bids:t.map((t=>t.get(e.name))).filter(it).reduce(((e,t)=>e.concat(t)),[])};return e.videoAdUnit=s,s}));this._prebidMethods.addAdUnits(i)}requestVideoBids(e,t=this._config.timeouts.initialBidsRequest){const i=e.map((({name:e})=>e));return new Promise((e=>{this.checkLibLoaded().then((s=>{s||e(),this._prebidMethods.requestBids({adUnitCodes:i,timeout:t,bidsBackHandler:()=>{Ks.pushToQueue((()=>{this._prebidMethods.setTargetingForGPTAsync(i),e()}))}})})).catch((e=>D.error("PrebidAuctionManager","requestVideoBids",e)))}))}refreshBids(e){return this.requestBids(e,this._config.timeouts.refreshBidsRequest)}checkLibLoaded(){return new Promise((e=>{this._bootstrapConfig.bootstrapLoaders[ze.Prebid].then((()=>e(!0))).catch((()=>e(!1)))}))}get enabled(){return!j()}};kr=I([ut("PrebidAuctionManager"),A(),M(0,T("AdThrive")),O("design:paramtypes",[Object,ei,Ls,Ks,Er,ur,vn,$s,Sr,Cr,Ns,_r,Zs,an,zt,cn,hn])],kr);let xr=class{constructor(e,t,i,s){this._slotEventBus=i,this._videoEventBus=s,this._auctionManagers=[t,e],this._auctionManagers=this._auctionManagers.filter((e=>e.enabled)),this._setSlotEvents(),this._setVideoEvents()}_setSlotEvents(){this._slotEventBus.addSlots.on((e=>this._addSlots(e))),this._slotEventBus.requestingBids.on((e=>this._requestBids(e))),this._slotEventBus.refreshingBids.on((e=>this._refreshBids(e)))}_setVideoEvents(){this._videoEventBus.videoPlayerAdded.on((e=>this._addVideoSlots(e))),this._videoEventBus.requestingVideoBids.on((({videos:e,timeout:t})=>this._requestVideoBids(e,t)))}init(){this._auctionManagers.forEach((e=>void 0!==e.init&&e.init()))}_requestBids(e){return Promise.all(this._auctionManagers.map((t=>t.requestBids(e))))}_refreshBids(e){return Promise.all(this._auctionManagers.map((t=>t.refreshBids(e))))}_addSlots(e){this._auctionManagers.forEach((t=>{void 0!==t.addSlots&&t.addSlots(e)}))}_addVideoSlots(e){this._auctionManagers.filter((e=>e.videoEnabled&&e.addVideoSlots)).forEach((t=>t.addVideoSlots(e)))}_requestVideoBids(e,t){return Promise.all(this._auctionManagers.filter((e=>e.videoEnabled)).map((i=>i.requestVideoBids(e,t))))}getPrebidAuctionManager(){for(const e of this._auctionManagers)if(e instanceof kr)return e}getAmazonAuctionManager(){for(const e of this._auctionManagers)if(e instanceof rn)return e}};xr=I([ut("AuctionManagers"),A(),O("design:paramtypes",[kr,rn,zt,Rt])],xr);let Tr=class{constructor(e){this._commands=e.cmd||[]}init(){if(this._commands.length>0){for(const e of this._commands){this._isGamMethod(e.toString())?this._addToGamQueue(e):this._call(e)}this._commands=[]}}push(e){if(this._commands.length>0)this._commands.push(e);else{this._isGamMethod(e.toString())?this._addToGamQueue(e):this._call(e)}}_call(e){e.call(void 0)}_isGamMethod(e){return e&&(e.includes("setTargeting(")||e.includes("googletag")||e.includes("pubads"))}_addToGamQueue(e){Ks.pushToQueue((()=>{this._call(e)}))}};Tr=I([A(),M(0,T("AdThrive")),O("design:paramtypes",[Object])],Tr);let Pr=class{constructor(){this.wasClosed=!1,this.wasStarted=!1,this.totalTimeCollapsed=0}};Pr=I([ut("CollapsibleVideoLoggingStore"),A()],Pr);let Ar=class extends xt{constructor(e,t){super(),this._result=!1,this.key="upl",this._choices=[{choice:!0},{choice:!1}],this.weight=.25;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};Ar=I([ut("UserPageDataLoggingExperiment"),A(),O("design:paramtypes",[Ct,Et])],Ar);let Ir=class extends xt{constructor(e){super(),this._result=!1,this.key="UserPageDataPrivacyLoggingExperiment",this._choices=[{choice:!0},{choice:!1}],this.weight=.1;const t=e.getCoreExperiment(this.key);t&&(this.weight=t.variants[0].weight,this._result=this.run())}get result(){return this._result}run(){return new Pt(this.weight).get()}};Ir=I([ut("UserPageDataPrivacyLoggingExperiment"),A(),O("design:paramtypes",[Et])],Ir);let Mr=class extends qs{constructor(e,t,i,s,n,r,o,a,l){super(),this._bootstrapConfig=e,this._config=t,this._pageManager=i,this._prebidMethods=s,this._slotManager=n,this._userPageDataLoggingExperiment=r,this._userPageDataPrivacyLoggingExperiment=o,this._userPageDataLogEvents=a,this._collapsibleVideoLoggingStore=l,this._userPrivacyData={},this._getUserData=()=>({device:this._config.context.device,timePageOpen:Ge()-this._config.timing.started,timeOnPage:this._config.timing.totalTimeOnPage,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight,video:{nonclose:!this._collapsibleVideoLoggingStore.wasClosed,playerName:this._collapsibleVideoLoggingStore.playerName,totalTimeCollapsed:this._collapsibleVideoLoggingStore.totalTimeCollapsed,wasStarted:this._collapsibleVideoLoggingStore.wasStarted},...this._userPrivacyData,...!this._config.gdpr.enabled&&!this._config.ccpa.userOptedOut&&{uid1:rt("adserver.org",this._prebidMethods.isPrebidLoaded())}})}init(){const{reasons:e}=this._config.disableAds;Promise.all([0!==e.size?0:this._slotManager.requestingBids.legacyOnce().then((()=>Ge())),0!==e.size?0:this._slotManager.requestedBids.legacyOnce().then((()=>Ge())),0!==e.size?0:this._slotManager.displayed.legacyOnce().then((()=>Ge())),Ke()]).then((([e,t,i])=>this._setTimingData(e,t,i))).catch((e=>D.error("UserPageDataComponent","init",e))),ie()&&this._userPageDataLogEvents.addCallbackToQueue([this._pageManager.visibilityChange],(()=>{"hidden"===document.visibilityState&&this._logUserData()})),this._userPageDataLogEvents.addCallbackToQueue([this._pageManager.beforeUnload,this._pageManager.pageHide],(()=>this._logUserData())),this._logUserPrivacyData().catch((()=>{D.error("_logUserPrivacyData: ","Could not log user privacy.")}))}get enabled(){return this._userPageDataLoggingExperiment.result}_setTimingData(e,t,i){if(window.performance&&window.performance.timing){const s=window.performance.timing;if(s&&0!==s.navigationStart){const n={pageLoad:s.loadEventStart-s.navigationStart,domainLookup:s.domainLookupEnd-s.domainLookupStart,connect:s.connectEnd-s.connectStart,request:s.responseStart-s.requestStart,response:s.responseEnd-s.responseStart,navigation:s.fetchStart-s.navigationStart,domInteractive:s.domInteractive-s.navigationStart,domContentLoaded:s.domContentLoadedEventStart-s.navigationStart};if(Object.keys(n).map((e=>n[e])).every((e=>!isNaN(e)&&e>=0&&e<36e5))){this._setNonBlockingLibraryTimingData();const{reasons:s}=this._config.disableAds;this._timingData={...n,...this._config.timing.timingData,disableAds:s.size>0?[...s].join(","):"none",auctionStarted:e,auctionFinished:t,displayed:i}}}}}_setNonBlockingLibraryTimingData(){this._config.timing.setNonBlockingLibraryTimingData(this._bootstrapConfig.bootstrapResult)}_logUserData(){this._userPageDataLogEvents.loggingData.emit(),this._userPageDataLogEvents.setUserPageData({...this._timingData&&{UserPageTimingData:this._timingData},UserPageDataLoggingComponent:this._getUserData()})}async _logUserPrivacyData(){this._userPageDataPrivacyLoggingExperiment.result&&(this._userPrivacyData=await this._getUserPrivacyData())}async _getUserPrivacyData(){return{gpc:"navigator"in window&&"globalPrivacyControl"in window.navigator?window.navigator.globalPrivacyControl:null,dcp:await this._getDataConsent()}}async _getDataConsent(){if("dataConsentPreference"in document)try{return await document.dataConsentPreference()}catch(e){return null}return null}};Mr=I([ut("UserPageDataLoggingComponent"),P(),O("design:paramtypes",[ei,Ls,Si,$s,gn,Ar,Ir,gs,Pr])],Mr);const Or=()=>window.location.origin+"/"===window.location.href.split("?")[0];let zr=class extends class{constructor(){this._map=[]}add(e,t,i,s=document){this._map.push({el:e,coords:t,dynamicAd:i,target:s})}get map(){return this._map}sort(){this._map.sort((({coords:e},{coords:t})=>e-t))}filterUsed(){this._map=this._map.filter((({dynamicAd:e})=>!e.used))}}{};zr=I([A()],zr);let Rr=class extends xt{constructor(e){super(),this._result=!1,this.key="AdDensityExperiment",this._choices=[{choice:!0},{choice:!1}],this.weight=.25;const t=e.getCoreExperiment(this.key);t&&(this.weight=t.variants[0].weight,this._result=this.run())}get result(){return this._result}run(){return new Pt(this.weight).get()}};Rr=I([ut("AdDensityExperiment"),A(),O("design:paramtypes",[Et])],Rr);let Br=class extends qs{constructor(e,t,i,s,n,r,o,a){super(),this._gam=e,this._config=t,this._adDensityExperiment=i,this._slots=s,this._slotManager=n,this._pageManager=r,this._userPageDataLogEvents=o,this._adInjectionMap=a,this._initialSlotsTimeout=1e4,this._addToMainContent=new Set(["Below_Post"]),this._slotsForAdDensity=new Set(["Content","Recipe","Native_Recipe","Sponsor_Tile","Below_Post","Footer"]),this._mainContent=null,this._commentElem=null,this._heightsRegistered=!1,this._initMainContentHeight=null,this._endMainContentHeight=null,this._slotsHeightLoad=null,this._slotsHeightEnd=null,this._slotsHeightVideo=null,this._slotsForInitial=new Set,this._slotsForMainContent=new Set,this._slotsForEnd=new Set}init(){const[e]=oe(this._config.dynamicAds,this._adInjectionMap);this._mainContent=e,null!==this._mainContent&&(this._initObserver(this._mainContent),this._gam.slotOnload.on((()=>{this._heightsRegistered||(setTimeout((()=>{this._getSlotHeights()}),this._initialSlotsTimeout),this._heightsRegistered=!0)})),this._slotManager.added.on((e=>{e.some((e=>e.infinite))||this._addSlots(e)})),this._userPageDataLogEvents.addCallbackToQueue([this._pageManager.beforeUnload],(()=>this._logAdDensity())))}_logAdDensity(){const e={...this._initMainContentHeight&&this._slotsHeightLoad&&{addensload:Math.round(this._slotsHeightLoad/this._initMainContentHeight*100)},...this._endMainContentHeight&&this._slotsHeightEnd&&{addensend:Math.round(this._slotsHeightEnd/this._endMainContentHeight*100)},...this._endMainContentHeight&&this._slotsHeightVideo&&{addensvid:Math.round(this._slotsHeightVideo/this._endMainContentHeight*100)}};Object.keys(e).length>0&&this._userPageDataLogEvents.setUserPageData({AdDensityComponent:e})}_addSlots(e){e.filter((e=>this._slotsForAdDensity.has(e.location))).forEach((e=>{e.lazy||(this._slotsForInitial.add(e.name),this._addToMainContent.has(e.location)&&this._slotsForMainContent.add(e.name)),this._slotsForEnd.add(e.name)}))}isSlotInMainContent(e){var t;return!(!(null===(t=this._mainContent)||void 0===t?void 0:t.querySelector(`#${e.id}`))||this.isSlotInComment(e))}isSlotInComment(e){return!(!this._commentElem||!this._commentElem.querySelector(`#${e.id}`))}_getSlotHeights(){let e=0,t=0;this._slots.get().forEach((i=>{this._slotsForInitial.has(i.name)&&("Content"!==i.location||this.isSlotInMainContent(i))&&(e+=i.element.offsetHeight),this._slotsForMainContent.has(i.name)&&(t+=i.element.offsetHeight)})),this._slotsHeightLoad=e,this._mainContent&&(this._initMainContentHeight=le(this._mainContent),this._initMainContentHeight+=t)}_initObserver(e){const t=e.querySelector(ae);this._observer=this.getIntersectionObserver(t),null!==t?(this._commentElem=t,this._observer.observe(this._commentElem)):this._observer.observe(e)}getIntersectionObserver(e){return new IntersectionObserver((t=>{var i,s;for(const n of t)null!==this._initMainContentHeight&&(null===e&&n.boundingClientRect.top<0&&(this._calculateSlotHeightsAtEnd(),null===(i=this._observer)||void 0===i||i.unobserve(this._mainContent)),null!==e&&n.boundingClientRect.top>0&&(this._calculateSlotHeightsAtEnd(),null===(s=this._observer)||void 0===s||s.unobserve(e)))}),{})}_calculateSlotHeightsAtEnd(){let e=0,t=0;if(this._slots.get().forEach((i=>{this._slotsForEnd.has(i.name)&&("Content"!==i.location||this.isSlotInMainContent(i))&&(e+=i.element.offsetHeight),this._slotsForMainContent.has(i.name)&&(t+=i.element.offsetHeight)})),this._slotsHeightEnd=e,this._mainContent&&(this._endMainContentHeight=le(this._mainContent),this._endMainContentHeight+=t),this._config.video.playlistPlayerAdded){const t=document.querySelector(".adthrive-collapse-player");e+=t?t.offsetHeight:0}if(this._config.video.contextualPlayerAdded){document.querySelectorAll(".adthrive-video-player").forEach((t=>{e+=t.offsetHeight}))}this._slotsHeightVideo=e}get enabled(){return this._adDensityExperiment.result&&"IntersectionObserver"in window&&!(null!==document.querySelector("body.home")||null!==document.querySelector("body.archive"))&&!Or()}};Br=I([ut("AdDensityComponent"),P(),O("design:paramtypes",[Ks,Ls,Rr,Ns,gn,Si,gs,zr])],Br);let Dr=class extends qs{constructor(e,t){super(),this._config=e,this._gam=t}init(){if(this._config.context.querystring.has("ad_test")){const e=this._config.context.querystring.get("ad_test");this._gam.setTargeting({key:"sec",value:e.split(",").map((e=>`test${e}`))})}}};Dr=I([ut("AdTestComponent"),P(),O("design:paramtypes",[Ls,Ks])],Dr);let Vr=class{constructor(e,t,i){this._emailCaptureHandler=e,this._gdprEvents=t,this._config=i,this._email="",this._consent="",this._hash="",this._source="",this._consentReceived=!1,this._emailCounted=!1,this.piiCaptured=new R}init(){this._emailCaptureHandler.emailCaptured.on((e=>this._handleEmailCapture(e))),this._gdprEvents.consentCaptured.on((e=>this._handleConsentCapture(e))),this._emailCaptureHandler.piiManagerReady.emit()}async _handleEmailCapture(e){const{email:t,hash:i,source:s}=e;this._hash=i||await this._hashEmail(t),this._email=t,this._source=s,this._config.gdpr.enabled&&!this._consentReceived||this._sendPii()}_handleConsentCapture(e){this._consentReceived=!0,this._consent=e,this._email&&this._hash&&this._sendPii()}_sendPii(){this._emailCounted||(this._emailCounted=!0,D.event("PiiManager","_sendPii",this._source)),this.piiCaptured.emit({email:this._email,hash:this._hash,consent:this._consent,source:this._source})}async _hashEmail(e){if(!("msCrypto"in window)&&"https:"===location.protocol&&"crypto"in window&&"TextEncoder"in window){const t=(new TextEncoder).encode(e),i=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(i)).map((e=>("00"+e.toString(16)).slice(-2))).join("")}return""}};Vr=I([ut("PiiManager"),A(),O("design:paramtypes",[Gs,Ut,Ls])],Vr);let Lr=class extends qs{constructor(e,t,i){super(),this._config=e,this._piiManager=t,this._amazonMethods=i,this._trackerHoldoutKey="amz",this._tokenKey="AMZN-Token",this._gdprRquired=this._config.gdpr.isRequired,this._userOptedOut=this._config.ccpa.userOptedOut}init(){this._regulatoryValidation(),this._piiManager.piiCaptured.on(this._provideEmailCapture.bind(this))}get enabled(){return this._config.tkho.tracker!==this._trackerHoldoutKey}_provideEmailCapture(e){const t={...this._getHashedRecords(e.hash),...this._getGDPRConfig(e.consent),...this._getOptOut()};this._amazonMethods.rpa(t)}_getHashedRecords(e=""){return{hashedRecords:[{type:"email",record:e}]}}_getGDPRConfig(e){const t=this._gdprRquired;return{gdpr:{enabled:t,...t&&{consent:e}}}}_getOptOut(){return{optOut:this._userOptedOut}}_regulatoryValidation(){Ye(this._tokenKey)&&this._userOptedOut&&this._optOut()}_optOut(){this._amazonMethods.upa({hashedRecords:[],optOut:!0})}};Lr=I([ut("AmazonPublisherAudiences"),P(),O("design:paramtypes",[Ls,Vr,nn])],Lr);let Fr=class extends xt{constructor(e,t){super(),this._result=!1,this.key="bmetrics",this._choices=[{choice:!0},{choice:!1}],this.weight=.99;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};Fr=I([ut("BrandMetricsExperiment"),A(),O("design:paramtypes",[Ct,Et])],Fr);let Nr=class extends qs{constructor(e,t,i){super(),this._brandMetricsExperiment=e,this._gam=t,this._prebidAuctionManager=i,this._url="https://cdn.brandmetrics.com/tag/aa466d868b2742ffa2cc31bb6341dc12/cafemedia.js"}init(){this._prebidAuctionManager.bidsRequested.once((()=>{this._load()}))}get enabled(){return this._brandMetricsExperiment.result}_load(){fe(this._url).then((()=>this._monitorSurvey())).catch((()=>{}))}_monitorSurvey(){window._brandmetrics=window._brandmetrics||[],window._brandmetrics.push({cmd:"_querySurvey",val:{callback:(e,t)=>{e&&t&&t.measurementId&&this._gam.setTargeting({key:"bms",value:[t.measurementId.toString()]})}}})}};Nr=I([ut("BrandMetrics"),P(),O("design:paramtypes",[Fr,Ks,kr])],Nr);let Ur=class extends qs{constructor(e){super(),this._config=e}init(){(e=>{const t=document.body,i=`adthrive-device-${e}`;if(!t.classList.contains(i))try{t.classList.add(i)}catch(e){D.error("BodyDeviceClassComponent","init",{message:e.message});const t="classList"in document.createElement("_");D.error("BodyDeviceClassComponent","init.support",{support:t})}})(this._config.context.device)}};Ur=I([ut("BodyDeviceClassComponent"),P(),O("design:paramtypes",[Ls])],Ur);let jr=class extends qs{constructor(e,t){super(),this._config=e,this._prebidMethods=t,this.ccpaRequired=this._config.ccpa.required,this.privacyString=this._config.ccpa.privacyString,this.ccpaNotApplicable=this._config.ccpa.ccpaNotApplicable,this.ccpaOptIn=this._config.ccpa.ccpaOptIn,this.ccpaOptOut=this._config.ccpa.ccpaOptOut,this.ccpaOptOutText=this._config.ccpa.optOutText,this.ccpaOptInText=this._config.ccpa.optInText,this.gpcEnabled=!!this._config.ccpa.gpcEnabled,this.gpcUpdated=!1,this.globalPrivacyControl=window.navigator.globalPrivacyControl,this._deletionQueue=[],this.ccpaLinkText=this.privacyString===this.ccpaOptIn?this.ccpaOptOutText:this.ccpaOptInText,this.modal=K("div","adthrive-ccpa-modal","adthrive-ccpa-modal"),this.modalContent=K("div","adthrive-ccpa-modal-content","adthrive-ccpa-modal-content"),this.ccpaATag=K("a","ccpaTag",void 0,this.ccpaLinkText)}init(){window.__uspapi=this.uspapi.bind(this),this.addLocatorFrame(),this.ccpaRequired?(window.__uspapi("registerDeletion",1,this.deleteData),this.setGpcString(),!0===this.gpcEnabled?this.setPrivacyString(this.ccpaOptOut):this.setPrivacyString(this.ccpaOptIn),this.addOptOutLink(),this.setDeviceAccess()):this.setPrivacyString(this.ccpaNotApplicable)}setPrivacyString(e,t=!1){const i=this.ccpaRequired&&this.privacyString===this.ccpaNotApplicable,s=!this.ccpaRequired&&this.privacyString!==this.ccpaNotApplicable;if(""===this.privacyString||!0===t||i||s||this.gpcUpdated){const t=new Date(2147483647e3).toUTCString();document.cookie=`usprivacy=${e};path=/;expires=${t}`,this.privacyString=e}}setGpcString(){null!==this.gpcEnabled&&!1!==this.gpcEnabled||!this.globalPrivacyControl?!0!==this.gpcEnabled||this.globalPrivacyControl||(localStorage.removeItem("adthrive_gpc"),this.gpcEnabled=this.globalPrivacyControl,this.gpcUpdated=!0):(localStorage.setItem("adthrive_gpc",`${this.globalPrivacyControl}`),this.gpcEnabled=!!`${this.globalPrivacyControl}`,this.gpcUpdated=!0)}setCCPAEventListener(e,t,i,s){i&&this.modal?i.addEventListener("click",(()=>{e&&this.optUserInOrOut(),t&&(this.modal.style.display="none")}).bind(this)):s&&this.modal&&s.addEventListener("click",(e=>{e.target==this.modal&&(this.modal.style.display="none")}).bind(this))}optUserInOrOut(){this.privacyString===this.ccpaOptIn?(this.setPrivacyString(this.ccpaOptOut,!0),window.__uspapi("performDeletion",1),this.modal.style.display="block",this.ccpaATag.textContent=this.ccpaOptInText):(this.setPrivacyString(this.ccpaOptIn,!0),this.ccpaATag.textContent=this.ccpaOptOutText),this._config.ccpa.consentChange.emit(this.privacyString),this.setDeviceAccess()}setDeviceAccess(){const e=this.privacyString===this.ccpaOptIn;this._prebidMethods.setConfig({deviceAccess:e})}createCCPAModal(){document.body.append(this.modal),this.modal.append(this.modalContent),this.setCCPAEventListener(!1,!0,void 0,window);const e=K("div","adthrive-ccpa-modal-close-btn-container",void 0,"<span>&#10005;</span>");this.modalContent.append(e),this.setCCPAEventListener(!1,!0,e);const t=K("span","adthrive-ccpa-modal-language",void 0,"You have chosen to opt-out of the sale or sharing of your information from this site and any of its affiliates. To opt back in please click the Customize my ad experience link.<br>\n\n    <br>This site collects information through the use of cookies and other tracking tools. Cookies and these tools do not contain any information that personally identifies a user, but personal information that would be stored about you may be linked to the information stored in and obtained from them. This information would be used and shared for Analytics, Ad Serving, Interest Based Advertising, among other purposes.<br>\n    \n    <br>For more information please visit this sites Privacy Policy.");this.modalContent.append(t)}createModalLowerButtons(){const e=K("div",void 0,"adthrive-ccpa-lower-buttons-container");this.modalContent.append(e);const t=K("span","adthrive-ccpa-modal-continue-btn","adthrive-ccpa-modal-btn","Continue");e.append(t),this.setCCPAEventListener(!1,!0,t);const i=K("span","adthrive-ccpa-modal-cancel-btn","adthrive-ccpa-modal-btn","Cancel");e.append(i),this.setCCPAEventListener(!0,!0,i)}addOptOutLink(){const e=K("div","adthrive-ccpa-link","adthrive-ccpa-link","Information from your device can be used to personalize your ad experience. <br><br>");e.appendChild(this.ccpaATag),this.setCCPAEventListener(!0,!1,this.ccpaATag),this.createCCPAModal(),this.createModalLowerButtons(),this._config.footer.elements.push({order:1,element:e})}deleteData(){}uspapi(e,t,i){switch(e){case"performDeletion":this._deletionQueue.forEach((e=>e()));break;case"registerDeletion":this._deletionQueue.push(i);break;case"getUSPData":return i({command:e,version:t,uspString:Ye("usprivacy")},!0);default:return null}}addLocatorFrame(){if(null===document.getElementById("__uspapiLocator")){const e=document.createElement("iframe");e.style.display="none",e.id="__uspapiLocator",e.name="__uspapiLocator",document.body.appendChild(e)}}};jr=I([ut("CCPAComponent"),P(),O("design:paramtypes",[Ls,$s])],jr);let qr=class extends qs{constructor(e){super(),this._config=e}init(){const{comscore:e,comscoreMessage:t}=this._config.comscore;e&&this._config.footer.elements.push({order:2,element:`<span>An Elite ${t} Publisher</span>`})}};qr=I([ut("ComscoreFooterComponent"),P(),O("design:paramtypes",[Ls])],qr);let Hr=class extends xt{constructor(e,t){super(),this._result=!1,this.key="confiant",this._choices=[{choice:!0},{choice:!1}],this.weight=.01;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"exp":"prod"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Hr.prototype,"run",null),Hr=I([ut("ConfiantRefreshExperiment"),A(),O("design:paramtypes",[Ct,Et])],Hr);let Gr=class extends xt{constructor(e,t){super(),this._result=!1,this.key="cnfep",this._choices=[{choice:!0},{choice:!1}],this.weight=1;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};Gr=I([ut("ConfiantEndpointExperiment"),A(),O("design:paramtypes",[Ct,Et])],Gr);const $r=new Map([[1,{type:"manual",description:"Deprecated"}],[2,{type:"creative",description:"Creative-based detection"}],[3,{type:"provider_security",description:"Domain-based detection for unsafe domains"}],[4,{type:"banned_domain",description:"Domain-based detection for bannded domains"}],[5,{type:"provider_ibv",description:"Domain-based detection for in-banner-video"}],[6,{type:"unsafejs",description:"JavaScript-based detection for unsafe ads"}],[7,{type:"hrap",description:"Domain-based detection for high risk ad platform domains"}]]);let Wr=class extends qs{constructor(e,t,i){super(),this._config=e,this._confiantRefreshExperiment=t,this._confiantEndpointExperiment=i,this._prodPropertyId="mOinGM9MTu5v-Lto835XLhlrSPY",this._expPropertyId="wyN88rwU6FImxcXgha7IWE-FzsE",this._trackerHoldoutKey="conf"}init(){const e=this._confiantRefreshExperiment.result?this._expPropertyId:this._prodPropertyId,t=`https://${this._confiantEndpointExperiment.result?"cdn.confiant-integrations.net":"confiant-integrations.global.ssl.fastly.net"}/${e}/gpt_and_prebid/config.js`;return window.confiant=window.confiant||{},window.confiant.callback=(e,t,i,s,n)=>{const r=$r.get(e);D.event("ConfiantComponent","adBlocked",{blockingTypeIntegerValue:e,blockingType:r?r.type:"unknown",description:r?r.description:"unknown",tagId:n,wrapperId:s,blockingId:t,isBlocked:i})},fe(t)}get enabled(){return this._config.tkho.tracker!==this._trackerHoldoutKey}};Wr=I([ut("ConfiantComponent"),P(),O("design:paramtypes",[Ls,Hr,Gr])],Wr);let Kr=class extends qs{constructor(e,t){super(),this._config=e,this._gam=t,this.debug=!1,this.debug=this._config.context.debug}getConfigTargeting(){const e=this._config,t=this._config.context,i=this.debug;return[...e.gam.targeting,{key:"abgroup",value:e.abGroup.groups},{key:"pubab",value:e.pubAbGroup.groups},{key:"bucket",value:i?"unsupported":t.bucket},{key:"sens",value:e.site.sensitiveCategories},{key:"domain",value:t.domain},{key:"plugin",value:t.plugin},{key:"hi_au",value:e.adTypes.enabledMinified},{key:"vpwxvph",value:`${window.innerWidth}x${window.innerHeight}`},{key:"ri",value:t.querystring.has("ri")?t.querystring.get("ri"):String(Math.floor(100*Math.random()))},{key:"pvk",value:t.pageviewKey},{key:"sess",value:t.sessionKey},{key:"branch",value:t.branch},{key:"deployment",value:i||t.invalidTraffic?"unsupported":t.deployment},{key:"hbho",value:e.hbho.bidders},{key:"vbho",value:e.vbho.bidders},{key:"gptv",value:googletag.getVersion()}]}getConditionalTargeting(){const e=[],t=this._config.context,i=this._config.site,s=this._config.ccpa;return i.sensCategoriesOff.length&&e.push({key:"sens_off",value:i.sensCategoriesOff}),t.connectionTargeting.length&&e.push({key:"connection",value:t.connectionTargeting}),s.required&&e.push({key:"ccpaOptOut",value:s.userOptedOut?"1":"0"}),e}setConditionalFlagTargeting(){const e=this._config.context;e.invalidTraffic&&this._gam.setTargetingFlag("bot",e.invalidTraffic),e.adsMinLoadDuration&&this._gam.setTargetingFlag("adsmnche",e.adsMinLoadDuration),this._config.gdpr.isRequired&&this._gam.setTargetingFlag("gdpr",["1"]),this._config.adOptions.pmp&&this._gam.setTargetingFlag("pmp_elig",["1"]),this._config.clsOptions&&(this._gam.setTargetingFlag("clson",[String(!!this._config.clsOptions.injectedFromPlugin)]),this._gam.setTargetingFlag("clsBranch",[this._config.clsOptions.branch||""]),this._gam.setTargetingFlag("clsBucket",[this._config.clsOptions.bucket||""])),e.integration&&this._gam.setTargetingFlag("integration",[e.integration]),e.deliveryVersion&&this._gam.setTargetingFlag("lmdv",[e.deliveryVersion])}init(){Ks.pushToQueue((()=>{this._gam.setTargeting([...this.getConfigTargeting(),...this.getConditionalTargeting()]),this.setConditionalFlagTargeting()}))}};Kr=I([ut("ConfigTargetingComponent"),P(),O("design:paramtypes",[Ls,Ks])],Kr);let Qr=class extends qs{constructor(e,t){super(),this._gam=e,this._slots=t}init(){this._gam.slotRenderEnded.on((e=>this.confirmedClickOverlay(e)))}confirmedClickOverlay({event:e,slot:t}){Ks.pushToQueue((()=>{const{id:i,location:s,sequence:n,nref:r}=t.getTargetingMap(),o=this.confirmedClickStatus(this._slots.get(e.slot.getSlotElementId()));Ee({event:e,ignoreOtherCompanyIds:!0})&&o&&D.event("confirmedClickOverlay","status",{id:i,location:s,sequence:n,nref:r,confirmedClick:o})}))}confirmedClickStatus(e){const t=["common_15click_overlay","common_15click_anchor"];try{const i=null==e?void 0:e.element.querySelectorAll("iframe[id^=google_ads_iframe]");let s;return i&&(null==i?void 0:i.length)>0&&(s=i[0]),t.some((e=>{var t;return null!=(null===(t=null==s?void 0:s.contentDocument)||void 0===t?void 0:t.getElementById(e))}))}catch(e){D.error("ConfirmedClickComponent","confirmedClickStatus",e)}return!1}};Qr=I([ut("ConfirmedClicksComponent"),P(),O("design:paramtypes",[Ks,Ns])],Qr);let Xr=class extends qs{constructor(e,t,i){super(),this._config=e,this._gam=t,this._slotManager=i,this._device=this._config.context.device}init(){const e=this._slotManager;this._gam.slotRenderEnded.on((({event:t,slot:i})=>{this.isDeclaredRefreshCompliantSlot(i)&&Ee({event:t})&&e.updateRefreshTimeout(i.id,24e4)})),e.added.on((e=>e.forEach((e=>{this.isDeclaredRefreshCompliantSlot(e)&&Ks.pushToQueue((()=>{e.setTargeting({key:"decref",value:"240"})}))}))))}isDeclaredRefreshCompliantSlot(e){return"Sidebar"===e.location&&("phone"===this._device||"tablet"===this._device)||"Header"===e.location&&2===e.sequence&&("phone"===this._device||"tablet"===this._device)}};Xr=I([ut("DeclaredRefreshComponent"),P(),O("design:paramtypes",[Ls,Ks,gn])],Xr);let Yr=class extends Dt{constructor(e,t,i,s){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._clsOptions=s,this._choices=[],this._mappedChoices=[],this._result="control",this._resultValidator=e=>"number"==typeof e,this.key=je.AdDensity,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);const n=this._clsOptions.getWeightedChoiceExperiment(this.key,!0);this.enabled&&this._isValidResult(n)?(this._result=n,this.setExperimentTargeting()):this.enabled&&(this._choices=this.experimentConfig.variants,this._mappedChoices=this._mapChoices(),this._result=this.run(),this.setExperimentTargeting())}run(){this.enabled||D.error("AdDensitySiteExperiment","run","No experiment config found");const e=new At(this._mappedChoices).get();return this._isValidResult(e)?e:(D.error("AdDensitySiteExperiment","run","Invalid result from experiment choices. Defaulting to control."),"control")}setExperimentTargeting(){if(!this.enabled||!this._isValidResult(this._result))return void D.error("AdDensitySiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config and valid result");const e=this.experimentConfig,t=`${e.key.toLowerCase()}-${e.id}`,i="control"===this._result?"control":`${Math.round(100*this._result)}`;return this._pubabgroup.set(t,i),this._ga.addSiteExperimentEventLabel({label:t,value:i}),`${t}:${i}`}_mapChoices(){return this._choices.map((({weight:e,value:t})=>({weight:e,choice:"number"==typeof t?(t||0)/100:"control"})))}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Yr.prototype,"run",null),Yr=I([ut("AdDensitySiteExperiment"),A(),O("design:paramtypes",[Vt,wt,Ht,vi])],Yr);class Jr{constructor(e){this._adInjectionMap=e,this._recipeCount=0,this._mainContentHeight=0,this._mainContentDiv=null,this._totalAvailableElements=[],this._densityDevice=De.Desktop,this._pubLog={onePerViewport:!1,targetDensity:0,targetDensityUnits:0,combinedMax:0},this._densityMax=.99,this._smallerIncrementAttempts=0,this._absoluteMinimumSpacingByDevice=250,this._usedAbsoluteMinimum=!1,this.locationMaxLazySequence=new Map([["Recipe",5]])}inject(e,t=document){window.adthriveCLS&&window.adthriveCLS.targetDensityLog&&D.event("BaseDynamicAdsInjector","_logDensityInfo",window.adthriveCLS.targetDensityLog),this._densityDevice="desktop"===this._config.context.device?De.Desktop:De.Mobile,this._overrideDefaultAdDensitySettingsWithSiteExperiment();const i=this._config.targetDensity.enabled,s=e.filter((e=>i?"Content"!==e.location:e)),n=e.filter((e=>i?"Content"===e.location:null));return[...s.length?this._injectNonDensitySlots(s,t):[],...n.length?this._injectDensitySlots(n,t):[]]}_injectNonDensitySlots(e,t=document){const i=[];for(const s of e){let e=0,n=0,r=0;s.spacing>0&&(e=window.innerHeight*s.spacing,n=e);const o=this._repeatDynamicAds(s),a=this.getElements(s.elementSelector,t);s.skip;for(let l=s.skip;l<a.length&&!(r+1>o.length);l+=s.every){let d=a[l];if(e>0){const{bottom:t}=Z(d);if(t<=n)continue;n=t+e}const c=o[r],h=`${c.location}_${c.sequence}`;if(i.some((e=>e.name===h))){r+=1;continue}const p=this.getDynamicElementId(c),u=`adthrive-${s.location.replace("_","-").toLowerCase()}`,g=[u,`${u}-${s.sequence}`,...s.classNames],_=this.addAd(d,p,s.position,g,s.location);if(_){const e=this._filterAdUnitSizes(c,_);e.length&&(i.push(this.createSlot(c,_,e,t!==document)),"Recipe"===s.location&&++this._recipeCount,r+=1),d=_}}}return i}_injectDensitySlots(e,t=document){try{this._calculateMainContentHeightAndAllElements(e,t)}catch(e){return[]}const{onePerViewport:i,targetAll:s,targetDensityUnits:n,combinedMax:r,numberOfUnits:o}=this._getDensitySettings(e,t);return this._absoluteMinimumSpacingByDevice=i?window.innerHeight:this._absoluteMinimumSpacingByDevice,o?(this._adInjectionMap.filterUsed(),this._findElementsForAds(o,i,s,r,n,t),this._insertAds()):[]}_overrideDefaultAdDensitySettingsWithSiteExperiment(){const e=x.resolve(Yr);if(!e.enabled)return;const t=e.result;"number"==typeof t&&(this._config.targetDensity.enabled=!0,this._config.targetDensity.settings[this._densityDevice].adDensity=t)}_getDensitySettings(e,t=document){const i=this._config.targetDensity.settings,s=this._determineOverrides(i.pageOverrides),n=s.length?s[0]:i[this._densityDevice],r=n.adDensity,o=n.onePerViewport,a=this._shouldTargetAllEligible(r),l=this._getTargetDensityUnits(r,a),d=this._getCombinedMax(e,t),c=Math.min(this._totalAvailableElements.length,l,...d>0?[d]:[]);return this._pubLog={onePerViewport:o,targetDensity:r,targetDensityUnits:l,combinedMax:d},{onePerViewport:o,targetAll:a,targetDensityUnits:l,combinedMax:d,numberOfUnits:c}}_determineOverrides(e){return e.filter((e=>{const t=at(e.pageSelector);return""===e.pageSelector||t.elements&&t.elements.length})).map((e=>e[this._densityDevice]))}_shouldTargetAllEligible(e){return e===this._densityMax}_getTargetDensityUnits(e,t){return t?this._totalAvailableElements.length:Math.floor(e*this._mainContentHeight/(1-e)/this._getMinDivHeight())-this._recipeCount}_getMinDivHeight(e="Content"){return this._config.clsOptimizedAds.getDivHeight(e,this._config.context.device)}_getCombinedMax(e,t=document){return Q(e.filter((e=>{let i;try{i=t.querySelector(e.elementSelector)}catch(e){}return i})).map((e=>Number(e.max)+Number(e.lazyMaxDefaulted?0:e.lazyMax))).sort(((e,t)=>t-e))[0],0)}_elementLargerThanMainContent(e){return e.offsetHeight>=this._mainContentHeight&&this._totalAvailableElements.length>1}_elementDisplayNone(e){const t=window.getComputedStyle(e,null).display;return t&&"none"===t||"none"===e.style.display}_isBelowMaxes(e,t){return this._adInjectionMap.map.length<e&&this._adInjectionMap.map.length<t}_findElementsForAds(e,t,i,s,n,r=document){D.event("BaseDynamicAdsInjector","_logDensityInfo",{onePerViewport:t,combinedMax:s,targetDensityUnits:n,targetDensityPercentage:this._pubLog.targetDensity,mainContentHeight:this._mainContentHeight,recipeCount:this._recipeCount,numberOfEls:this._totalAvailableElements.length});const o=e=>{for(const{dynamicAd:t,element:o}of this._totalAvailableElements)if(this._logDensityInfo(o,t.elementSelector,e),!(!i&&this._elementLargerThanMainContent(o)||this._elementDisplayNone(o))){if(!this._isBelowMaxes(s,n))break;this._checkElementSpacing({dynamicAd:t,element:o,insertEvery:e,targetAll:i,target:r})}!this._usedAbsoluteMinimum&&this._smallerIncrementAttempts<5&&(++this._smallerIncrementAttempts,o(this._getSmallerIncrement(e)))},a=this._getInsertEvery(e,t,n);o(a)}_getSmallerIncrement(e){let t=.6*e;return t<=this._absoluteMinimumSpacingByDevice&&(t=this._absoluteMinimumSpacingByDevice,this._usedAbsoluteMinimum=!0),t}_insertAds(){const e=[];return this._adInjectionMap.filterUsed(),this._adInjectionMap.map.forEach((({el:t,dynamicAd:i,target:s},n)=>{const r=Number(i.sequence)+n,o=i.max,a=i.lazy&&r>o;i.sequence=r,i.lazy=a;const l=this._addContentAd(t,i,s);l&&(i.used=!0,e.push(l))})),e}_getInsertEvery(e,t,i){let s=this._absoluteMinimumSpacingByDevice;return this._moreAvailableElementsThanUnitsToInject(i,e)?(this._usedAbsoluteMinimum=!1,s=this._useWiderSpacing(i,e)):(this._usedAbsoluteMinimum=!0,s=this._useSmallestSpacing(t)),t&&window.innerHeight>s?window.innerHeight:s}_useWiderSpacing(e,t){return this._mainContentHeight/Math.min(e,t)}_useSmallestSpacing(e){return e&&window.innerHeight>this._absoluteMinimumSpacingByDevice?window.innerHeight:this._absoluteMinimumSpacingByDevice}_moreAvailableElementsThanUnitsToInject(e,t){return this._totalAvailableElements.length>e||this._totalAvailableElements.length>t}_logDensityInfo(e,t,i){const{onePerViewport:s,targetDensity:n,targetDensityUnits:r,combinedMax:o}=this._pubLog;this._totalAvailableElements.length}_checkElementSpacing({dynamicAd:e,element:t,insertEvery:i,targetAll:s,target:n=document}){(this._isFirstAdInjected()||this._hasProperSpacing(t,e,s,i))&&this._markSpotForContentAd(t,{...e},n)}_isFirstAdInjected(){return!this._adInjectionMap.map.length}_markSpotForContentAd(e,t,i=document){const s="beforebegin"===t.position||"afterbegin"===t.position;this._adInjectionMap.add(e,this._getElementCoords(e,s),t,i),this._adInjectionMap.sort()}_hasProperSpacing(e,t,i,s){const n="beforebegin"===t.position||"afterbegin"===t.position,r="beforeend"===t.position||"afterbegin"===t.position,o=i||this._isElementFarEnoughFromOtherAdElements(e,s,n),a=r||this._isElementNotInRow(e,n),l=-1===e.id.indexOf("AdThrive_Below_Post");return o&&a&&l}_isElementFarEnoughFromOtherAdElements(e,t,i){const s=this._getElementCoords(e,i);let n=!1;for(let e=0;e<this._adInjectionMap.map.length;e++){const i=this._adInjectionMap.map[e].coords,r=this._adInjectionMap.map[e+1]&&this._adInjectionMap.map[e+1].coords;if(n=s-t>i&&(!r||s+t<r),n)break}return n}_isElementNotInRow(e,t){const i=e.previousElementSibling,s=e.nextElementSibling,n=t?!i&&s||i&&e.tagName!==i.tagName?s:i:s;return!(!n||0!==e.getBoundingClientRect().height)||(!n||e.getBoundingClientRect().top!==n.getBoundingClientRect().top)}_calculateMainContentHeightAndAllElements(e,t=document){const[i,s]=oe(e,this._adInjectionMap,t);this._mainContentDiv=i,this._totalAvailableElements=s,this._mainContentHeight=le(this._mainContentDiv)}_getElementCoords(e,t=!1){const i=e.getBoundingClientRect();return(t?i.top:i.bottom)+window.scrollY}_addContentAd(e,t,i=document){let s=null;const n=`adthrive-${t.location.replace("_","-").toLowerCase()}`,r=`${n}-${t.sequence}`,o=this.addAd(e,this.getDynamicElementId(t),t.position,[n,r,...t.classNames],t.location);if(o){const e=this._filterAdUnitSizes(t,o);e.length&&(s=this.createSlot(t,o,e,i!==document))}return s}getElements(e,t=document){return t.querySelectorAll(e)}_filterAdUnitSizes(e,t){const i=(e=>{let t=e.clientWidth;if(getComputedStyle){const i=getComputedStyle(e,null);t-=parseFloat(i.paddingLeft||"0")+parseFloat(i.paddingRight||"0")}return t})(t),s=e.sticky&&"Sidebar"===e.location;return e.sizes.filter((t=>{const n=!e.autosize||(t[0]<=i||t[0]<=320),r=!s||t[1]<=window.innerHeight-100;return n&&r}))}createSlot({location:e,sequence:t,sticky:i,lazy:s,stickyOverlapSelector:n,special:r,auctionPriority:o},a,l,d){return new Fs(e,t,l,a,i,s,o,n,r,!0,d)}_repeatDynamicAds(e){const t=[],i=e.lazy?Q(this.locationMaxLazySequence.get(e.location),0):0,s=e.max,n=e.lazyMax,r=0===i&&e.lazy?s+n:Math.min(Math.max(i-e.sequence+1,0),s+n),o=Math.max(s,r);for(let i=0;i<o;i++){const n=Number(e.sequence)+i,r=e.lazy&&i>=s;t.push({...e,sequence:n,lazy:r})}return t}addAd(e,t,i,s=[],n){let r=`<div id="${t}" class="adthrive-ad ${s.join(" ")}"></div>`;if("Video_StickyOutstream"===n){r=`<div class="adthrive-sticky-outstream adthrive-sticky-outstream-${t.includes("phone")?"mobile":"desktop"}">`+r+"</div>"}return window.adthriveCLS&&window.adthriveCLS.injectedSlots&&window.adthriveCLS.injectedSlots.some((e=>e.element.id===t))||e.insertAdjacentHTML(i,r),document.getElementById(t)}}let Zr=class extends Jr{constructor(e,t){super(t),this._config=e,this._adInjectionMap=t}getDynamicElementId(e){return`${this._config.gam.prefix}_${e.location}_${e.sequence}_${this._config.context.device}`}};Zr=I([ut("DynamicAdsInjector"),P(),O("design:paramtypes",[Ls,zr])],Zr);let eo=class extends qs{constructor(e,t,i){super(),this._config=e,this._injector=t,this._slotManager=i}hasClsInjectedContent(){if(window.adthriveCLS&&window.adthriveCLS.injectedSlots)for(const e of window.adthriveCLS.injectedSlots)if(e.name.includes("Content"))return!0;return!1}start(){const e=this.hasClsInjectedContent(),t=this._config.dynamicAds.filter((e=>this.locationEnabled(e))).filter((e=>this.forDevice(e,this._config.context.device))).filter((t=>!e||e&&"Content"!==t.location)).filter((e=>"Interstitial"===e.location||"Video_StickyOutstream"===e.location?this.forPageBlocks(e.pageSelector):this.forPage(e))).filter((e=>!this.pluginInjected(e))).filter((e=>"Video_StickyOutstream"!==e.location||!this.shouldFilterStickyOutstream()));let i=this._injector.inject(t);if(this._config.clsOptions&&this._config.clsOptions.enabled){const e=[];this._config.clsOptions.injectedSlots.forEach((t=>{i.some((e=>e.name===t.name))||e.push(this._injector.createSlot(t.dynamicAd,t.element,t.sizes,t.infinite))})),i=i.concat(e)}this._slotManager.add(i).catch((e=>{D.error("DynamicAdsComponent","start","add",e)}))}get enabled(){return this._config.dynamicAds.length>0}shouldFilterStickyOutstream(){return!!(this._config.video.preventStickyOutstream||this._config.disableAds.video||!this._config.video.stickyOutstreamSettings.allowOnHomepage&&Or())||(this._config.video.hasStickyOutstream=!0,!1)}pluginInjected(e){const t=JSON.stringify(e);return this._config.clsOptions&&this._config.clsOptions.injectedSlots.some((e=>JSON.stringify(e.clsDynamicAd)===t))}forDevice(e,t){return e.devices.includes(t)}forPage(e){return 0===e.pageSelector.length||null!==document.querySelector(e.pageSelector)}forPageBlocks(e){return 0===e.length||!e.split(",").some((e=>null!==document.querySelector(e)))}locationEnabled(e){return!this._config.disableAds.locations.has(e.location)&&!this._config.disableAds.all}};eo=I([ut("DynamicAdsComponent"),P(),O("design:paramtypes",[Ls,Zr,gn])],eo);let to=class extends qs{constructor(e,t){super(),this._config=e,this._gam=t}init(){try{this._gam.slotOnload.once((()=>this.refreshExternal()))}catch(e){D.error("ExternalSlotsComponent","init",e)}}refreshExternal(){Ks.pushToQueue((()=>{const{account:e}=this._config.gam,t=googletag.pubads().getSlots().filter((t=>null===RegExp(`^/?${e}/`).exec(t.getAdUnitPath()))).filter((e=>null!==document.getElementById(e.getSlotElementId())));t.length&&googletag.pubads().refresh(t)}))}};to=I([ut("ExternalSlotsComponent"),P(),O("design:paramtypes",[Ls,Ks])],to);let io=class extends qs{constructor(e){super(),this._gam=e}init(){const e=this.isFirstPageview()?"1":"0";this.setFPV(e)}setFPV(e="0"){+e&&localStorage.setItem("adthrive_fpv",(new Date).toString()),this._gam.setTargeting({key:"fpv",value:e})}isFirstPageview(){let e=0;try{const t=localStorage.getItem("adthrive_fpv");if(t&&(e=Date.now()-Date.parse(t)),!t||e>864e5)return!0}catch(e){}return!1}};io=I([ut("FirstPageviewComponent"),P(),O("design:paramtypes",[Ks])],io);let so=class{constructor(e){this._videoEventBus=e,this.refreshingVideoBids=new R,this.requestingVideoBids=new R}addVideoSlots(e){this._videoEventBus.videoPlayerAdded.emit(e)}async requestVideoBids(e,t){await this.requestingVideoBids.legacyEmit(e).catch(),await this._determineIsRefreshing(e).catch(),await this._videoEventBus.requestingVideoBids.legacyEmit({videos:e,timeout:t})}async _determineIsRefreshing(e){const t=e.filter((e=>e._prerollNum>0));t.length&&await this.refreshingVideoBids.legacyEmit(t)}};so=I([ut("VideoRequestManager"),A(),O("design:paramtypes",[Rt])],so);let no=class extends qs{constructor(e,t,i,s,n){super(),this._slotManager=e,this._config=t,this._prebidMethods=i,this._videoRequestManager=s,this._irisTv=n,this.staticFirstPartyData={site_code:this._config.marmalade.siteCodes.filter(te),site_id:[this._config.site.id],sens:this._config.site.filteredSensitiveCategories,verticals:this._config.site.verticals,pmp_elig:[this._config.adOptions.pmp]}}init(){this.onAddedEvent(),this.onRequestingEvent(),this.onRefreshingEvent(),this.onVideoRequestingEvent(),this.onVideoRefreshingEvent()}onAddedEvent(){this._slotManager.added.once((()=>{this.setBidderSpecificFpd({bidders:["rubicon","rubi_ss"],fpdData:{refresh:["false"],vp:"0"},rfCodeBidder:"rubi"}),this._config.site.filteredSensitiveCategories.length&&this.setBidderSpecificFpd({bidders:["triplelift","tripl_ss"],fpdData:{sens:this._config.site.filteredSensitiveCategories},addStaticFpd:!1}),this._config.site.filteredSensitiveCategories.length&&this.setBidderSpecificFpd({bidders:["yahoossp"],fpdData:{sens:this._config.site.filteredSensitiveCategories},addStaticFpd:!1})}))}onRequestingEvent(){this._slotManager.requestingBids.on((e=>{e.forEach((e=>{this.setIXHVPParam(e,this._prebidMethods),e.lazy&&this.setBidderSpecificFpd({bidders:["rubicon","rubi_ss"],fpdData:{refresh:["false"],vp:"0"}})}))}))}onRefreshingEvent(){this._slotManager.refreshingBids.on((e=>{e.forEach((e=>{this.setIXHVPParam(e,this._prebidMethods)})),this.setBidderSpecificFpd({bidders:["rubicon","rubi_ss"],fpdData:{refresh:["true"],vp:"0"}})}))}onVideoRequestingEvent(){this._videoRequestManager.requestingVideoBids.on((e=>{e.forEach((()=>{const e=this._irisTv,t=e.irisContextualData;t&&t.length&&this.setBidderSpecificFpd({bidders:["pubmatic","pubm_ss"],fpdData:{content:{id:e.irisId}},addStaticFpd:!1,isExtData:!1})}))}))}onVideoRefreshingEvent(){this._videoRequestManager.refreshingVideoBids.on((e=>{e.forEach((e=>{e.vp>0&&e._prerollNum<=10&&(this.setBidderSpecificFpd({bidders:["rubicon","rubi_ss"],fpdData:{refresh:["true"],vp:e.vp.toString()}}),this._prebidMethods.addToQueue((()=>{this.setIXVPParam(e.vp)})))}))}))}setBidderSpecificFpd({bidders:e,fpdData:t,addStaticFpd:i=!0,location:s="site",isExtData:n=!0,rfCodeBidder:r}){const o=this._config.marmalade.mcmp,a={...i&&{...this.staticFirstPartyData,mcmp:o},...t},l=n?{ext:{data:a}}:a,d=()=>{this._config.marmalade.rfMcmpCodes.forEach((e=>{const t=e[0];e[1].includes(r)&&o.push(t)})),this.setPrebidFirstPartyData(e,l,s)};r?this._config.marmalade.rfDataProcessed.emitted?d():(this.setPrebidFirstPartyData(e,l,s),this._config.marmalade.rfDataProcessed.on((()=>d()))):this.setPrebidFirstPartyData(e,l,s)}setPrebidFirstPartyData(e,t,i){this._prebidMethods.setBidderConfig({bidders:e,config:{ortb2:{[i]:t}}})}setIXHVPParam(e,t){Ks.pushToQueue((()=>{t.addToQueue((()=>{const i=t.getConfig("ix");if(i&&i.firstPartyData){const s=i.firstPartyData.HVP||{},n=ne(e),r=((e,t,i)=>{let s=we.includes(i)?i:0;return t&&Ce.includes(e)&&(s=Math.max(s,60)),s})(e.placementMapName,e.lazy,n?+n:0);s[e.id]=r,e.refreshCount>0?be({HVP:s,Refresh:"True"},t):be({HVP:s},t,!0)}}))}))}setIXVPParam(e){const t=this._prebidMethods.getConfig("ix");t&&t.firstPartyData&&e>0&&be({vp:e.toString()},this._prebidMethods)}};no=I([ut("FirstPartyDataComponent"),P(),O("design:paramtypes",[gn,Ls,$s,so,Qn])],no);let ro=class extends qs{constructor(e,t,i,s){super(),this._slotManager=e,this._prebidMethods=t,this._config=i,this._floors=s,this._cpms={},this._percentile=0,this._percentile=this._config.floors.floorsExperiment.percentile.fpvNonLazy}init(){this.setTimerOnAuctionInit(),this.saveParentBids(),this.setDelayedBidFloors()}setDelayedBidFloors(){const e=this._config.floors;this._slotManager.requestingBids.on((t=>{const i=this._floors.getDefaultFloorConfig();t.forEach((t=>{if(e.fpvNonLazySlotLocations.includes(t.location)&&e.isFPVNonLazySlot(t)){const e=this._cpms[t.location],s=e&&He(e,this._percentile);s&&this._floors.setValues(i,t.id,s)}})),this._floors.prioritizeFloorsConfig(i,Re.fpvNonLazy)}))}setTimerOnAuctionInit(){this._prebidMethods.onEvent("auctionInit",(e=>{e.labels.includes("refresh")||e.adUnitCodes.forEach((e=>{const t=e.split("_"),i=t[1],s=+t[2],n=this._config.floors;if(1===s&&n.fpvNonLazySlotLocations.includes(i)){const e=n.delayedBids[i]||{};Object.keys(e).forEach((e=>{this._floors.createDelayTimeout(i,e,n.floorsExperiment.delay)}))}}))}))}saveParentBids(){const e=this._config.floors.fpvNonLazySlotLocations;this._slotManager.requestedBids.on((t=>{t.filter((t=>e.includes(t.location)&&1===t.sequence)).forEach((e=>{const{location:t,id:i}=e;this._cpms[t]=[],this._prebidMethods.addToQueue((()=>{this._floors.saveBids(e,this._cpms[e.location]);const i=this._config.floors.delayedBids[t];i&&Object.keys(i).forEach((e=>{var t,s;null===(s=(t=i[e]).parentBidResolve)||void 0===s||s.call(t)}))}))}))}))}get enabled(){return Boolean(this._config.floors.floorsExperiment.percentile.fpvNonLazy)}};ro=I([ut("FloorsFPVNonLazyComponent"),P(),O("design:paramtypes",[gn,$s,Ls,en])],ro);let oo=class extends qs{constructor(e,t,i,s){super(),this._slotManager=e,this._prebidMethods=t,this._floors=i,this._floorsExperiment=s,this._percentile=0,this._enabledAdUnits=["Content","Recipe","Below_Post"],this._adUnitCpms=[],this._percentile=this._floorsExperiment.result.percentile.lazy}init(){this._slotManager.requestingBids.on((e=>{const t=this._floors.getDefaultFloorConfig();e.filter((e=>this._enabledAdUnits.includes(e.location)&&e.lazy)).forEach((e=>{const i=He(this._adUnitCpms,this._percentile);this._floors.setValues(t,e.id,i)})),this._floors.prioritizeFloorsConfig(t,Re.lazy)})),this._slotManager.requestedBids.on((e=>{e.filter((e=>this._enabledAdUnits.includes(e.location))).forEach((e=>{this._prebidMethods.addToQueue((()=>{this._floors.saveBids(e,this._adUnitCpms)}))}))}))}get enabled(){const e=!0===he("session_fpv")||null===he("session_fpv");return Boolean(this._percentile)&&e&&!0===this._floorsExperiment.result.legacy}};oo=I([ut("FloorsLazyComponent"),P(),O("design:paramtypes",[gn,$s,en,ci])],oo);let ao=class extends qs{constructor(e,t,i,s,n,r){super(),this._config=e,this._slotManager=t,this._floors=i,this._prebidMethods=s,this._videoRequestManager=n,this._floorsExperiment=r,this._expirationThreshold=5,this._bannerMulitplierLowRefresh=1.3,this._bannerMulitplierHighRefresh=1.1,this._instreamMulitplierLowRefresh=1.1,this._instreamMulitplierHighRefresh=1}init(){this._slotManager.refreshing.on((e=>{this._prebidMethods.addToQueue((()=>{this._setRefreshFloors(e.map((e=>({adUnitCode:e.id,refreshCount:e.refreshCount,bidPoolId:e.bidPoolId}))))}))})),this._videoRequestManager.refreshingVideoBids.on((e=>{this._prebidMethods.addToQueue((()=>{this._setRefreshFloors(e.map((e=>{var t;return{adUnitCode:null===(t=e.videoAdUnit)||void 0===t?void 0:t.code,refreshCount:e._prerollNum}})))}))}))}_updateBidTTL(e,t){this._prebidMethods.getBidResponsesForAdUnitCode(e).bids.filter((e=>"rendered"!==e.status&&e.ttl&&!e.expired)).forEach((e=>{const i=e.responseTimestamp,s=e.ttl-this._expirationThreshold;Number(i)+1e3*Number(s)<t&&(e.ttl=s,e.expired=!0)}))}_getFloorValue(e,t,i){const s=i<=5,n=t?s?this._instreamMulitplierLowRefresh:this._instreamMulitplierHighRefresh:s?this._bannerMulitplierLowRefresh:this._bannerMulitplierHighRefresh;return e&&e*n}_setRefreshFloors(e){const t=this._floors.getDefaultFloorConfig();for(const i of e){const{adUnitCode:e,bidPoolId:s}=i,n=Ze();this._updateBidTTL(e,n);const[r]=s?this._prebidMethods.getHighestCpmBidsForPoolId(s):this._prebidMethods.getHighestCpmBids(e),o=this._config.video.instreamAdUnits.has(e),a=this._getFloorValue(null==r?void 0:r.cpm,o,i.refreshCount);a&&this._floors.setValues(t,e,a)}this._floors.prioritizeFloorsConfig(t,Re.refresh)}get enabled(){return!0===this._floorsExperiment.result.legacy}};ao=I([ut("FloorsRefreshComponent"),P(),O("design:paramtypes",[Ls,gn,en,$s,so,ci])],ao);let lo=class extends qs{constructor(e,t,i,s){super(),this._config=t,this._floors=i,this._floorsExperiment=s}init(){const e=this._config.floors.floorsData;e?this.createFloorsMap(e):this._config.floors.floorsDataReady.once((()=>this.createFloorsMap(e)))}createFloorsMap(e){e?(this.buildFloorsMap(e.modelGroups),this._floors.setPrebidFloors(e)):D.error("RubiconFloorsComponent","init","Rubicon floor data not found")}buildFloorsMap(e){e.forEach(((e,t)=>{this._floors.modelVersionMap.set(e.modelVersion,t)}))}get enabled(){return!0===this._floorsExperiment.result.rubicon}};lo=I([ut("FloorsRubiconComponent"),P(),M(0,T("AdThrive")),O("design:paramtypes",[Object,Ls,en,ci])],lo);let co=class extends qs{constructor(e,t,i,s){super(),this._slotManager=e,this._floors=t,this._prebidMethods=i,this._floorsExperiment=s,this._percentile=.6,this._rdx=33;const n=he("bc");this._savedBids=n?$e(n,this._rdx):{Content:[],Recipe:[],Header:[],Below_Post:[],Sidebar:[],Footer:[]}}init(){if(!1===he("session_fpv")){const e=this._floors.getDefaultFloorConfig();this._slotManager.requestingBids.on((t=>{t.filter((e=>Object.keys(this._savedBids).includes(e.location))).forEach((t=>{const i=He(this._savedBids[t.location],this._percentile);this._floors.setValues(e,t.id,i)})),this._floors.prioritizeFloorsConfig(e,Re.session)}))}this.saveBids()}saveBids(){this._slotManager.requestedBids.on((e=>{e.filter((e=>Object.keys(this._savedBids).includes(e.location))).forEach((e=>{this._prebidMethods.addToQueue((()=>{this.saveSlotBids(e)}))})),ce("bc",We(this._savedBids,this._rdx))}))}saveSlotBids(e){this._prebidMethods.getBidResponsesForAdUnitCode(e.id).bids.forEach((t=>{var i,s;i=this._savedBids[e.location],s=1e3,i.length>=s&&i.splice(Math.floor(Math.random()*i.length),1),this._savedBids[e.location].push(t.cpm)}))}get enabled(){return!0===this._floorsExperiment.result.legacy}};co=I([ut("FloorsSessionComponent"),P(),O("design:paramtypes",[gn,en,$s,ci])],co);let ho=class extends qs{constructor(e,t,i,s,n){super(),this._floorsComponents=[n,e,t,i,s].filter((e=>e.enabled))}init(){this._floorsComponents.forEach((e=>void 0!==e.init&&e.init()))}};ho=I([P(),O("design:paramtypes",[oo,ao,lo,co,ro])],ho);let po=class extends qs{constructor(e){super(),this._config=e}start(){if(this._config.footer.elements.length){const e=document.createElement("div");e.className="adthrive-comscore adthrive-footer-message",this._config.footer.elements.sort(((e,t)=>e.order-t.order)).forEach((({element:t})=>{t instanceof Element?e.insertAdjacentElement("beforeend",t):e.insertAdjacentHTML("beforeend",t)}));const t=""===this._config.adOptions.footerSelector?".adthrive-mobile #page-wrapper":this._config.adOptions.footerSelector;(document.querySelector(t)||document.body).insertAdjacentElement("beforeend",e)}}};var uo,go;po=I([ut("FooterComponent"),P(),O("design:paramtypes",[Ls])],po),function(e){e.Version="Version",e.SharingNotice="SharingNotice",e.SaleOptOutNotice="SaleOptOutNotice",e.SharingOptOutNotice="SharingOptOutNotice",e.TargetedAdvertisingOptOutNotice="TargetedAdvertisingOptOutNotice",e.SensitiveDataProcessingOptOutNotice="SensitiveDataProcessingOptOutNotice",e.SensitiveDataLimitUseNotice="SensitiveDataLimitUseNotice",e.SaleOptOut="SaleOptOut",e.SharingOptOut="SharingOptOut",e.TargetedAdvertisingOptOut="TargetedAdvertisingOptOut",e.SensitiveDataProcessing="SensitiveDataProcessing",e.KnownChildSensitiveDataConsents="KnownChildSensitiveDataConsents",e.PersonalDataConsents="PersonalDataConsents",e.MspaCoveredTransaction="MspaCoveredTransaction",e.MspaOptOutOptionMode="MspaOptOutOptionMode",e.MspaServiceProviderMode="MspaServiceProviderMode"}(uo||(uo={})),function(e){e.NA="0",e.OptedOut="1",e.OptedIn="2"}(go||(go={}));let _o=class extends qs{constructor(e,t,i){super(),this._config=e,this._ccpaComponent=t,this._ortb2=i,this.ccpaRequired=this._config.ccpa.required,this.ccpaNotApplicable=this._config.ccpa.ccpaNotApplicable,this.ccpaOptIn=this._config.ccpa.ccpaOptIn,this.ccpaOptOut=this._config.ccpa.ccpaOptOut,this.gpcEnabled=!!this._config.ccpa.gpcEnabled,this.gpcUpdated=!1,this.globalPrivacyControl=window.navigator.globalPrivacyControl,this._supportedAPIs=["uspv1","usnat"],this._sectionList=[6,7],this._usnatFieldOrder=[...Object.values(uo)],this._usnatFields=new Map([[uo.Version,{unencodedVal:"1",fieldValLength:6}],[uo.SharingNotice,{unencodedVal:"1",fieldValLength:2}],[uo.SaleOptOutNotice,{unencodedVal:"1",fieldValLength:2}],[uo.SharingOptOutNotice,{unencodedVal:"1",fieldValLength:2}],[uo.TargetedAdvertisingOptOutNotice,{unencodedVal:"1",fieldValLength:2}],[uo.SensitiveDataProcessingOptOutNotice,{unencodedVal:"0",fieldValLength:2}],[uo.SensitiveDataLimitUseNotice,{unencodedVal:"0",fieldValLength:2}],[uo.SaleOptOut,{fieldValLength:2,optIn:go.OptedIn,optOut:go.OptedOut}],[uo.SharingOptOut,{fieldValLength:2,optIn:go.OptedIn,optOut:go.OptedOut}],[uo.TargetedAdvertisingOptOut,{fieldValLength:2,optIn:go.OptedIn,optOut:go.OptedOut}],[uo.SensitiveDataProcessing,{unencodedVal:"000000",fieldValLength:24}],[uo.KnownChildSensitiveDataConsents,{unencodedVal:"00",fieldValLength:4}],[uo.PersonalDataConsents,{unencodedVal:"0",fieldValLength:2}],[uo.MspaCoveredTransaction,{unencodedVal:"1",fieldValLength:2}],[uo.MspaOptOutOptionMode,{unencodedVal:"1",fieldValLength:2}],[uo.MspaServiceProviderMode,{unencodedVal:"1",fieldValLength:2}]]),this.sections={tcfeuv1:null,tcfeuv2:null,"":null,"--":null,tcfca:null,uspv1:this._config.ccpa.privacyString||null,usnat:this._config.ccpa.privacyString||null,usca:null,usva:null,usco:null,usut:null,usct:null}}init(){window.__gpp=this.gpp.bind(this),this.addLocatorFrame(),this.enableEvents(),this.setPrebidGPPString()}triggerEventCallbacks(e){const t=window.__gpp.events;if(t&&t.length){const i=this.returnPing();t.forEach((t=>{const s={eventName:e,listenerId:t.id,data:this.getEventData(e),pingData:i};t.callback(s)}))}}getEventData(e){if("sectionChange"===e)return this._supportedAPIs}enableEvents(){this._config.ccpa.consentChange.on((()=>{this.triggerEventCallbacks("sectionChange"),this.setPrebidGPPString()}))}setPrebidGPPString(){const e=this.createGPPString();this._ortb2.addOrtb2Reg(e,this._sectionList)}addEventListner(e,t){window.__gpp.events=window.__gpp.events||[],"lastId"in window.__gpp||(window.__gpp.lastId=0),window.__gpp.lastId++;const i=window.__gpp.lastId;return window.__gpp.events.push({id:i,callback:e,parameter:t}),{eventName:"listenerRegistered",listenerId:i,data:!0}}removeEventListner(e){let t=!1;const i=e;window.__gpp.events=window.__gpp.events||[];for(let e=0;e<window.__gpp.events.length;e++)if(window.__gpp.events[e].id==i){window.__gpp.events.splice(e,1),t=!0;break}return{eventName:"listenerRemoved",listenerId:i,data:t}}returnPing(){return{gppVersion:"1.0",cmpStatus:"loaded",cmpDisplayStatus:"visible",cmpId:0,supportedAPIs:this._supportedAPIs}}gpp(e,t,i){switch(e){case"ping":return this.returnPing();case"addEventListener":return this.addEventListner(t,i);case"removeEventListener":return this.removeEventListner(i);case"hasSection":if(i)return this.hasSection(i);case"getSection":if(i)return this.getSection(i);case"getField":if(i)return this.getField(i);case"getGPPData":return this.getGPPData()}}createUSNatString(){return this._usnatFieldOrder.reduce(((e,t)=>`${e}${this.getUSNatData(t,!0)}`),"")}createGPPString(){return`DBABTYA~${this.callUSPAPI("getUSPData").uspString}~${this.createUSNatString()}`}padStart(e,t){return e.padStart?e.padStart(t,"0"):`${e}${new Array(t).join("0")}`}encodedUSNat(e,t){const i=this._usnatFields.get(e)&&this._usnatFields.get(e).fieldValLength||0,s=(+t>>>0).toString(2);return this.padStart(s,i)}getUSNatData(e,t=!1){const i=this._usnatFields.get(e);if(!i)return"";if(i.unencodedVal)return t?this.encodedUSNat(e,i.unencodedVal):i.unencodedVal;const s=this._config.ccpa.privacyString===this.ccpaOptOut?i.optOut:i.optIn;return t?this.encodedUSNat(e,s||"0"):s}getGPPData(){return{sectionId:3,gppVersion:1,sectionList:this._sectionList,applicableSections:this._sectionList,gppString:this.createGPPString(),pingData:this.returnPing()}}hasSection(e){return!!this.sections[e]}getSection(e){return this.sections[e]?this.sections[e]:null}callUSPAPI(e){return this._ccpaComponent.uspapi(e,1,((e,t)=>{if(t)return e}))}getField(e){const t=e.split("."),i=t[0],s=t[1];return this.hasSection(i)?"uspv1"===i?this.callUSPAPI(s):"usnat"===i?this.getUSNatData(s):void 0:null}addLocatorFrame(){if(null===document.getElementById("__gppLocator")){const e=document.createElement("iframe");e.style.display="none",e.id="__gppLocator",e.name="__gppLocator",document.body.appendChild(e),window.__gpp_msghandler=e=>{const t="string"==typeof e.data;let i;try{i=t?JSON.parse(e.data):e.data}catch(e){i=null}if("object"==typeof i&&null!==i&&"__gppCall"in i){const s=i.__gppCall;window.__gpp(s.command,((i,n)=>{const r={__gppReturn:{returnValue:i,success:n,callId:s.callId}};e.source.postMessage(t?JSON.stringify(r):r,"*")}),s.parameter)}}}"__gpp"in window&&"function"==typeof window.__gpp||(window.__gpp=window.__gpp_stub,window.addEventListener("message",window.__gpp_msghandler,!1),window.__gpp_addFrame("__gppLocator"))}get enabled(){return"US"===this._config.context.country}};_o=I([ut("GPPComponent"),P(),O("design:paramtypes",[Ls,jr,Zs])],_o);let mo=class extends qs{constructor(e,t){super(),this._slotManager=e,this._slots=t}init(){let e=!1;this._slots.bidServed.on((t=>{t.servedPrebidBidResponse&&"gumgum"===t.servedPrebidBidResponse.bidder&&"Footer"===t.location&&(e=!0)})),this._slotManager.refreshing.on((t=>{t.filter((e=>"Footer"===e.location))&&e&&(e=!1,window.GUMGUM.removeISAd())}))}};mo=I([ut("GumGumInScreenComponent"),P(),O("design:paramtypes",[gn,Ns])],mo);let fo=class extends qs{constructor(e,t,i){super(),this._emailCaptureHandler=e,this._config=t,this._gdprEnforcement=i,this._hasRun=!1}init(){this._config.identityApi.optIn.on((({data:e,cb:t})=>this.identityOptIn(e,t).catch((()=>{})))),window.addEventListener("message",(e=>{if(window===window.top&&e&&e.origin===window.origin&&e.data&&"adthriveIdentityAPI"===e.data.message&&e.data.info){const t={message:"adthriveIdentityFinished",response:{}};this.identityOptIn(e.data.info,(i=>{var s;e.source instanceof MessagePort||e.source instanceof ServiceWorker||(t.response=i,null===(s=e.source)||void 0===s||s.postMessage(t,e.origin))})).catch((()=>{}))}}),!1)}start(){this._config.identityApi.apiReady.emit()}validateData(e){if(!e.source||"string"!=typeof e.source||e.source.length>20)throw Error("source required with 20 characters or less");if(!e.plainText&&!e.sha256)throw Error("plainText or sha256 required");if(e.plainText&&("string"!=typeof e.plainText||!ee(e.plainText)))throw Error(`plainText not string or not valid email: ${e.plainText}`);if(e.sha256&&("string"!=typeof e.sha256||64!==e.sha256.length))throw Error(`sha256 not string or not encoded properly: ${e.sha256}`)}buildPII(e){const t={source:e.source};return e.plainText&&(t.email=e.plainText),e.sha256&&(t.hash=e.sha256),t}async identityOptIn(e,t){try{if(!this._config.identityApi.enabled)throw Error("Identity API not enabled");if(this._hasRun)throw Error("Identity API Already Successfully Called");if(this._config.ccpa.userOptedOut)throw Error("User has opted out of CCPA");if(this._config.gdpr.enabled){if(!await this._gdprEnforcement.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[1]))throw Error("CafeMedia not given Purpose 1 consent to process identity data.")}this.validateData(e);const i=this.buildPII(e);this._emailCaptureHandler.emailCaptured.emit(i),t({success:!0,data:{message:"OK"}}),this._hasRun=!0}catch(e){t({success:!1,data:{message:e.message}})}}};fo=I([ut("IdentityAPIComponent"),P(),O("design:paramtypes",[Gs,Ls,an])],fo);let yo=class{constructor(e,t){this._gam=e,this._pageManager=t,this.scroll=new R,this.resize=new R,this.pageVisibility=new R,this.videoPlaying=new R,this.videoSlotRendered=new R,this.footerRefreshed=new R,this.addEventListeners(),this._gam.slotResponseReceived.on((({slot:e})=>{"Footer"===e.location&&this.footerRefreshed.emit()}))}addEventListeners(){let e=!1,t=!1;const i=()=>{e||(e=!0,setTimeout((()=>{this.scroll.emit(),e=!1}),100))},s=()=>{t||(t=!0,setTimeout((()=>{this.resize.emit(),t=!1}),100))};this._pageManager.scroll.on((()=>i())),this._pageManager.resize.on((()=>s())),this._pageManager.visibilityChange.on((()=>{this.pageVisibility.emit(document.hidden)}))}emitVideoPlayingEvent(e){this.videoPlaying.emit(e)}emitVideoSlotRenderedEvent(e){this.videoSlotRendered.emit(e)}};yo=I([A(),O("design:paramtypes",[Ks,Si])],yo);let vo=class extends qs{constructor(e,t,i){super(),this._config=e,this._gam=t,this._videoEventProxy=i,this._renderedSlotKey=new Map,this._filterKeys=new Set(["abgroup","pvk","bucket","branch","deployment","siteName","siteId"]),this._enabled=this._config.impressionLog.enabled}init(){this._gam.slotRenderEnded.on((e=>this._bannerSlotRenderEnded(e))),this._videoEventProxy.videoSlotRendered.on(this._videoSlotRenderEnded.bind(this))}get enabled(){return this._enabled}_getDecodedURI(e){try{return decodeURIComponent(e)}catch(e){return""}}_getTargetingData(e){const t=Qe(e.split("?")[1]);return{custParams:this._getDecodedURI(t.get("cust_params")||""),iu:t.get("iu")||"",sz:this._sizeStringToArray(t.get("sz"))||[1,1]}}_sizeStringToArray(e){if(e)return e.split("x").map((e=>parseInt(e)))}_bannerSlotRenderEnded({event:e,slot:t}){const i=e.slot.getAdUnitPath(),s=bt();this._renderedSlotKey.set(i,s);const n={adUnitPath:i,advertiserId:e.advertiserId,agnosticCreativeId:e.sourceAgnosticCreativeId,agnosticLineItemId:e.sourceAgnosticLineItemId,campaignId:e.campaignId,companyIds:e.companyIds,creativeId:e.creativeId,isEmpty:e.isEmpty,lineItemId:e.lineItemId,serviceName:e.serviceName,siteTargeting:this._filterTargeting(this._gam.getTargetingMap()),size:e.size,slotElementId:t.id,slotKey:s,slotTargeting:this._filterTargeting(t.getTargetingMap()),yieldGroupIds:e.yieldGroupIds};this._logImpressionEvent(n)}_videoSlotRenderEnded(e){const t=this._getTargetingData(e.tag),i={adUnitPath:t.iu,creativeId:e.gamCreativeId,isEmpty:e.isEmpty,lineItemId:e.gamLineItemId,size:t.sz,slotElementId:e.adUnitName,slotKey:bt(),slotTargeting:this._filterTargeting(Xe(t.custParams))};this._logImpressionEvent(i)}_filterTargeting(e){return Object.keys(e).filter((t=>!this._filterKeys.has(t)&&e[t].length)).reduce(((t,i)=>(t[i]=e[i],t)),{})}_logImpressionEvent(e){D.event("SlotRenderEnded","adImpression",e)}};vo=I([ut("ImpressionLogComponent"),P(),O("design:paramtypes",[Ls,Ks,yo])],vo);let bo=class extends qs{constructor(e,t,i){super(),this._googleAdManager=e,this._config=t,this._slotManager=i,this._locations=["Footer"]}init(){this._googleAdManager.slotRenderEnded.on((({slot:e,event:t})=>{this.slotRenderEnded(e,t)}))}slotRenderEnded(e,t){var i;t.isEmpty||2!==(null===(i=t.size)||void 0===i?void 0:i.length)||e.element&&this._locations.includes(e.location)&&e.sticky&&(e.element.setAttribute("closable","true"),this._addCloseButton(e))}_addCloseButton(e){const{element:t,location:i,refreshCount:s}=e,n=t.hasAttribute("closable"),r=t.querySelector(".adthrive-close");if(n&&!r){const e=document.createElement("span");e.innerHTML="&times;",e.className="adthrive-close",e.addEventListener("click",(()=>{const e=document.createEvent("Event");e.initEvent(`adthrive${i}Close`,!0,!0),t.parentElement&&(window.dispatchEvent(e),t.parentElement.removeChild(t),D.event("CloseButtonComponent","logCloseFooter","User clicked footer close button",{nref:s}),this._slotManager.destroy(t.id))})),t.appendChild(e)}}get enabled(){return this._config.adOptions.footerCloseButtonMigrated?"phone"===this._config.context.device?this._config.adOptions.footerCloseButtonMobile:this._config.adOptions.footerCloseButtonDesktop:this._config.adOptions.footerCloseButton}};function So(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}bo=I([ut("CloseButtonComponent"),P(),O("design:paramtypes",[Ks,Ls,gn])],bo);var Co="object"==typeof global&&global&&global.Object===Object&&global,wo="object"==typeof self&&self&&self.Object===Object&&self,Eo=Co||wo||Function("return this")(),ko=function(){return Eo.Date.now()},xo=/\s/;var To=/^\s+/;function Po(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&xo.test(e.charAt(t)););return t}(e)+1).replace(To,""):e}var Ao=Eo.Symbol,Io=Object.prototype,Mo=Io.hasOwnProperty,Oo=Io.toString,zo=Ao?Ao.toStringTag:void 0;var Ro=Object.prototype.toString;var Bo=Ao?Ao.toStringTag:void 0;function Do(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Bo&&Bo in Object(e)?function(e){var t=Mo.call(e,zo),i=e[zo];try{e[zo]=void 0;var s=!0}catch(e){}var n=Oo.call(e);return s&&(t?e[zo]=i:delete e[zo]),n}(e):function(e){return Ro.call(e)}(e)}var Vo=/^[-+]0x[0-9a-f]+$/i,Lo=/^0b[01]+$/i,Fo=/^0o[0-7]+$/i,No=parseInt;function Uo(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==Do(e)}(e))return NaN;if(So(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=So(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Po(e);var i=Lo.test(e);return i||Fo.test(e)?No(e.slice(2),i?2:8):Vo.test(e)?NaN:+e}var jo=Math.max,qo=Math.min;function Ho(e,t,i){var s,n,r,o,a,l,d=0,c=!1,h=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function u(t){var i=s,r=n;return s=n=void 0,d=t,o=e.apply(r,i)}function g(e){return d=e,a=setTimeout(m,t),c?u(e):o}function _(e){var i=e-l;return void 0===l||i>=t||i<0||h&&e-d>=r}function m(){var e=ko();if(_(e))return f(e);a=setTimeout(m,function(e){var i=t-(e-l);return h?qo(i,r-(e-d)):i}(e))}function f(e){return a=void 0,p&&s?u(e):(s=n=void 0,o)}function y(){var e=ko(),i=_(e);if(s=arguments,n=this,l=e,i){if(void 0===a)return g(l);if(h)return clearTimeout(a),a=setTimeout(m,t),u(l)}return void 0===a&&(a=setTimeout(m,t)),o}return t=Uo(t)||0,So(i)&&(c=!!i.leading,r=(h="maxWait"in i)?jo(Uo(i.maxWait)||0,t):r,p="trailing"in i?!!i.trailing:p),y.cancel=function(){void 0!==a&&clearTimeout(a),d=0,s=l=n=a=void 0},y.flush=function(){return void 0===a?o:f(ko())},y}function Go(e,t,i){var s=!0,n=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return So(i)&&(s="leading"in i?!!i.leading:s,n="trailing"in i?!!i.trailing:n),Ho(e,t,{leading:s,maxWait:t,trailing:n})}class $o{constructor(e,t){this._overlap=null,this._stuck=!1,this._start=0,this._cutoff=0,this._cutoffBuffer=20,this._element=e.element,t&&(e.stickyOverlapSelector?this._overlap=document.querySelector(e.stickyOverlapSelector):this._overlap=this.findOverlap(this._element),this._overlap),window.addEventListener("scroll",Go((()=>this.update()),500)),window.addEventListener("resize",Go((()=>{this.unstick(),this.update(),this.check()}),500)),window.addEventListener("scroll",(()=>this.check()))}update(){this._element&&(this._stuck||(this._start=this.getTop(this._element)),this._overlap&&(this._cutoff=this.getTop(this._overlap)))}check(){if(0!==this._start){const e=window.pageYOffset,t=this._element.offsetHeight+this._cutoffBuffer,i=0!==this._cutoff&&e+t>this._cutoff;this._start<e&&!i?this.stick():this.unstick()}}stick(){if(!this._stuck){const e=getComputedStyle(this._element,null),t=this._element.parentElement;if(t){const e=getComputedStyle(t,null);t.style.minHeight=e.getPropertyValue("height")}this._element.style.width||(this._element.style.width=e.getPropertyValue("width")),this._element.classList.add("adthrive-stuck"),this._stuck=!0}}unstick(){this._stuck&&(this._element.classList.remove("adthrive-stuck"),this._stuck=!1)}getTop(e){return e.getBoundingClientRect().top+window.pageYOffset}findOverlap(e){let t=null;for(;e.parentElement;){let i=(e=e.parentElement).nextElementSibling;for(;i&&Oe(i);)i=i.nextElementSibling;i&&i.offsetTop>0&&(!t||i.offsetTop<t.offsetTop)&&(t=i)}return t}}let Wo=class{constructor(e){this.config=e,this._headerVisibleEvents=[],this._headerHiddenEvents=[],this._header=null,this._isHeaderVisible=!0,this.handleUncollapse=()=>{},this.handleCollapse=e=>{if(e.mobileHeaderSelector){this.anchorVideoPlayerBelowNavbar(e,e.mobileHeaderSelector);const t=this.siteHeader(e.mobileHeaderSelector);t&&(t.onclick=e.siteHeaderOnClick)}},this.collapsiblePersistentHeaderObserver=new IntersectionObserver((e=>{for(const t of e)this._isHeaderVisible=t.isIntersecting,this._isHeaderVisible?this._headerVisibleEvents.forEach((e=>e())):this._headerHiddenEvents.forEach((e=>e()))}),{threshold:.95})}applyTransitionToElement(e){e.style.transition="all 0.2s ease-in-out"}pushElementBelowHeader(e,t){const i=this.getHeaderHeight(t);null!==i&&(e.style.top=`${i}px`)}anchorVideoPlayerBelowNavbar(e,t){const{playerElement:i,topBackgroundElement:s}=e,n=()=>{if(null!==this.getHeaderHeight(t)){this.applyTransitionToElement(s),this.applyTransitionToElement(i),this.pushElementBelowHeader(s,t),this.pushElementBelowHeader(i,t);const e=i.querySelector(".adthrive-top-collapse-wrapper-bar");e&&this.pushElementBelowHeader(e,t)}},r=()=>{s.style.top="0",i.style.top="0"};this._isHeaderVisible?n():r(),this._headerVisibleEvents.push(n),this._headerHiddenEvents.push(r)}getHeaderHeight(e){const t=this.siteHeader(e);if(!t)return null;return this.getElementHeight(t)}getElementHeight(e){return e.getBoundingClientRect().height}siteHeader(e){if(this._header)return this._header;const t=document.querySelector(e);return t?(this._header=t,this.collapsiblePersistentHeaderObserver.observe(this._header),this._header):null}};var Ko;Wo=I([A(),ut("TopCenterVideoPlayerForPersistentHeadersUtils"),O("design:paramtypes",[Ls])],Wo);let Qo=Ko=class{static changeState(e,t){const{mediaStarted:i,playerContainer:s,playerState:n,collapseMobileSubType:r}=e,o=this._shouldCollapse(s,i,r);if(!this._handleOtherVideoPlaying(t,e))switch(e.playerState){case 0:this._handleUnstarted(t,o,e);break;case 1:this._handleUncollapsedPlay(t,o,e);break;case 2:this._handleCollapsedPlay(t,o,e);break;case 8:this._handleNonLinearAdPlay(t,o,e);break;case 4:this._handleUserPauseCollapsed(t,o,e);break;case 3:this._handleUserPauseUncollapsed(t,o,e);break;case 5:this._handlePausedNotVisible(t,e);break;case 9:this._handleNonLinearAdPaused(t,e);break;case 6:this._handleOverlapped(t,o,e);break;case 10:this._handleNonLinearAdOverlapped(t,o,e);break;default:return e.playerState}return e.playerState}static _handleUnstarted(e,t,i){const s=i.playerInstance;4===e&&(i.collapseTimer.firstInView||(i.collapseTimer.firstInView=new Date),Ko.startEvent.emit(),t?(this.collapse(i),s.getViewable()&&s.play(!0),i.playerState=s._nonLinearAd?8:2):i.playerState=s._nonLinearAd?8:1)}static _handleOtherVideoPlaying(e,t){return 7===e&&(this.uncollapse(t),t.playerInstance.pause(!0),t.playerState=7,!0)}static _handleUncollapsedPlay(e,t,i){const{playerInstance:s}=i;4===e?t?(this.collapse(i),s.play(!0),i.playerState=2):s.play(!0):3===e?(s.pause(!0),i.playerState=5):1===e&&(i.playerState=3)}static _handleVideoHeight(e){const{playerElement:t,topBackgroundElement:i}=e;i&&t.offsetHeight>i.offsetHeight&&this._isCollapsed(e.playerState)&&(i.style.height=`${t.offsetHeight}px`)}static _handleCollapsedPlay(e,t,i){const{playerInstance:s,playerElement:n}=i;4===e?(this._handleVideoHeight(i),t?s.play(!0):(this.uncollapse(i),s.play(!0),i.playerState=1)):1===e?i.playerState=4:6===e?(i.lastCollapsedClasses=n.className,this.uncollapse(i),s.pause(!0),i.playerState=6):5===e&&(this.uncollapse(i),s.pause(!0),i.playerState=7)}static _handleNonLinearAdPlay(e,t,i){const{playerInstance:s}=i;4===e?t&&this.collapse(i):3===e?(s.pauseAd(!0),i.playerState=9):6===e&&(this.uncollapse(i),s.pauseAd(!0),i.playerState=10)}static _handleUserPauseCollapsed(e,t,i){const{playerInstance:s}=i;4!==e||t?1===e?i.playerState=2:5===e&&(this.uncollapse(i),s.pause(!0),i.playerState=7):(this.uncollapse(i),i.playerState=3)}static _handleUserPauseUncollapsed(e,t,i){4===e&&t?(this.collapse(i),i.playerState=4):1===e&&(i.playerState=1)}static _handlePausedNotVisible(e,t){const{playerInstance:i}=t;4===e&&(i.play(!0),t.playerState=1)}static _handleNonLinearAdPaused(e,t){const{playerInstance:i}=t;4===e?(i.pauseAd(!1),t.playerState=8):this.playerWouldOverlapFooter(t)&&(t.playerState=10)}static _handleOverlapped(e,t,i){const{playerInstance:s}=i;t&&!this.playerWouldOverlapFooter(i)?(this.collapse(i),s.play(!0),i.playerState=2):i.playerState=6}static _handleNonLinearAdOverlapped(e,t,i){const{playerInstance:s}=i;t&&!this.playerWouldOverlapFooter(i)?(this.collapse(i),s.pauseAd(!1),i.playerState=8):(s.pauseAd(!0),i.playerState=10)}static handleResize(e){this._isCollapsed(e.playerState)?("adthrive-collapse-mobile"===e.collapseType&&"adthrive-collapse-top-center"===e.collapseMobileSubType&&e.topBackgroundElement&&(e.topBackgroundElement.style.height=`${e.playerElement.offsetHeight}px`,e.topBackgroundElement.style.width=`${window.innerWidth}px`),e.forceMobile||"adthrive-collapse-sticky"!==e.collapseType||this._stickToSidebar(e)):this.resizeContainer(e)}static handleScroll(e){const t=Ts.playerViewable(e.playerElement),i=Ts.playerVisible(e.playerElement),s=this.playerWouldOverlapFooter(e),n=t?s?6:4:3;this.changeState(e,n),2===e.playerState||4===e.playerState?Ko.startCollapseTimer(e):Ko.stopCollapseTimer(e),this.viewableEvent.emit(t),this.visibleEvent.emit(i)}static handleOtherVideoPlaying(e){this.changeState(e,7)}static handlePageVisibilityChange(e,t){7!==t.playerState&&0!==t.playerState&&3!==t.playerState&&4!==t.playerState&&5!==t.playerState&&6!==t.playerState&&(e?t.playerInstance.pause(!0):t.playerInstance.play(!0))}static handleWidthBreak(e,t){7!==t.playerState&&0!==t.playerState&&(e.matches?(this._isCollapsed(t.playerState)&&(this.toggleCollapsedPlayerClasses(!1,t),"adthrive-collapse-sticky"===t.collapseType&&this._unstickFromSidebar(t.playerElement),t.forceMobile=!0,this.toggleCollapsedPlayerClasses(!0,t)),t.forceMobile=!0):(this.toggleCollapsedPlayerClasses(!1,t),t.forceMobile=!1,this._isCollapsed(t.playerState)&&(this.toggleCollapsedPlayerClasses(!0,t),"adthrive-collapse-sticky"===t.collapseType&&this._stickToSidebar(t))))}static handleClose(e){Ko.closeEvent.emit(),this.changeState(e,5),Ko.stopCollapseTimer(e),D.event("jw-player","handleClose",{timeElapsed:e.collapseTimer.timeCollapsed,device:Ie()?"desktop":"mobile",playerType:e.playerType})}static handleUserClick(e){this.changeState(e,1)}static collapse(e){this.disableCollapse||(this.collapseEvent.emit(),this.toggleCollapsedPlayerClasses(!0,e),e.forceMobile||"adthrive-collapse-sticky"!==e.collapseType||this._stickToSidebar(e),e.topBackgroundElement&&x.resolve(Wo).handleCollapse({playerElement:e.playerElement,topBackgroundElement:e.topBackgroundElement,siteHeaderOnClick:()=>this.uncollapse(e),mobileHeaderSelector:e.mobileHeaderSelector}),e.playerInstance.resize(),setTimeout((e=>{this.displayCloseButton(e)}),e.closeButtonTimeout,e))}static displayCloseButton(e){this._isCollapsed(e.playerState)&&(e.closeButton.style.display="inline-flex")}static uncollapse(e){Ko.uncollapseEvent.emit(),this.toggleCollapsedPlayerClasses(!1,e),this._unstickFromSidebar(e.playerElement),e.closeButton.style.display="none",this.resizeContainer(e),x.resolve(Wo).handleUncollapse()}static _shouldCollapse(e,t,i){if(Ts.isMobileLandscape())return!1;const s=i&&"adthrive-collapse-top-center"===i,n=Ts.getScrollTop(),r=Z(e).top,o=e.offsetHeight;return s?t&&n>=r:t&&n>=r+o/2}static _isCollapsed(e){return 2===e||4===e}static _stickToSidebar(e){e.stickyElement&&(e.playerElement.style.left=`${e.stickyElement.getBoundingClientRect().left}px`,e.playerElement.style.width=`${e.stickyElement.clientWidth}px`),e.playerElement.style.top=`${e.topMargin}px`}static _unstickFromSidebar(e){e.style.cssText=""}static playerWouldOverlapFooter(e){if(!e.footerElement)return!1;if(e.playerElement.className.includes("adthrive-collapse-bottom")||e.lastCollapsedClasses&&e.lastCollapsedClasses.includes("adthrive-collapse-bottom")){const t=W();return!(window.innerHeight-t<e.footerElement.getBoundingClientRect().top)}return!((e.topMargin||0)+e.playerElement.getBoundingClientRect().height<e.footerElement.getBoundingClientRect().top)}static toggleCollapsedPlayerClasses(e,t){const i=t.playerInstance.utils,s=st(i,"toggleClass")&&"function"==typeof i.toggleClass?i.toggleClass:()=>{};t.forceMobile?(s(t.playerElement,"adthrive-collapse-mobile",e),s(t.playerElement,t.collapseMobileSizeType,e),s(t.playerElement,t.collapseMobileSubType,e),this.repositionCollapseMobile(t,e)):(s(t.playerElement,t.collapseType,e),t.collapseSubType&&s(t.playerElement,t.collapseSubType,e),t.collapseMobileSizeType&&s(t.playerElement,t.collapseMobileSizeType,e),"adthrive-collapse-mobile"===t.collapseType&&(s(t.playerElement,t.collapseMobileSubType,e),this.repositionCollapseMobile(t,e)))}static repositionCollapseMobile(e,t){"adthrive-collapse-bottom-left"===e.collapseMobileSubType||"adthrive-collapse-bottom-right"===e.collapseMobileSubType?this.repositionCollapseMobileBottom(e):"adthrive-collapse-top-center"===e.collapseMobileSubType&&this.repositionCollapseMobileTop(e,t)}static repositionCollapseMobileTop(e,t){e.topBackgroundElement&&(e.topBackgroundElement.style.height=t?`${e.playerElement.offsetHeight}px`:"0")}static repositionCollapseMobileBottom(e){if(e.playerElement.className.includes("adthrive-collapse-bottom")||e.collapseMobileSubType&&e.collapseMobileSubType.indexOf("bottom")>-1){const t=W();e.playerElement.style.setProperty("top","auto","important"),e.playerElement.style.setProperty("bottom",`${t}px`,"important")}}static resizeContainer(e){e.playerContainer.style.height=`${e.playerElement.offsetHeight+30}px`}static startCollapseTimer(e){e.collapseTimer.isRunning||(e.collapseTimer.startTime?e.collapseTimer.lastCollapsedTime=new Date:(e.collapseTimer.startTime=new Date,e.collapseTimer.lastCollapsedTime=e.collapseTimer.startTime),e.collapseTimer.isRunning=!0)}static stopCollapseTimer(e){e.collapseTimer.isRunning&&(e.collapseTimer.lastCollapsedTime&&(e.collapseTimer.timeCollapsed+=Ze()-e.collapseTimer.lastCollapsedTime.getTime()),e.collapseTimer.isRunning=!1)}};Qo.collapseEvent=new R,Qo.uncollapseEvent=new R,Qo.closeEvent=new R,Qo.startEvent=new R,Qo.viewableEvent=new R,Qo.visibleEvent=new R,Qo.disableCollapse=!1,Qo=Ko=I([ut("CollapseUtils")],Qo);class Xo{constructor(e,t,i,s,n,r,o){this._config=e,this._slotManager=t,this._slot=i,this._stickyCloseButtonExperiment=s,this._eventProxy=n,this._videoCloseButton=r,this._amazonMethods=o,this._isRendered=!1,this._isClosed=!1}setup(){this._amazonMethods.isAmazonLoaded()&&this._config.amazon.enabled&&fe("https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"),this._isRendered||(this._isRendered=!0,this._appendCloseButton(),this._activate())}get renderState(){return this._isRendered}_activate(){this._handleWidthBreak(),this._eventProxy.videoPlaying.on(this._handleRelatedPlayClose.bind(this)),Qo.visibleEvent.on(this._handleCollapsiblePlayerVisible.bind(this)),this._slot.element.parentElement.classList.add("adthrive-sticky-outstream-active")}_appendCloseButton(){const e=this._slot.element,t=this._videoCloseButton.createPlayerCloseButton(this._handleCloseClick.bind(this),this._stickyCloseButtonExperiment.result,"adthrive-sticky-outstream-close");e.parentNode.insertBefore(t,e),setTimeout((()=>{t.style.display="inline-flex"}),this._config.video.closeButtonTimeout)}_logPlayerClose(e){Xo.closeEvent.emit(),D.event("StickyOutstream","handleClose",{device:Ie()?"desktop":"mobile",closeReason:e})}_handleCollapsiblePlayerVisible(e){e&&this._handleClose("collapsiblePlayerVisible")}_handleRelatedPlayClose(){this._handleClose("relatedPlay")}_handleCloseClick(){this._handleClose("closeClick")}_handleClose(e){if(this._isClosed)return;this._isClosed=!0;const t=this._slot.element,i=t.parentElement;this._logPlayerClose(e),i&&(i.removeChild(t),i.classList.remove("adthrive-sticky-outstream-active"),this._slotManager.destroy(t.id),this._removeListener())}_handleWidthBreak(){this._removeListener=this._eventProxy.footerRefreshed.on(this._handleFooterRefreshedEvent.bind(this)),this._repositionCollapseBottom()}_handleFooterRefreshedEvent(){this._repositionCollapseBottom()}_repositionCollapseBottom(){if("desktop"!==this._config.context.device){const e=W();this._slot.element.parentElement.style.setProperty("top","auto","important"),this._slot.element.parentElement.style.setProperty("bottom",`${e}px`,"important")}}}Xo.closeEvent=new R;let Yo=class extends xt{constructor(e){super(),this.abgroup=e,this.key="socbe",this._choices=[{choice:"sovpcc",weight:0},{choice:"sovpct1",weight:0},{choice:"sovpct2",weight:100}],this._result=this.run(),e.set(this.key,this._result)}get result(){return this._result}run(){return new At(this._choices).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Yo.prototype,"run",null),Yo=I([ut("StickyCloseButtonExperiment"),A(),O("design:paramtypes",[Ct])],Yo);let Jo=class extends qs{constructor(){super(...arguments),this._experimentResult="",this._hasTitleBar=!1,this._isButtonInsideContainer=!1,this._isButtonOutsideContainerTop=!1,this._isDefaultPosition=!1,this._isInstreamExperiment=!1,this._isTopCollapse=!1}createDefaultButton(e){const t=document.createElement("div");return t.innerHTML="<span>&times;</span>",t.className="adthrive-wrapper-close",t.style.display="none",t.id="adthrive-collapse-close",t.onclick=e,t}createPlayerCloseButton(e,t,i,s=!1,n=!1){this._hasTitleBar=s,this._isTopCollapse=n,this._isInstreamExperiment="tlo"===t||n,this._isButtonOutsideContainerTop="sovpct1"===t||"tlo"===t,this._isButtonInsideContainer="sovpct2"===t,this._isDefaultPosition="sovpcc"===t||"off"===t,this._experimentResult=t;const r=this._getButtonClasses(),o=this._getSvgOptions(),a=this._createCloseButton(r,i,o);return a.onclick=e,this._isButtonInsideContainer?this.applyCloseButtonWrapper(a):a}_getButtonClasses(){let e=[];return(this._isButtonOutsideContainerTop||this._isDefaultPosition)&&e.push("adthrive-wrapper-float-close"),this._isInstreamExperiment?e=[...e,...this._getInstreamClasses()]:"sovpcc"!==this._experimentResult&&e.push("adthrive-wrapper-close-outside-left"),e}_getInstreamClasses(){const e=["adthrive-instream-close"];return this._isTopCollapse?e.push("adthrive-top-collapse-close"):this._isButtonOutsideContainerTop&&e.push("adthrive-top-left-outer","adthrive-float-left"),e}_getSvgOptions(){return this._isButtonInsideContainer||this._isTopCollapse?{fillColor:"transparent",strokeColor:"white"}:{fillColor:"white",strokeColor:"black"}}_buildNewCloseButton(e,t){e.appendChild(this._createCloseButtonX(t)),e.appendChild(this._createCloseButtonCircleThatGoesAroundTheX(t))}_createCloseButton(e,t,i){const{fillColor:s,strokeColor:n}=null!=i?i:{fillColor:"white",strokeColor:"black"},r=this._createButtonHtml(e,t),o=this._createSvg(s);if(this._isTopCollapse)this._buildNewCloseButton(o,n);else{const e=this._createPath(n);o.appendChild(e)}return r.appendChild(o),r}_createButtonHtml(e,t){const i=document.createElement("div");return i.className=e.join(" "),i.id=t,i}_createSvg(e){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("width","18"),t.setAttribute("height","18"),t.setAttribute("fill",e),t}_createPath(e){const t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","M 0.5 9 A 5 5 0 0 0 17.5 9 A 5 5 0 0 0 0.5 9 M 9 9 L 7 7 L 11 11 M 9 9 L 7 11 L 11 7"),t.setAttribute("stroke",e),t.setAttribute("stroke-width","1"),t}_createCloseButtonCircleThatGoesAroundTheX(e){const t=document.createElementNS("http://www.w3.org/2000/svg","circle");return t.setAttribute("cx","9"),t.setAttribute("cy","9"),t.setAttribute("r","8"),t.setAttribute("stroke",e),t.setAttribute("stroke-width","2"),t.setAttribute("fill","none"),t}_createCloseButtonX(e){const t=document.createElementNS("http://www.w3.org/2000/svg","text");return t.setAttribute("x","9"),t.setAttribute("y","9"),t.setAttribute("text-anchor","middle"),t.setAttribute("stroke",e),t.setAttribute("fill",e),t.setAttribute("stroke-width","1px"),t.setAttribute("font-size","13px"),t.setAttribute("alignment-baseline","middle"),t.textContent="x",t}applyCloseButtonWrapper(e){const t=document.createElement("div"),i=["adthrive-wrapper-float-close","adthrive-wrapper-close-bkgd-50"];return this._hasTitleBar?i.push("adthrive-top-left-inner-wrapper"):i.push("adthrive-top-left-inner"),t.classList.add(...i),t.appendChild(e),t}};Jo=I([ut("VideoCloseButtonComponent"),P()],Jo);let Zo=class extends qs{constructor(e,t,i,s,n,r,o,a,l){super(),this._slots=e,this._config=t,this._slotManager=i,this._stickyCloseButtonExperiment=s,this._eventProxy=n,this._videoCloseButton=r,this._gam=o,this._outstream=a,this._amazonMethods=l,this._sticky=[],this._slots.added.on((e=>{e&&e.sticky&&(e.element.classList.add("adthrive-sticky"),"Sidebar"===e.location&&this._sticky.push(new $o(e,!0)),"Video_StickyOutstream"===e.location&&(this._stickyOutstream=new Xo(this._config,this._slotManager,e,this._stickyCloseButtonExperiment,this._eventProxy,this._videoCloseButton,this._amazonMethods)))})),this._amazonMethods.isAmazonLoaded()&&this._config.amazon.enabled&&this._gam.slotOnload.on((({slot:e})=>{const t=window.apsBidObject?window.apsBidObject.VAST:null;"Video_StickyOutstream"===e.location&&t&&(this._outstream.callANRendererWithUrl(t,e.id,!0),delete window.apsBidObject)}))}stickyOutstreamReady(){this._stickyOutstream&&!this._stickyOutstream.renderState&&this._stickyOutstream.setup()}};Zo=I([ut("StickyComponent"),P(),O("design:paramtypes",[Ns,Ls,gn,Yo,yo,Jo,Ks,_n,nn])],Zo);let ea=class{constructor(e,t,i){this._slots=e,this._slotManager=t,this._slotEventBus=i,this.slotIntersectionObservers=new Map,this.unobservedSlotIntersectionObservers=new Map,this._slotEventBus.unobserveBySlotLocation.on((e=>this.unobserveBySlotLocation(e)))}observe(e,t){const i=this.getIntersectionObserver(e);this.slotIntersectionObservers.set(t,i),this.unobservedSlotIntersectionObservers.set(t,i),i.observe(t.element)}unobserve(e){const t=this.unobservedSlotIntersectionObservers.get(e);t&&(t.unobserve(e.element),this.unobservedSlotIntersectionObservers.delete(e))}unobserveBySlotLocation(e){this.unobservedSlotIntersectionObservers.forEach(((t,i)=>{e.includes(i.location)&&i.sequence&&i.sequence<=9&&(this.unobserve(i),this._slotManager.display(i))}))}unobserveAll(){this.unobservedSlotIntersectionObservers.forEach(((e,t)=>{this.unobserve(t),this._slotManager.display(t)}))}getIntersectionObserver(e){const t=window.innerHeight*(e/100);return new IntersectionObserver((e=>{for(const t of e)this.processEntry(t)}),{rootMargin:`${t}px 0px`,threshold:[0]})}processEntry(e){const t=this._slots.get(e.target.id);t&&e.intersectionRatio>0&&this.unobservedSlotIntersectionObservers.has(t)&&(this._slotManager.display(t),this.unobserve(t))}};ea=I([ut("IntersectionObserverManager"),A(),O("design:paramtypes",[Ns,gn,zt])],ea);let ta=class extends qs{constructor(e,t,i,s,n,r,o){super(),this._config=e,this._gam=t,this._pageManager=i,this._slots=s,this._slotManager=n,this._sticky=r,this._intersectionObserverManager=o}init(){const e=this._slotManager;this._slotManager.added.on((t=>{for(const i of t)i.lazy?(Ks.pushToQueue((()=>{i.googleTagSlot.setTargeting("lazy","true")})),this._intersectionObserverManager.observe(this._config.lazyLoad.googleLazyLoadSettings.hbMarginPercent,i)):"Video_StickyOutstream"===i.location?this._pageManager.setupOnceEvent("scroll",(()=>{this._sticky.stickyOutstreamReady(),e.display([i]).catch((e=>{D.error("GoogleLazyLoadComponent","scroll","display stickyOutstream slot",e)}))})):(Ks.pushToQueue((()=>{i.googleTagSlot.setTargeting("lazy","false")})),e.display(i).catch((e=>{D.error("GoogleLazyLoadComponent","init","display non lazy slot",e)})))}))}};ta=I([ut("GoogleLazyLoadComponent"),P(),O("design:paramtypes",[Ls,Ks,Si,Ns,gn,Zo,ea])],ta);let ia=class extends qs{constructor(e,t){super(),this._gam=e,this._slotManager=t}init(){this._slotManager.added.on((e=>{Ks.pushToQueue((()=>{for(const t of e){const e=ne(t)||0;t.hvp=e,e>=50&&t.setTargeting({key:"hvp",value:e.toString()})}}))})),this._slotManager.refreshing.on((e=>{Ks.pushToQueue((()=>{for(const t of e)if(t.refreshCount<=2&&(!t.hvp||t.hvp<80)){const e=se(t)||0;t.hvp=e,e>=60&&t.setTargeting({key:"hvp",value:`${e}`})}}))}))}};ia=I([ut("HvpComponent"),P(),O("design:paramtypes",[Ks,gn])],ia);let sa=class{constructor(e){this._config=e}inject(){try{return this._config.marmalade.selectorMatches.reduce(this.processMatch.bind(this),[])}catch(e){D.error("MarmaladeInjector","inject",e)}return[]}processMatch(e,t){const{adUnit:i,match:s}=t,n=this.getElementId(i.location,i.sequence);if(!e.some((e=>e.location===i.location&&e.sequence===i.sequence))){const t=this.addAd(s,n,i.position,i.classNames);if(t){const s=new Fs(i.location,i.sequence,i.size,t,!1,i.lazy);e.push(s)}}return e}getElementId(e,t){return[this._config.gam.prefix,e,t].filter(it).join("_")}addAd(e,t,i,s=[]){const n=`<div id="${t}" class="adthrive-ad ${s.join(" ")}"></div>`;return e.insertAdjacentHTML(i,n),document.getElementById(t)}};sa=I([ut("MarmaladeInjector"),P(),O("design:paramtypes",[Ls])],sa);let na=class extends qs{constructor(e,t,i,s,n,r){super(),this._config=e,this._marmaladeInjector=t,this._slotManager=i,this._gam=s,this._prebidMethods=n,this._eventBus=r,this.mcmp=this._config.marmalade.mcmp.filter(te)}getRfCodes(e){const t=[];if(e){const i=this._config.marmalade;[...i.rfMcmpCodes,...i.rfIabCodes].forEach((i=>{const s=i[0];i[1].includes(e)&&t.push(s)}))}return t}init(){const e=this._marmaladeInjector.inject();e.forEach((e=>e.refreshInterval=0));const t=this._config.marmalade.siteCodes.filter(te),i=this._config.marmalade.flpProdIds.filter(te),s=this._config.marmalade.loaded?"true":"false";this._slotManager.requestingBids.once((()=>{this._gam.setTargetingFlag("rf",[String(this._eventBus.recencyFrequencyDataSet.emitted)])}));let n=this.getRfCodes("ix"),r=this.getRfCodes("gam");this._gam.setTargeting({key:"mcmp",value:[...this.mcmp,...r]}),this._gam.setTargeting({key:"site_code",value:t}),this._gam.setTargeting({key:"marmalade",value:s});const o=t.reduce(((e,t)=>(e[t]="True",e)),{}),a=()=>{r=this.getRfCodes("gam"),n=this.getRfCodes("ix"),this._gam.setTargeting({key:"mcmp",value:[...this.mcmp,...r]}),be({MCMP:[...n,...this.mcmp].join("#MCMP:"),...o},this._prebidMethods)};if(this._config.marmalade.rfDataProcessed.emitted?a():this._config.marmalade.rfDataProcessed.on((()=>a())),be({MCMP:[...n,...this.mcmp].join("#MCMP:"),...o},this._prebidMethods),e.length>0&&this._gam.started.on((()=>this._slotManager.add(e).catch((e=>{D.error("MarmaladeComponent","init",e)})))),i){((e,t)=>{window.addEventListener("message",(i=>{try{const{origin:s,source:n}=i,r=JSON.parse(i.data),o=r&&r.message===t.message;if(!s||!s.match(e)||!o)return;n.postMessage(JSON.stringify(t),s)}catch(e){return}}))})(/https:\/\/\S*\.safeframe.googlesyndication.com/i,{message:"adthriveFlippData",flippData:i})}}get enabled(){return!this._config.disableAds.all}};na=I([ut("MarmaladeComponent"),P(),O("design:paramtypes",[Ls,sa,gn,Ks,$s,Mt])],na);let ra=class extends qs{constructor(e,t,i){super(),this._config=e,this._gam=t,this._topicsApiIframeManager=i}get enabled(){return this._topicsApiIframeManager.enabled}init(){this._config.context.fledgeSupported&&this._gam.setTargeting({key:"fledge",value:"true"})}start(){const e=this._topicsApiIframeManager.topics;e.length>0?e.forEach((e=>{this._gam.setTargetingFlag("topicapi",[`${e.topic}`])})):this._topicsApiIframeManager.topicsDataRecevied.on((e=>{e.forEach((e=>{this._gam.setTargetingFlag("topicapi",[`${e.topic}`])}))}))}};ra=I([ut("OriginTrialComponent"),P(),O("design:paramtypes",[Ls,Ks,Ys])],ra);class oa{get enabled(){return!0}}let aa=class extends oa{constructor(e,t){super(),this._config=e,this._gam=t,this._liveRampBaseUrl="https://api.rlcdn.com/api/identity/envelope",this._pid=111,this._it=4,this._localKey="_lr_env"}get enabled(){var e;return(null===(e=this._config.liveRampAts)||void 0===e?void 0:e.enabled)&&"localStorage"in window}init(){window.localStorage.getItem(this._localKey)&&this._gam.setTargetingFlag("idp",["ats"])}async processPii(e){if(localStorage.getItem(this._localKey))return;let t=`${this._liveRampBaseUrl}?pid=${this._pid}&it=${this._it}&iv=${e.hash?e.hash:e.email}`;this._config.gdpr.enabled?t+=`&ct=4&cv=${e.consent}`:this._config.ccpa.required&&(t+=`&ct=4&cv=${Ye("usprivacy")}`);try{const e=await fetch(t,{method:"GET",keepalive:!0}),i=await e.text();if(i){const{envelope:e}=JSON.parse(i);return void localStorage.setItem(this._localKey,btoa(JSON.stringify({envelope:e,timestamp:+new Date})))}}catch(e){}}};aa=I([ut("LiveRampPiiPartner"),P(),O("design:paramtypes",[Ls,Ks])],aa);const la=(e,t)=>!e.idho.subModule||e.idho.subModule.name!==t;let da=class{constructor(e,t){var i;this._config=e,this._context=t,this._pixelUrl=`${window.location.origin}/wp-json/adthrive-pubcid/v1/extend`,this._sharedIdLegacy=localStorage.getItem("pbjs-pubcommonid"),this._sharedIdExpLegacy=localStorage.getItem("pbjs-pubcommonid_exp"),this._connectIdConfig=["connectId",{id:{name:"connectId",params:{pixelId:58404},storage:{name:"connectid",type:"html5",expires:15}},enabled:la(this._config,"connectId")&&this._config.liveRampAts.enabled,targetingKey:"cid"}],this._unifiedIdConfig=["unifiedId",{id:{name:"unifiedId",params:{url:"https://match.adsrvr.org/track/rid?ttd_pid=iowij76&fmt=json"},storage:{type:"html5",name:"pbjs-unifiedid",expires:60}},enabled:la(this._config,"unifiedId"),targetingKey:"uid1"}],this._id5IdConfig=["id5Id",{id:{name:"id5Id",params:{partner:367},storage:{type:"html5",name:"pbjs-id5id",expires:60,refreshInSeconds:28800}},enabled:la(this._config,"id5Id"),targetingKey:"id5"}],this._identityLinkConfig=["identityLink",{id:{name:"identityLink",params:{pid:"111"},storage:{type:"html5",name:"pbjs-identitylink",expires:60}},enabled:la(this._config,"identityLink"),targetingKey:"idl"}],this._criteoIdConfig=["criteo",{id:{name:"criteo",storage:{type:"html5",name:"pbjs-criteo",expires:60}},enabled:la(this._config,"criteo"),targetingKey:"cri"}],this._parrableIdConfig=["parrableId",{id:{name:"parrableId",params:{partner:"9fde8b8d-49db-4c9e-b841-0e777ab8d343"}},enabled:la(this._config,"parrableId")&&tt(),targetingKey:"par"}],this._sharedIdConfigStorage=["sharedId",{id:{name:"sharedId",storage:{type:"html5",name:this._sharedIdExpLegacy&&this._sharedIdLegacy&&(i=new Date(this._sharedIdExpLegacy).getTime(),i&&!(i<(new Date).getTime()))?"pbjs-pubcommonid":"_pubcid",expires:60}},enabled:la(this._config,"sharedId"),targetingKey:"shl"}],this._sharedIdConfigCookie=["sharedId",{id:{name:"sharedId",storage:{type:"cookie",name:"_pubcid",expires:60},params:this._context.integration&&ds("adthrive-ads-2.3.0",this._context.plugin)?{create:!1,pixelUrl:this._pixelUrl}:void 0},enabled:la(this._config,"sharedId"),targetingKey:"shc"}],this._fabrickIdConfig=["fabrickId",{id:{name:"fabrickId",params:{apiKey:"2215608639"},storage:{type:"html5",name:"pbjs_fabrickId",expires:60}},enabled:la(this._config,"fabrickId")&&!this._config.gdpr.enabled,targetingKey:"fab"}],this._fTrackIdConfig=["FTrack",{id:{name:"FTrack",params:{url:"https://d9.flashtalking.com/d9core",ids:{"device id":!0,"single device id":!0,"household id":!0}},storage:{type:"html5",name:"FTrackId",expires:60,refreshInSeconds:28800}},enabled:la(this._config,"FTrack")&&!this._config.gdpr.isRequired,targetingKey:"ftr"}],this.ids=new Map([this._getSharedIdConfig(),this._connectIdConfig,this._unifiedIdConfig,this._id5IdConfig,this._identityLinkConfig,this._criteoIdConfig,this._parrableIdConfig,this._fabrickIdConfig,this._fTrackIdConfig])}get(e){return this.ids.get(e)}forEach(e){return this.ids.forEach(e)}values(){return this.ids.values()}_getSharedIdConfig(){return Ye("_pubcid")?this._sharedIdConfigCookie:this._sharedIdConfigStorage}};da=I([ut("UserIds"),A(),O("design:paramtypes",[Ls,Ci])],da);let ca=class extends oa{constructor(e,t,i){super(),this._config=e,this._prebidMethods=t,this._userIds=i,this._submitted=!1,this.userId=i.get("connectId").id}get enabled(){return this._userIds.get("connectId").enabled}updateUserIds(){return this._prebidMethods.getConfig("userSync.userIds").map((e=>(e.name===this.userId.name&&(e=this.userId),e)))}processPii(e){this._prebidMethods.addToQueue((()=>{this.run(e)}))}run(e){if(e.hash&&this.userId.params&&!this._submitted){this.userId.params.he=e.hash,this._submitted=!0;const t=this.updateUserIds();this._prebidMethods.setConfig({userSync:{userIds:t}}),this._prebidMethods.refreshUserIds({submoduleNames:[this.userId.name]},(()=>{}))}}};ca=I([ut("YahooPiiPartner"),P(),O("design:paramtypes",[Ls,$s,da])],ca);let ha=class extends qs{constructor(e,t,i){super(),this._piiManager=e,this._partners=[t,i].filter((e=>e.enabled)),this._piiManager.piiCaptured.on((e=>{this._partners.forEach((t=>{t.processPii(e)}))}))}start(){this._partners.forEach((e=>e.init&&e.init())),this._piiManager.init()}};ha=I([ut("PiiCaptureComponent"),P(),O("design:paramtypes",[Vr,aa,ca])],ha);let pa=class extends qs{constructor(e){super(),this._slotManager=e,this._maxSlotRefreshCount=4}init(){this._slotManager.displaying.on((e=>{Ks.pushToQueue((()=>{e.forEach((e=>e.setTargeting({key:"refresh",value:"00"}))),e.forEach((e=>e.setTargeting({key:"nref",value:"0"})))}))})),this._slotManager.refreshing.on((e=>{Ks.pushToQueue((()=>{for(const t of e){const e=`0${Math.min(t.refreshCount,this._maxSlotRefreshCount)}`.slice(-2);t.setTargeting({key:"refresh",value:e}),t.setTargeting({key:"nref",value:t.refreshCount.toString()})}}))}))}};pa=I([ut("RefreshCountComponent"),P(),O("design:paramtypes",[gn])],pa);let ua=class extends xt{constructor(e,t){super(),this._result=!1,this.key="rebuildslot",this._choices=[{choice:!0},{choice:!1}],this.weight=.95;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ua.prototype,"run",null),ua=I([ut("RefreshRebuildExperiment"),A(),O("design:paramtypes",[Ct,Et])],ua);let ga=class extends qs{constructor(e,t){super(),this._slotManager=e,this._refreshRebuildExperiment=t}init(){this._slotManager.refreshing.on((e=>{e.filter(this.slotHasHighRefreshCountIncrement).forEach((e=>this._slotManager.rebuild(e)))}))}slotHasHighRefreshCountIncrement(e){return e.refreshCount%100==0}get enabled(){return this._refreshRebuildExperiment.result}};function _a(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var s=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===i&&s.firstChild?s.insertBefore(n,s.firstChild):s.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}ga=I([ut("RefreshRebuildComponent"),P(),O("design:paramtypes",[gn,ua])],ga);let ma=class extends qs{constructor(e){super(),this._config=e}start(){this._config.site.style&&this._config.site.style.length>0?_a(this._config.site.style):this._config.context.styleUrl&&(e=>{const t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,document.head.appendChild(t)})(this._config.context.styleUrl)}};ma=I([ut("SiteStyleComponent"),P(),O("design:paramtypes",[Ls])],ma);let fa=class extends qs{constructor(e){super(),this._gam=e}init(){const e=this.getReferrer();null!==e&&this._gam.setTargeting({key:"doc_ref",value:e})}getReferrer(){const e=_e();return e&&e.length&&ce("referrer",e),e}};fa=I([ut("TrafficSourceComponent"),P(),O("design:paramtypes",[Ks])],fa);let ya=class{constructor(e,t){this._gam=e,this._userIds=t}getStoredIdValue(e){let t;return"cookie"===e.type&&window.navigator.cookieEnabled?t=Ye(e.name):"html5"===e.type&&(t=window.localStorage.getItem(e.name)),t}getSyncedIdModules(e){return[...e].reduce(((e,t)=>void 0!==t.storage&&this.getStoredIdValue(t.storage)?(e.push(t.name),e):e),[])}setTargeting(e){const t=this.getSyncedIdModules(e).map((e=>{var t;return(null===(t=this._userIds.get(e))||void 0===t?void 0:t.targetingKey)||e}));this._gam.setTargetingFlag("idp",t)}};ya=I([ut("UserIdTargeting"),P(),O("design:paramtypes",[Ks,da])],ya);let va=class extends qs{constructor(e,t,i){super(),this._prebidMethods=e,this.userIdTargeting=t,this._userIds=i,this._enabledUserIds=[],this._ppid=null,this._enabledUserIds=[...i.values()].filter((e=>e.enabled)).map((e=>{if("sharedId"===e.id.name){const t=e.id.storage&&e.id.storage.name||"";this._ppid=localStorage.getItem(t),this._ppid&&(e.id.value={pubcid:this._ppid})}return e.id}))}init(){let e={userIds:this._enabledUserIds};this._ppid&&(e={ppid:"pubcid.org",...e}),this._prebidMethods.setConfig({userSync:e}),this.userIdTargeting.setTargeting([...this._userIds.values()].map((e=>e.id)))}};va=I([ut("UserIdComponent"),P(),O("design:paramtypes",[$s,ya,da])],va);let ba=class extends qs{constructor(e,t){super(),this._config=e,this._gam=t}init(){const e=Q(he("utm",18e5),{});["utm_medium","utm_campaign","utm_session","utm_source"].forEach((t=>{const i=this._config.context.querystring.get(t),s=Q(i,e[t]);this._gam.setTargeting({key:t,value:s}),s&&(e[t]=s)})),ce("utm",e)}};ba=I([ut("UTMComponent"),P(),O("design:paramtypes",[Ls,Ks])],ba);let Sa=class extends Ft{init(){this._key="mgtdtw"}};Sa=I([ut("TearDownPlayerExperiment"),A()],Sa);let Ca=class extends Dt{constructor(e,t,i){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this._positions=["bottom-left","bottom-right","bottom-center","top-left","top-right","top-center"],this._choices=[],this._mappedChoices=[],this._resultValidator=e=>this._positions.includes(e),this._result="control",this.key=je.MobileStickyPlayerPosition,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key),this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._mappedChoices=this._mapChoices(),this._result=this.run(),this.setExperimentTargeting())}run(){return super.run()}setExperimentTargeting(){if(!this.experimentConfig||!this._isValidResult(this._result))return void D.error("MobileStickyPlayerPositionSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config and valid result");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=`${this._result}`;return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}_mapChoices(){return this._choices.map((({weight:e,value:t})=>({weight:e,choice:String(t)})))}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Ca.prototype,"run",null),Ca=I([ut("MobileStickyPlayerPositionSiteExperiment"),A(),O("design:paramtypes",[Vt,wt,Ht])],Ca);let wa=class extends Ft{init(){this._key="tcmb"}isEnabled(){return super.isEnabled()&&ie()}run(){return super.run()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],wa.prototype,"run",null),wa=I([ut("TopCenterMobileBackgroundCoreExperiment"),A()],wa);let Ea=class extends xt{constructor(e){super(),this.abgroup=e,this.key="sicb",this._choices=[{choice:"tlo",weight:100}],this._result=this.run(),e.set(this.key,this._result)}get result(){return this._result}run(){return new At(this._choices).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Ea.prototype,"run",null),Ea=I([ut("StickyInstreamCloseButtonExperiment"),A(),O("design:paramtypes",[Ct])],Ea);let ka=class extends xt{constructor(e,t){super(),this.abgroup=e,this.key="sppe50",this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.weight=0;const i=t.getCoreExperiment(this.key);ie()&&i&&(this.weight=i.variants[0].weight,this._result=this.run(),this.abgroup.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};ka=I([P(),ut("StickyPlayerPositionExperiment"),O("design:paramtypes",[Ct,Et])],ka);class xa extends class{constructor(){}init(e){this.setup(e)}}{constructor(e,t,i,s,n,r,o,a,l="adthrive-collapse-float",d,c,h,p,u,g,_){var m;if(super(),this._playerId=e,this._playlistId=t,this._name=i,this._size=s,this._pageElement=n,this._eventProxy=r,this._vastLoadTimeout=o,this._config=a,this._collapseType=l,this._collapseMobileSizeType=d,this._prebidMethods=c,this._auctionManagers=h,this._playerType=p,this._isCollapsible=u,this._saveVideoCloseState=g,this._mobileLocation=_,this.initialAuctionPlayer=!1,this._prerollAdUrl="",this._prerollNum=0,this.jwVersion="",this.imaVersion="",this.requestVideoBids=()=>{throw new Error("Request video bids not set")},this.buildVideoUrl=()=>{throw new Error("Build video url not set")},this.setPlayerInstance=()=>{throw new Error("Reset player not set")},this.waitForConsent=()=>{throw new Error("Wait for consent not set")},this._defaults={},this._state=0,this._collapseCollection=null,this._adPlayed=!1,this._nextAdFetched=!1,this._adDurationLogged=!1,this._isFirstPlay=!0,this._createdSkipContainer=!1,this._calledNextVideo=!1,this._wasClicked=!1,this._canSkip=!0,this._isAdvancePlaylist=!1,this._adDetails=null,this._canTearDown=!1,this._tearDownAfterNextAd=!1,this._tearDownTimer=null,this._tearDownPlayerTimeout=0,this._stalePlayerTimer=null,this._currentAdTime=0,this._currentAdDurationWithBuffer=0,this._adTimingBuffer=10,this._defaultAdDuration=30,this._autoplayBehaviorConfig={autostart:"viewable",mute:!0},this._topBackgroundElement=null,this._bidMarkedOnCurrentAd=!1,this._baseConfig={advertising:{adscheduleid:"DmULPHgQ",client:"googima",maxRedirects:this._config.video.maxRedirect,requestTimeout:this._config.video.jwRequestTimeout,vastLoadTimeout:this._vastLoadTimeout,vpaidmode:"insecure",vpaidcontrols:!0},generateSEOMetadata:!0},this._prebidAuctionManager=this._auctionManagers.getPrebidAuctionManager(),this._stickyInstreamCloseButtonExperiment=x.resolve(Ea),this._stickyPlayerPositionExperiment=x.resolve(ka),this._topCenterMobileBackgroundCoreExperiment=x.resolve(wa),this._mobileStickyPlayerPositionSiteExperiment=x.resolve(Ca),this._videoCloseButtonComponent=x.resolve(Jo),window.matchMedia){const e=window.matchMedia(`only screen and (max-width: ${this._config.site.breakpoints.desktop-1}px)`);e.addListener(this.handleWidthBreak.bind(this)),this.handleWidthBreak(e)}const f=this._config.video.advancePlaylist;this._isAdvancePlaylist="playlist"===this._playerType?f.playlistPlayer.enabled:f.relatedPlayer.enabled,("contextual"!==this._playerType||this._isCollapsible&&f)&&(this._tearDownPlayerTimeout=null!==(m=x.resolve(Sa).result)&&void 0!==m?m:0,this._canTearDown=0!==this._tearDownPlayerTimeout&&-1!==this._tearDownPlayerTimeout)}get name(){return`${this._name}`}get collapsible(){return this._isCollapsible}get size(){return this._size}get vp(){return this._prerollNum<=1?this._prerollNum:this._prerollNum<=9?2:3}get isPlayerType(){return this._playerType}init(){this.setup()}getDefaults(){return this._defaults}setDefaults(e){this._defaults=e}resetAdVars(){this._adPlayed=!1,this._bidMarkedOnCurrentAd=!1,this._adDetails=null,this._nextAdFetched=!1,this._adDurationLogged=!1,this._currentAdTime=0,this._currentAdDurationWithBuffer=0,this._videoBidRequest=void 0,this._clearStaleTimers()}handleNextAdFetch(){if(!this._nextAdFetched){this._nextAdFetched=!0,this._prerollNum++;const e=this._videoBidRequest=this.requestVideoBids([this]);null==e||e.then((()=>this._prerollAdUrl=this.buildVideoUrl(this))).catch((()=>{}))}}preventCollapse(){Qo.disableCollapse=!0,this._collapseCollection&&Qo.uncollapse(this._collapseCollection)}playLinearAd(){const e=()=>{this._playerInstance._nonLinearAd=!1,this._playerInstance.playAd(this._prerollAdUrl),this._adPlayed=!0};this._videoBidRequest?this._videoBidRequest.then((()=>e())).catch((()=>{})):this._fetchBids().then((()=>e())).catch((()=>{}))}async _inViewPlay(){this._playerInstance.pause();const e=this._config.gdpr;!e.consentCaptured&&e.isRequired&&await this.waitForConsent(),this._videoBidRequest?await this._videoBidRequest:await this._fetchBids(),this._playerInstance.play(!0)}_setPlayerVersions(){const e=new RegExp("^[0-9]+.[0-9]+.[0-9]+"),t=this._playerInstance,i=e.exec(t.version);this.jwVersion=i&&i[0],this.imaVersion=t.plugins&&t.plugins.googima&&t.plugins.googima.version}_getPlayerVersions(){return{imaSDKVersion:this.imaVersion,jwVersion:this.jwVersion}}async _fetchBids(){const e=this._videoBidRequest=this.requestVideoBids([this]);await e,this._prerollAdUrl=this.buildVideoUrl(this)}_tearDownPlayer(){this._tearDownAfterNextAd&&(this._tearDownAfterNextAd=!1,this._tearDownTimer&&clearTimeout(this._tearDownTimer),this._playerInstance.remove(),this.addToPage(),this.setPlayerInstance(this),this.handleScroll())}_enableTearDown(){this._tearDownAfterNextAd=!0}_startTearDownTimer(){const e=this._tearDownPlayerTimeout;this._canTearDown&&(this._tearDownTimer=window.setTimeout(this._enableTearDown.bind(this),e))}_handleErrors(){["adError","setupError","error"].forEach((e=>{this._bidMarkedOnCurrentAd=!1;const t="adError"===e;this._playerInstance.on(e,(i=>{if(this._clearStaleTimers(),!this._adDetails){const e="tag"in i&&i.tag||"",t=e&&this._getCustParamsFromQueryString(e),s=t&&t.hb_adid,n=t&&t.hb_adomain;this._adDetails={adUnitName:this._name,tag:e,isEmpty:!0,adId:s&&String(s),adomain:n&&String(n)}}if(900===i.code&&this._eventProxy.emitVideoSlotRenderedEvent(this._adDetails),"setupError"===e&&this.preventCollapse(),D.error("JwPlayer",e,{code:i.code,...t&&{message:i.message,adErrorCode:i.adErrorCode},...this.getJwEventLog(i)}),"adError"===e){this._tearDownPlayer(),this._checkRenderedAdDetails();const e={message:i.message,code:i.code,adErrorCode:i.adErrorCode,...this._getPlayerVersions(),...this._getErrorLogAdDetails()};D.error("JwPlayer","vastError",e)}}))}))}_handleTimeEvents(){this._playerInstance.on("beforeComplete",(()=>{this.resetAdVars(),this._playerInstance._nonLinearAd=!1})),this._playerInstance.on("time",(({position:e,duration:t})=>{!this._nextAdFetched&&t-e<5&&this.handleNextAdFetch()})),this._playerInstance.on("adTime",(e=>{if(this._currentAdTime=e.position,this._config.video.logAdDuration&&!this._adDurationLogged){const t={adDuration:e.duration,roundedAdDuration:Math.round(e.duration)};D.event("VideoManager","VideoAdDuration",t),this._adDurationLogged=!0}})),this._playerInstance.on("adComplete",(()=>{this._tearDownPlayer()}))}async _triggerAdPlay(){const e=this._config.gdpr;!e.consentCaptured&&e.isRequired&&await this.waitForConsent(),this._adPlayed||(this.playLinearAd(),this._isFirstPlay=!1)}_handlePlayingEvents(){["play","adPlay","pause","adSkipped","adPause","firstFrame"].forEach((e=>{const t="firstFrame"===e,i="play"===e,s="adPlay"===e,n="pause"===e,r="adPause"===e,o="adSkipped"===e;this._playerInstance.on(e,(e=>{if((t||i||r||o)&&(this._clearStaleTimers(),t&&this._isAdvancePlaylist?this._triggerAdPlay():r&&this._playerInstance.once("adPlay",(()=>{0!==this._currentAdTime&&this._setStaleAdDetection()}))),(i||s)&&(this._eventProxy.emitVideoPlayingEvent(this._playlistId),s&&this._checkRenderedAdDetails()),i||n){const t="pauseReason"in e&&e.pauseReason||"playReason"in e&&e.playReason&&!this._calledNextVideo;t&&"interaction"===t&&this.handleUserClick()}})),(i||s)&&this._collapseCollection&&this._playerInstance.once(e,(()=>{this._collapseCollection.mediaStarted=!0,this.handleScroll()}))})),this._playerInstance.on("beforePlay",(()=>{this._triggerAdPlay()}))}_checkRenderedAdDetails(){const e=this._prebidAuctionManager,t=this._adDetails;if(!e||!t||this._bidMarkedOnCurrentAd)return;const i=t.gamCreativeId,s=t.wrapperSystems;this._markPrebidBidAsUsed(i,e,s)}_markPrebidBidAsUsed(e="",t,i=[]){const s=e&&t.videoCreativeIdMapping.get(e);let n=!1,r=!1,o=!1;if(i.forEach((e=>{const t=e.toLowerCase();"gdfp"===t&&(r=!0),"prebid.org wrapper"===t?n=!0:"amazon"===t&&(o=!0)})),s){const e=this._adDetails,t=(e&&e.tag&&this._getCustParamsFromQueryString(e.tag)||{})[`hb_adid_${s}`.substring(0,20)];t&&(this._prebidMethods.markWinningBidAsUsed({adUnitCode:this.name,adId:t}),this._bidMarkedOnCurrentAd=!0)}else e?D.event("JwPlayer","MarkBidsAsUsed",{message:"Creative Id Not Found",gamCreativeId:e}):((n||r&&!o||!i.length)&&(this._bidMarkedOnCurrentAd=!0,this._prebidMethods.markWinningBidAsUsed({adUnitCode:this.name})),D.event("JwPlayer","MarkBidsAsUsed",{message:"Missing Creative Id"}))}_getCustParamsFromQueryString(e){const t=e&&Qe(e.split("?")[1]),i=t&&t.get("cust_params");return i&&Xe(this._getDecodedURI(i))}_getDecodedURI(e){try{return decodeURIComponent(e)}catch(e){return""}}_getAdDetailsFromAd(e){return e&&Object.keys(e).length>0?e[Object.keys(e)[0]]:null}_handleAdTrackingEvents(){this._playerInstance.on("adLoaded",(e=>{const t=e.ima&&e.ima.ad&&this._getAdDetailsFromAd(e.ima.ad),i=t&&t.duration||e.duration||this._defaultAdDuration;this._currentAdDurationWithBuffer=i+this._adTimingBuffer;const s=e.tag;if(t){const i=s&&this._getCustParamsFromQueryString(s),n=i&&i.hb_adid,r=i&&i.hb_adomain;this._adDetails={wrapperIds:t.adWrapperIds,gamCreativeId:t.adWrapperCreativeIds[t.adWrapperCreativeIds.length-1],gamLineItemId:t.adWrapperIds[t.adWrapperIds.length-1],wrapperCreativeIds:t.adWrapperCreativeIds,vastCreativeId:t.creativeId,mediaFileURL:t.mediaUrl,adId:n&&String(n),adUnitName:this._name,adomain:r&&String(r),tag:e.tag,isEmpty:!1,wrapperSystems:t.adWrapperSystems}}this._setStaleAdDetection()})),this._playerInstance.on("adImpression",(()=>{const e=this._adDetails||{};this._eventProxy.emitVideoSlotRenderedEvent(e)})),this._config.video.logAdLifeCycle&&["adRequest","adImpression","adStarted","adViewableImpression"].forEach((e=>{this._playerInstance.on(e,(t=>{D.event("JwPlayer",e,this.getJwEventLog(t))}))}))}_setupEventProxies(){"adthrive-collapse-mobile"===this._collapseType&&this._eventProxy.footerRefreshed.on(this.handleFooterRefreshedEvent.bind(this)),this._eventProxy.scroll.on(this.handleScroll.bind(this)),this._eventProxy.resize.on(this.handleResize.bind(this)),this._eventProxy.pageVisibility.on(this.handlePageVisibilityChange.bind(this)),this._eventProxy.videoPlaying.on(this.handleVideoPlayingEvent.bind(this))}_setupEventListeners(){this._handleErrors(),this._listenForLargeVastError(),this._handleTimeEvents(),this._handlePlayingEvents(),this._handleAdTrackingEvents(),this._setupEventProxies(),this._playerInstance.on("ready",this._playerReady.bind(this))}_playerReady(e){this._startTearDownTimer(),this.configureQuality(),this._setPlayerVersions()}jwSetup(e){const t={...this._defaults,...this._baseConfig,...e};this._playerInstance.setup(t),this.handleNonLinearAd(),this._setupEventListeners()}_clearStaleTimers(){this._stalePlayerTimer&&(clearTimeout(this._stalePlayerTimer),this._stalePlayerTimer=null)}_listenForLargeVastError(){this._prebidMethods.onEvent("vastExceededLimit",(e=>{const t={meta:e.bids[0].meta,bidder:e.bids[0].bidder,adId:e.bids[0].adId,creativeId:e.bids[0].creativeId,responseSize:e.responseSize,maxSizeAllowed:e.maxSizeAllowed};D.error("JwPlayer","listenForLargeVastError",t)}))}_getErrorLogAdDetails(){return(({wrapperIds:e,wrapperCreativeIds:t,wrapperSystems:i,vastCreativeId:s,mediaFileURL:n,adId:r,adUnitName:o,adomain:a})=>({wrapperIds:e,wrapperCreativeIds:t,wrapperSystems:i,vastCreativeId:s,mediaFileURL:n,adId:r,adUnitName:o,adomain:a&&encodeURIComponent(a)}))(this._adDetails||{})}_setStaleAdDetection(){const e=this._currentAdDurationWithBuffer-this._currentAdTime;this._stalePlayerTimer||(this._stalePlayerTimer=window.setTimeout((()=>{D.error("JwPlayer","stalePlayer",{message:"JwPlayer encountered an unknown error during ad play",...this._getPlayerVersions(),...this._getErrorLogAdDetails()}),-1===this._tearDownPlayerTimeout?(this._enableTearDown(),this._tearDownPlayer()):this._playerInstance.playlistItem(this._playerInstance.getPlaylistIndex())}),1e3*e))}getJwEventLog(e){return{playerName:this._name,rawData:this.trimEventData(e)}}set videoAdUnit(e){this._videoAdUnit=e}get videoAdUnit(){return this._videoAdUnit}handleNonLinearAd(){this._playerInstance.on("adImpression",(e=>{const t=st(e.ima,"ad")?e.ima.ad:null,i=this._getAdDetailsFromAd(t);if(i&&st(i,"linear")&&!1===i.linear||"nonlinear"===e.linear){this._playerInstance._nonLinearAd=!0,this._playerInstance.pause();const e=document.getElementById(`${this._playlistId}`),t=e.querySelector("div > div.jw-overlays.jw-reset");t.style.backgroundColor="black";const i=e.querySelector("div.jw-wrapper.jw-reset > div.jw-controls.jw-reset");i.style.zIndex="-1",this._playerInstance.once("adComplete",(()=>{this._playerInstance._nonLinearAd=!1,t.style.backgroundColor="transparent",i.style.zIndex="",this._playerInstance.play()}))}}))}getJwBoostTargeting(){return{playerID:this._playlistId,...(this.name===Ve.Video_In_Post_ClicktoPlay_SoundOn||this.name===Ve.Video_Individual_Autoplay_SOff)&&{mediaID:this._playlistId}}}async handleScroll(){const e=this._config.gdpr;!e.consentCaptured&&e.isRequired&&await this.waitForConsent(),this._collapseCollection&&(this._videoBidRequest?await this._videoBidRequest:await this._fetchBids(),Qo.handleScroll(this._collapseCollection))}handleResize(){this._collapseCollection&&Qo.handleResize(this._collapseCollection)}handlePageVisibilityChange(e){this._collapseCollection&&Qo.handlePageVisibilityChange(e,this._collapseCollection)}displayCloseButton(){this._collapseCollection&&Qo.displayCloseButton(this._collapseCollection)}handleClose(){this._collapseCollection&&(this._saveVideoCloseState&&ce("video_closed",!0),Qo.handleClose(this._collapseCollection))}handleUserClick(){this._collapseCollection&&Qo.handleUserClick(this._collapseCollection)}handleWidthBreak(e){this._collapseCollection&&Qo.handleWidthBreak(e,this._collapseCollection)}handleVideoPlayingEvent(e){e!==this._playlistId&&(this._collapseCollection?Qo.handleOtherVideoPlaying(this._collapseCollection):this._playerInstance.pause(!0))}handleTitleClick(e){this._collapseCollection.collapseTimer.firstInView&&D.event("jw-player","handleTitleClick",{timeElapsed:Date.now()-this._collapseCollection.collapseTimer.firstInView.valueOf(),link:e.currentTarget.getAttribute("href")})}handleFooterRefreshedEvent(){this._collapseCollection&&Qo.repositionCollapseMobileBottom(this._collapseCollection)}configureQuality(){Ie()||this._playerInstance.on("levels",(e=>{this._playerInstance.setCurrentQuality(e.levels.length-1)}))}createDefaultButton(){return this._videoCloseButtonComponent.createDefaultButton(this.handleClose.bind(this))}createPlayerCloseButton(){const e=this._wrapperTitleWrapperElement||this._videoTitleElement;return this._closeButton=this._videoCloseButtonComponent.createPlayerCloseButton(this.handleClose.bind(this),this._stickyInstreamCloseButtonExperiment.result,"adthrive-collapse-close",!!e,this._isTopCollapse),this._closeButton}createPlayerCollapseBackgroundElement(){const e=document.createElement("div");return e.classList.add("adthrive-collapse-mobile-background"),e.style.width=`${window.innerWidth}px`,e.style.display="inline",e.style.height="0",e}createLinkIcon(e){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width","24"),t.setAttribute("height","24"),t.setAttribute("style","vertical-align: top;");const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d","M 16 1 H 23 V 8 Z M 19.5 12.5 V 23 H 1 V 4.5 H 12 l 1 1 H 2 V 22 H 18.5 V 11.5 l 1 1 v 1 M 19 4 L 11.5 11.5 l 1 1 L 20 5"),i.setAttribute("stroke","white"),i.setAttribute("stroke-width","2"),i.setAttribute("stroke-linejoin","round"),t.appendChild(i),t.id=`${e}-svg-link`,t}createLearnMoreLink(e){const t=document.createElement("a");return t.classList.add("adthrive-learn-more-link"),t.innerText="Tap here to learn more.",t.id=`${e}-learn-more-link`,t}createPlayerWrapper(e){if(e){this._wrapperTitleWrapperElement=document.createElement("a");const e=this.createLinkIcon(this._playlistId);this._wrapperTitleWrapperElement.appendChild(e)}else this._wrapperTitleWrapperElement=document.createElement("div");this._videoTitleElement=document.createElement("span");const t=document.createElement("div"),i=document.createElement("div");return i.className="adthrive-wrapper-title-wrapper",this._videoTitleElement.classList.add("adthrive-video-text-cutoff"),this._videoTitleElement.classList.add("adthrive-video-title"),this._wrapperTitleWrapperElement.className="adthrive-video-text-cutoff",this._wrapperTitleWrapperElement.appendChild(this._videoTitleElement),this._wrapperTitleWrapperElement.target="_blank",this._wrapperTitleWrapperElement.onclick=this.handleTitleClick.bind(this),this._closeButton="off"!==this._stickyInstreamCloseButtonExperiment.result||this._isTopCollapse?this.createPlayerCloseButton():this.createDefaultButton(),i.appendChild(this._wrapperTitleWrapperElement),t.className="adthrive-wrapper-bar",t.appendChild(i),t.appendChild(this._closeButton),t}createTopCollapseWrapper(e=!0){const t=document.createElement("div");t.className="adthrive-top-collapse-wrapper-bar",this._closeButton=this.createPlayerCloseButton();const i=document.createElement("div");i.style.minHeight="33px",i.appendChild(this._closeButton),t.appendChild(i);const s=document.createElement("a");if(this._topCollapseVideoTitleElement=document.createElement("span"),this._topCollapseVideoTitleElement.classList.add("adthrive-top-collapse-wrapper-video-title"),s.appendChild(this._topCollapseVideoTitleElement),e){const e=this.createLearnMoreLink(this._playlistId);s.appendChild(e),s.onclick=this.handleTitleClick.bind(this)}return t.appendChild(s),this._wrapperText=s,t}trimEventData(e){var t,i;const s={...e},n=s.ima&&s.ima.ad&&this._getAdDetailsFromAd(s.ima.ad);return(null==s?void 0:s.tag)&&delete s.tag,n&&n.traffickingParameters&&delete n.traffickingParameters,(null===(i=null===(t=null==s?void 0:s.ima)||void 0===t?void 0:t.userRequestContext)||void 0===i?void 0:i.adTagUrl)&&delete s.ima.userRequestContext.adTagUrl,(null==s?void 0:s.mediaFile)&&delete s.mediaFile,s}handleNextButton(){this._calledNextVideo=!0,this.removeSkipContainer(),this.resetAdVars(),this._isAdvancePlaylist&&1===this._playerInstance.getPlaylist().length?(this._playerInstance.pause(),this._playerInstance.seek(0),this._playerInstance.trigger("firstFrame",{loadTime:0,viewable:1})):this._playerInstance.next()}createNavButton(e){const t=document.createElement("div");return t.id=`${e}-video`,t.textContent=e.charAt(0).toUpperCase()+e.slice(1),Zt(15)||Zt(16)||((e=navigator.userAgent)=>G(e)&&Ie(e))()||t.classList.add("video-box-shadow"),t}createSkipContainer(){const e=document.createElement("div");e.id="next-stay-container";const t=this.createNavButton("next");return t.onclick=this.handleNextButton.bind(this),e.appendChild(t),e.appendChild(this.createNavButton("stay")),e}initSkipContainer(){this._playerInstance.on("time",(({position:e,duration:t})=>{if(!this._canSkip||this._playerInstance._nonLinearAd||this._wasClicked||t<5)return;const i=t<40,s=i?e>=t-5:e>=25,n=i?e>=t:e>=30;!this._createdSkipContainer&&s?(this._createdSkipContainer=!0,this.handleNextAdFetch(),this._skipContainer=this.createSkipContainer(),this._playerInstance.getContainer().appendChild(this._skipContainer),getComputedStyle(this._skipContainer).backgroundColor&&this._skipContainer.classList.add("loaded")):this._createdSkipContainer&&!this._calledNextVideo&&n&&this.handleNextButton()}))}handleVideoPlayerClicked(){this._wasClicked=!0,this.removeSkipContainer()}removeSkipContainer(){var e,t;null===(t=null===(e=this._skipContainer)||void 0===e?void 0:e.parentNode)||void 0===t||t.removeChild(this._skipContainer),this._skipContainer=void 0}handleFirstFrame(){this._calledNextVideo=!1,this._createdSkipContainer=!1,this._wasClicked=!1}_getCollapseMobileSubType(){const e=this._mobileStickyPlayerPositionSiteExperiment.enabled,t=this._mobileStickyPlayerPositionSiteExperiment.result;return e&&t&&"control"!==t?Ts.setMobileLocation(t):this._stickyPlayerPositionExperiment.result?"adthrive-collapse-top-center":this._mobileLocation}get _isTopCollapse(){return"adthrive-collapse-top-center"===this._getCollapseMobileSubType()}isTopCenterCollapse(){return"adthrive-collapse-mobile"===this._collapseType&&this._isTopCollapse}createTopCenterBackground(e){this._topBackgroundElement=this.createPlayerCollapseBackgroundElement();const t=this._getTopCenterBackgroundColor();t&&(this._topBackgroundElement.style.backgroundColor=t),e.appendChild(this._topBackgroundElement)}_getTopCenterBackgroundColor(){const e=this._topCenterMobileBackgroundCoreExperiment.result;if(e){const t={b:"#000000",w:"#ffffff",g25:"#f7f7f7",g50:"#3f3f3f"};return t[e]?t[e]:(D.error("InstreamPlayer","get topBackgroundColor","invalid result:",e),null)}return null}}let Ta=class extends xa{constructor(e,t,i,s,n,r,o,a,l,d,c,h,p,u){super(e,t,i,s,n,r,1e4,o,l,d,c,h,"contextual",a,undefined,p),this._mobileHeaderSelector=u,this._topBackgroundElement=null,this._playerConfig={repeat:!0,nextupoffset:-.01,playlist:`https://cdn.jwplayer.com/v2/media/${this._playlistId}`,height:"auto"},this._wrapperBarRemoved=!1,this._playerElement=document.createElement("div"),this._canSkip=!1,this._autoplayStationaryPlayer=this._shouldStationaryAutoplay(),(a||this._autoplayStationaryPlayer)&&(this._playerConfig={...this._playerConfig,...this._autoplayBehaviorConfig},this.initialAuctionPlayer=!0,this._stickyElement=null,this._playerContainer=this._pageElement)}addToPage(){}_appendPlayer(){const e=document.createElement("div");e.id=this._playlistId,e.className="adthrive-jw-static-player",this._isCollapsible?(this._pageElement.id="adthrive-contextual-container",this._playerElement.className="adthrive-player-position",this._playerElement.id="adthrive-contextual-position",this.isTopCenterCollapse()&&this.createTopCenterBackground(this._pageElement),this._config.video.removeVideoTitleWrapper?this.addCloseWithoutWrapper():this.isTopCenterCollapse()?this.addTopCenterWrapper():this.addPlayerWithoutWrapper(),this._playerElement.appendChild(e),this._pageElement.appendChild(this._playerElement)):this._pageElement.appendChild(e)}setup(){this._isFirstPlay&&this._appendPlayer(),this._playerInstance=window.jwplayer(this._playlistId),this._isCollapsible&&(this._collapseCollection={playerInstance:this._playerInstance,playerType:"contextualCollapse",playerState:this._state,playerContainer:this._pageElement,playerElement:this._playerElement,topBackgroundElement:this._topBackgroundElement,footerElement:this._config.video.footerSelector?document.querySelector(this._config.video.footerSelector):null,stickyElement:this._stickyElement,closeButton:this._closeButton,closeButtonTimeout:this._config.video.closeButtonTimeout,forceMobile:"desktop"!==this._config.context.device,collapseType:this._collapseType,collapseMobileSizeType:this._collapseMobileSizeType,collapseSubType:"adthrive-collapse-bottom-right",collapseMobileSubType:this._getCollapseMobileSubType(),mobileHeaderSelector:this._mobileHeaderSelector||null,collapseTimer:{timeCollapsed:0,isRunning:!1},mediaStarted:!1}),this.jwSetup(this._playerConfig),this._config.video.contextualPlayerAdded=!0}_logStationaryAutoplay(){this._config.video.logAdLifeCycle&&D.event("JwPlayer","StaticPlayer",{message:`Static Player set to autoplay for playlist id ${this._playlistId}`,...this._getPlayerVersions()})}loadPlaylistPlayerVideos(){this._config.video.jwPlaylist.then((e=>{if(e.playlist&&e.playlist.length){const t=this._playerInstance.getPlaylist().concat(Ts.shufflePlaylist(e.playlist));this._playerInstance.once("userInactive",(()=>{var e;!(null===(e=this._collapseCollection)||void 0===e?void 0:e.mediaStarted)&&this.handleScroll()})),this._playerInstance.load(t),this.handleScroll().catch((()=>!1))}})).catch((()=>!1))}setupAllowSkip(){this._config.video.advancePlaylist.relatedPlayer.applyToFirst&&(this._canSkip=!0),this._playerInstance.once("complete",(()=>{this.hideWrapperBar(),this._canSkip=!0}))}handleNextButton(){this.hideWrapperBar(),super.handleNextButton()}_shouldStationaryAutoplay(){return!this._config.video.playlistPlayerAdded&&!!document.querySelector("body.adthrive-video-autoplay")}setWrapperBar(){this._wrapperBar=this._playerElement.querySelector(".adthrive-wrapper-bar")}hideWrapperBar(){const e=this._wrapperBar,t=this._playerElement;!this._wrapperBarRemoved&&e&&(this._wrapperBarRemoved=!0,e.parentNode&&e.parentNode.removeChild(e),this._wrapperBar=null,t.insertBefore(this.createPlayerCloseButton(),t.firstChild),this._collapseCollection&&(this._collapseCollection.closeButton=this._closeButton,this.displayCloseButton()))}addCloseWithoutWrapper(){this._playerElement.appendChild(this.createPlayerCloseButton()),this._playerElement.classList.add("adthrive-player-without-wrapper-text")}addTopCenterWrapper(){this._playerElement.appendChild(this.createPlayerWrapper(!1)),this._playerElement.appendChild(this.createTopCollapseWrapper(!1)),this._playerElement.classList.add("adthrive-player-with-wrapper-text")}addPlayerWithoutWrapper(){this._playerElement.appendChild(this.createPlayerWrapper(!1)),this._playerElement.classList.add("adthrive-player-without-wrapper-text")}initRelatedPlaylist(){this._config.video.advancePlaylist.relatedPlayer.shouldRun.then((e=>{e&&(this.loadPlaylistPlayerVideos(),this.setupAllowSkip(),this._playerInstance.on("firstFrame",(()=>this.handleFirstFrame())),this._playerInstance.getContainer().addEventListener("click",(()=>this.handleVideoPlayerClicked())),this.initSkipContainer())})).catch((()=>!1))}setTitleTextForVideoTitleElement(e){const t=this._playerInstance.getPlaylistItem(0),i=st(s=t,n="title")?s[n]:null;var s,n;e.innerText="string"==typeof i?i:""}_playerReady(e){super._playerReady(e),this.initRelatedPlaylist();const t=this._autoplayStationaryPlayer;(t||this._collapseCollection)&&(e.viewable&&this._inViewPlay(),t&&this._logStationaryAutoplay()),this._isCollapsible&&this._setupCollapsible()}_setupCollapsible(){this.setWrapperBar(),this._wrapperBar&&this._wrapperBar.style.setProperty("display","flex"),this._videoTitleElement&&this.setTitleTextForVideoTitleElement(this._videoTitleElement),this._topCollapseVideoTitleElement&&this.setTitleTextForVideoTitleElement(this._topCollapseVideoTitleElement),this.handleResize()}};Ta=I([ut("ContextualPlayer"),O("design:paramtypes",[Object,String,String,Array,HTMLElement,yo,Ls,Boolean,String,String,$s,xr,String,Object])],Ta);let Pa=class extends xa{constructor(e,t,i,s,n,r,o,a,l="adthrive-collapse-float",d,c,h,p,u,g,_,m){super(e,t,i,s,r,o,a.video.vastTimeout,a,l,d,c,h,"playlist",!0,g,p),this._sharedVideoSettings=n,this._title=_,this._shuffle=m,this._topBackgroundElement=null,this._isCollapsible=!0,this._playerConfig={playlist:`https://cdn.jwplayer.com/v2/playlists/${this._playlistId}`,related:{autoplaytimer:0}},this._playerConfig={...this._playerConfig,...this._autoplayBehaviorConfig},this.initialAuctionPlayer=!0,this._stickyElement=null,this._checkVideoClose()&&(this._state=7),this._config.video.footerSelector?this._footerElement=document.querySelector(this._config.video.footerSelector):this._footerElement=null,this.clsPlayerContainer=document.querySelector(`#cls-video-container-${this._playlistId} > div`),this._playerContainer=this.clsPlayerContainer?this.clsPlayerContainer:document.createElement("div"),this._playerElement=document.createElement("div"),this._collapseCollection={playerInstance:this._playerInstance,playerType:"playlist",playerState:this._state,playerContainer:this._playerContainer,playerElement:this._playerElement,stickyElement:this._stickyElement,footerElement:this._footerElement,closeButton:this._closeButton,closeButtonTimeout:this._config.video.closeButtonTimeout,forceMobile:"desktop"!==this._config.context.device,collapseType:this._collapseType,collapseSubType:"adthrive-collapse-bottom-right",collapseMobileSizeType:this._collapseMobileSizeType,collapseMobileSubType:this._getCollapseMobileSubType(),mobileHeaderSelector:u||null,collapseTimer:{timeCollapsed:0,isRunning:!1},mediaStarted:!1}}setup(){}_appendPlayer(){const e=document.createElement("div"),t=document.createElement("h3");this._playerContainer.classList.add("adthrive-player-container"),this._playerContainer.classList.add("adthrive-collapse-player"),this._playerContainer.id="adthrive-collapse-container",this._playerElement.className="adthrive-player-position",this._playerElement.id="adthrive-collapse-position",e.id=this._playlistId,t.innerText=this._getTitle(),t.className="adthrive-player-title",t.id="adthrive-collapse-title",this._playerElement.appendChild(t),this._config.video.removeVideoTitleWrapper?(this._playerElement.appendChild(this.createPlayerCloseButton()),this._playerElement.classList.add("adthrive-player-without-wrapper-text")):"adthrive-collapse-mobile"===this._collapseType&&this._isTopCollapse?(this._playerElement.appendChild(this.createPlayerWrapper(!0)),this._playerElement.appendChild(this.createTopCollapseWrapper()),this._playerElement.classList.add("adthrive-player-with-wrapper-text")):(this._playerElement.appendChild(this.createPlayerWrapper(!0)),this._playerElement.classList.add("adthrive-player-without-wrapper-text")),this._collapseCollection.closeButton=this._closeButton,this._playerElement.appendChild(e),this.isTopCenterCollapse()&&this.createTopCenterBackground(this._playerContainer),this._playerContainer.appendChild(this._playerElement),this.clsPlayerContainer||this._pageElement.insertAdjacentElement(this._sharedVideoSettings.position,this._playerContainer)}addToPage(){this._isFirstPlay&&this._appendPlayer(),this._playerInstance=window.jwplayer(this._playlistId),this._collapseCollection&&(this._collapseCollection.playerInstance=this._playerInstance,this._collapseCollection.playerContainer=this._playerContainer,this._collapseCollection.playerElement=this._playerElement,this._collapseCollection.topBackgroundElement=this._topBackgroundElement),this.jwSetup(this._playerConfig),this._config.video.playlistPlayerAdded=!0}linkProvidedByPublisher(e){return!e.startsWith("https://cdn.jwplayer.com")}_playerReady(e){var t;super._playerReady(e),null===(t=this._playerElement.querySelector(".adthrive-wrapper-bar"))||void 0===t||t.style.setProperty("display","flex");if(this._getShuffle()){const e=this._playerInstance.getPlaylist();this._playerInstance.load(Ts.shufflePlaylist(e))}this._config.video.advancePlaylist.playlistPlayer.enabled&&(this._playerInstance.on("firstFrame",(()=>this.handleFirstFrame())),this._playerInstance.getContainer().addEventListener("click",(()=>this.handleVideoPlayerClicked())),this.initSkipContainer()),this._playerInstance.on("playlistItem",(e=>{const t=e.item,i=this._playlistId,s=document.getElementById(`${i}-learn-more-link`),n=document.getElementById(`${i}-svg-link`);this._videoTitleElement&&st(t,"title")&&"string"==typeof t.title&&(this._videoTitleElement.innerText=t.title),this._topCollapseVideoTitleElement&&st(t,"title")&&"string"==typeof t.title&&(this._topCollapseVideoTitleElement.innerText=t.title),this._wrapperTitleWrapperElement&&st(t,"link")&&"string"==typeof t.link&&this.linkProvidedByPublisher(t.link)&&(this._wrapperTitleWrapperElement.href=t.link,n||this._wrapperTitleWrapperElement.prepend(this.createLinkIcon(i))),this._wrapperText&&st(t,"link")&&"string"==typeof t.link&&this.linkProvidedByPublisher(t.link)&&(this._wrapperText.href=t.link,s||this._wrapperText.append(this.createLearnMoreLink(i))),t&&st(t,"link")&&"string"==typeof t.link&&!this.linkProvidedByPublisher(t.link)&&(null==n||n.remove(),null==s||s.remove())})),this.handleResize(),e.viewable&&this._inViewPlay()}_getShuffle(){return!!this._shuffle&&this._shuffle}_getTitle(){return this._title?this._title:""}_checkVideoClose(){return this._saveVideoCloseState&&this._config.video.videoWasClosed}};Pa=I([ut("PlaylistPlayer"),O("design:paramtypes",[String,String,String,Array,Object,HTMLElement,yo,Ls,String,String,$s,xr,String,Object,Boolean,String,Boolean])],Pa);let Aa=class extends Bt{constructor(e,t,i,s){super(),this._siteExperiments=e,this._pubabgroup=t,this._ga=i,this.storagePrefix="se",this._choices=[],this._result=!1,this.key=je.StickyOutstreamOnStickyPlayer,this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key),this.enabled&&this.experimentConfig&&Ti(s)&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){const e=this._choices[0].weight/100;return new Pt(e).get()}setExperimentTargeting(){if(!this.experimentConfig)return void D.error("StickyOutstreamOnStickyPlayerPagesSiteExperiment","setExperimentTargeting","Experiment targeting requires an experiment config");const e=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`,t=this._result?"on":"off";return this._pubabgroup.set(e,t),this._ga.addSiteExperimentEventLabel({label:e,value:t}),`${e}:${t}`}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Aa.prototype,"run",null),Aa=I([ut("StickyOutstreamOnStickyPlayerPagesSiteExperiment"),A(),M(3,T("AdThrive")),O("design:paramtypes",[Vt,wt,Ht,Object])],Aa);let Ia=class extends xt{constructor(e,t){super(),this._result=!1,this.key="sospp",this._choices=[{choice:!0},{choice:!1}],this.weight=1;const i=t.getCoreExperiment(this.key);i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Ia.prototype,"run",null),Ia=I([ut("StickyOutstreamOnStickyPlayerPagesExperiment"),A(),O("design:paramtypes",[Ct,Et])],Ia);class Ma extends qs{constructor(e,t){super(),this._videoConfig=e,this._component=t,this._stickyRelatedOnPage=!1,this._contextualMediaIds=[];const i=this._videoConfig.players||[];this._device=Ie()?"desktop":"mobile",this._potentialPlayerMap=this._setPotentialPlayerMap();const s=i.filter((e=>"stationaryRelated"===e.type&&e.enabled));this._potentialPlayerMap.stationaryRelated=s}_setPotentialPlayerMap(){const e=this._videoConfig.players,t={stickyRelated:[],stickyPlaylist:[],stationaryRelated:[]};return e&&e.length?e.filter((e=>{var t;return null===(t=e.devices)||void 0===t?void 0:t.includes(this._device)})).reduce(((e,t)=>(e[t.type]||(D.event(this._component,"constructor","Unknown Video Player Type detected",t.type),e[t.type]=[]),t.enabled&&e[t.type].push(t),e)),t):t}_checkPlayerSelectorOnPage(e){const t=this._potentialPlayerMap[e].map((e=>({player:e,playerElement:this._getPlacementElement(e)})));return t.length?t[0]:{player:null,playerElement:null}}_getOverrideElement(e,t,i){if(e&&t){const s=document.createElement("div");t.insertAdjacentElement(e.position,s),i=s}else{const{player:e,playerElement:t}=this._checkPlayerSelectorOnPage("stickyPlaylist");if(e&&t){const s=document.createElement("div");t.insertAdjacentElement(e.position,s),i=s}}return i}_shouldOverrideElement(e){const t=e.getAttribute("override-embed");return"true"===t||"false"===t?"true"===t:!!this._videoConfig.contextualSettings&&this._videoConfig.contextualSettings.overrideEmbedLocation}_getPlacementElement(e){const t=at(e.pageSelector),i=ot(e.elementSelector);return t.valid?e.pageSelector&&!t.elements.length?(D.event("VideoUtils","getPlacementElement",new Error(`PSNF: ${e.pageSelector} does not exist on the page`)),null):i.valid?i.elements.length>e.skip?i.elements[e.skip]:(D.event("VideoUtils","getPlacementElement",new Error(`ESNF: ${e.elementSelector} does not exist on the page`)),null):(D.error("VideoUtils","getPlacementElement",new Error(`${e.elementSelector} is not a valid selector`)),null):(D.error("VideoUtils","getPlacementElement",new Error(`${e.pageSelector} is not a valid selector`)),null)}_getEmbeddedPlayerType(e){let t=e.getAttribute("data-player-type");return t&&"default"!==t||(t=this._videoConfig.contextualSettings?this._videoConfig.contextualSettings.defaultPlayerType:"static"),this._stickyRelatedOnPage&&(t="static"),t}_getUnusedMediaId(e){const t=e.getAttribute("data-video-id");return!(!t||this._contextualMediaIds.includes(t))&&(this._contextualMediaIds.push(t),t)}_createRelatedPlayer(e,t,i){"collapse"===t?this._createCollapsePlayer(e,i):"static"===t&&this._createStaticPlayer(e,i)}_createCollapsePlayer(e,t){const{player:i,playerElement:s}=this._checkPlayerSelectorOnPage("stickyRelated"),n=i||this._potentialPlayerMap.stationaryRelated[0];if(n&&n.playerId){this._shouldOverrideElement(t)&&(t=this._getOverrideElement(i,s,t)),t=document.querySelector(`#cls-video-container-${e} > div`)||t,this._createStickyRelatedPlayer({...n,mediaId:e},t)}else D.error(this._component,"_createCollapsePlayer","No video player found")}_createStaticPlayer(e,t){if(this._potentialPlayerMap.stationaryRelated.length&&this._potentialPlayerMap.stationaryRelated[0].playerId){const i=this._potentialPlayerMap.stationaryRelated[0];this._createStationaryRelatedPlayer({...i,mediaId:e},t)}else D.error(this._component,"_createStaticPlayer","No video player found")}_shouldRunAutoplayPlayers(){return!(!this._isVideoAllowedOnPage()||!this._potentialPlayerMap.stickyRelated.length&&!this._potentialPlayerMap.stickyPlaylist.length)}_determineAutoplayPlayers(){const e=this._component,t="VideoManagerComponent"===e,i=this._config;if(this._stickyRelatedOnPage)return void D.event(e,"stickyRelatedOnPage",t&&{device:i&&i.context.device,isDesktop:this._device}||{});const{player:s,playerElement:n}=this._checkPlayerSelectorOnPage("stickyPlaylist");s&&s.playerId&&s.playlistId&&n?this._createPlaylistPlayer(s,n):D.event(e,"noStickyPlaylist",t&&{vendor:"none",device:i&&i.context.device,isDesktop:this._device}||{})}_initializeRelatedPlayers(e){for(let t=0;t<e.length;t++){const i=e[t],s=this._getEmbeddedPlayerType(i),n=this._getUnusedMediaId(i);n&&this._createRelatedPlayer(n,s,i)}}}let Oa=class{constructor(e,t,i,s,n,r,o){this._abgroup=e,this._config=t,this._gam=i,this._irisTv=s,this._floors=n,this._videoEventBus=r,this._slotEventBus=o,this._apstagSlotBids=new Map,this._prebidSlotTargetingMap=new Map,this.shouldPrebidRun=!1,this._videoEventBus.addAPStagSlotBidResponse.on((({playlistId:e,bid:t})=>this._addAPStagSlotBidResponse(e,t))),this._slotEventBus.addPrebidSlotTargeting.on((({adUnitCode:e,slotTargeting:t})=>this._addPrebidSlotTargeting(e,t)))}_addAPStagSlotBidResponse(e,t){this._apstagSlotBids.set(e,t)}_addPrebidSlotTargeting(e,t){this._prebidSlotTargetingMap.set(e,t)}getVideoTargeting(e,t){const i=this._irisTv.irisContextualData,s={},n="rvadv_ab1";if(Object.keys(t).forEach((e=>{const i=this._abgroup.get(n);"abgroup"===e&&i&&t[e].push(`rvadv_ab1:${i}`),s[e]=encodeURIComponent(t[e].toString())})),s.vprenum=String(e._prerollNum),s.jwv=e.jwVersion||"",s.imav=e.imaVersion||"",s.voba=this._config.videoOpenBidding.bidders.toString(),i){s["iris_context"]=i.toString()}return s}_getVideoBid(e){const t=this._apstagSlotBids.get(e);if(t)return this._apstagSlotBids.delete(e),t}getAmazonBidTargeting(e){const t=this._getVideoBid(e);if(t)return{amznbid:t.amznbid,amzniid:t.amzniid,amznp:t.amznp}}getPrebidNoBidTargeting(e){const t=this.getPrebidSlotTargeting(e);if(!Object.keys(t).length)return{hb_bidder:"noBid"}}getPrebidSlotTargeting(e){return this._prebidSlotTargetingMap.get(e)||{}}convertFlagSlotValues(e){return Object.keys(e).reduce(((t,i)=>(t.push(`${i}%3A${e[i]}`),t)),[]).join(",")}getCustParams(e){const t=this._gam.getTargetingMap(),i=this._floors.getVideoFlagSlot(e.name),s=this.getAmazonBidTargeting(e._playlistId);return{...i&&{flag_slot:this.convertFlagSlotValues(i)},...this.getVideoTargeting(e,t),...this.getPrebidNoBidTargeting(e.name),...s}}handleGdprConsent(){const e={gdpr:1,gdpr_consent:"tcunavailable"};return"function"==typeof window.__tcfapi&&window.__tcfapi("getFullTCData",2,(t=>{t&&t.tcString.length&&(e.gdpr_consent=t.tcString),t&&t.addtlConsent.length&&(e.addtl_consent=t.addtl_consent)})),e}getConsentParams(){if(this._config.gdpr.enabled)this.handleGdprConsent();else if(this._config.ccpa.privacyString)return{us_privacy:this._config.ccpa.privacyString}}getDefaultVideoUrlParams(e){return{iu:`/${this._config.gam.account}/${this._config.gam.prefix}_${e.name}/${this._config.site.id}`,sz:e.size.join("x"),hl:"en",output:"vast",url:"__page-url__",vad_type:"linear",description_url:"__domain__",pp:"10_VAST%20redirects_video%2Fmp4_VPAID%20JavaScript"}}buildGAMVideoUrl(e){const t=this.getConsentParams(),i=Ts.createQueryString(this.getCustParams(e)),s=Ts.createEncodedQueryString({cust_params:i}),n=this.getDefaultVideoUrlParams(e),r={env:"vp",gdfp_req:"1",unviewed_position_start:"1",correlator:Date.now(),...n,...t};return`https://securepubads.g.doubleclick.net/gampad/ads?${Ts.createQueryString(r)}&${s}`}buildGAMVideoUrlPrebid(e){const t=e.videoAdUnit||{},i=this.getCustParams(e),s=this.getDefaultVideoUrlParams(e);return pbjs.adServers.dfp.buildVideoUrl({adUnit:t,params:{...s,cust_params:i}})}buildVideoUrl(e){return this.shouldPrebidRun?this.buildGAMVideoUrlPrebid(e):this.buildGAMVideoUrl(e)}};Oa=I([ut("VideoUrlBuilder"),A(),O("design:paramtypes",[Ct,Ls,Ks,Qn,en,Rt,zt])],Oa);let za=class extends Ma{constructor(e,t,i,s,n,r,o,a,l,d,c,h,p,u,g,_){super(e.video,"VideoManagerComponent"),this._config=e,this._bootstrapConfig=t,this._prebidMethods=i,this._auctionManagers=s,this._jwBoostExperiment=n,this._userPageDataLoggingEvent=r,this._collapsibleVideoLoggingStore=o,this._videoRequestManager=a,this._eventProxy=l,this._mediaType=d,this._stickyOutstreamOnStickyPlayerPagesExperiment=c,this._stickyOutstreamOnStickyPlayerPagesSiteExperiment=h,this._videoUrlBuilder=p,this._irisTv=u,this._gdprEnforcementComponent=g,this._events=_,this._jwPlayers=[],this._IN_POST_SELECTOR=".adthrive-video-player"}init(){this._handleCollapsibleVideoLogging(),this._initializePlayers(),this._mediaType.runOneStreamExperiment()}_initializePlayers(){const e=document.querySelectorAll(this._IN_POST_SELECTOR);if(e.length&&this._initializeRelatedPlayers(e),this._shouldRunAutoplayPlayers()){this._determineAutoplayPlayers();try{this._importScripts()}catch(e){D.error("VideoManagerComponent","initializePlayers",e)}}else try{this._importScripts()}catch(e){D.error("VideoManagerComponent","initializePlayers",e)}}_createStationaryRelatedPlayer(e,t){const i="mobile"===this._device?[400,225]:[640,360],s=Ve.Video_In_Post_ClicktoPlay_SoundOn,n=new Ta(e.playerId,e.mediaId,s,i,t,this._eventProxy,this._config,!1,"adthrive-collapse-mobile","adthrive-collapse-medium",this._prebidMethods,this._auctionManagers);this._jwPlayers.push(n)}_createStickyRelatedPlayer(e,t){const i="mobile"===this._device?[400,225]:[640,360],s=Ve.Video_Individual_Autoplay_SOff,n=this._getCollapseType();this._collapsibleVideoLoggingStore.playerName=s,this._stickyRelatedOnPage=!0,this._config.video.mobileStickyPlayerOnPage="mobile"===this._device;const r=new Ta(e.playerId,e.mediaId,s,i,t,this._eventProxy,this._config,!0,n,"adthrive-collapse-medium",this._prebidMethods,this._auctionManagers,e.mobileLocation,e.mobileHeaderSelector);this._jwPlayers.push(r)}_createPlaylistPlayer(e,t){const i=e.playerId,s=e.playlistId,n=this._getCollapseType(),r="adthrive-collapse-mobile"===n?[400,225]:[640,360],o="mobile"===this._device?Ve.Video_Coll_SOff_Smartphone:Ve.Video_Collapse_Autoplay_SoundOff,a={classNames:[],enabled:!0,pageSelector:e.pageSelector,elementSelector:e.elementSelector,position:e.position,skip:e.skip};this._config.video.mobileStickyPlayerOnPage=!0;const l=new Pa(i,s,o,r,a,t,this._eventProxy,this._config,n,"adthrive-collapse-medium",this._prebidMethods,this._auctionManagers,e.mobileLocation,e.mobileHeaderSelector,e.saveVideoCloseState,e.title,e.shuffle);this._collapsibleVideoLoggingStore.playerName=o,this._jwPlayers.push(l)}_initJwBoost(){this._prebidMethods.setConfig({...this._jwBoostExperiment.result&&this._jwPlayers.length&&{realTimeData:{dataProviders:[{name:"jwplayer",params:{mediaIDs:this._contextualMediaIds}}]}}})}_hasViewableCollapsiblePlayer(e){return!!e.length&&e.some((e=>e.collapsible&&Ts.playerViewable(e._pageElement)))}_hasCollapsiblePlayer(e){return!!e.length&&e.some((e=>e.collapsible))}_hasViewableAutoplayStationaryPlayer(e){return!!e.length&&e.some((e=>!e.collapsible&&Ts.playerViewable(e._pageElement)))}_setPlayerInstance(e){this._resetPlayer(e)}_resetPlayer(e){e.init()}async _initializePlayer(e,t){const i=this._videoRequestManager;e.setDefaults(window.jwplayer.defaults),window.jwplayer.defaults={},await this._bootstrapConfig.bootstrapLoaders[ze.Prebid].then((()=>{this._videoUrlBuilder.shouldPrebidRun=!0})).catch((()=>{})),t&&this._contextualMediaIds[0]&&await this._irisTv.setContextualData(this._contextualMediaIds[0]),i.addVideoSlots([e]),e.setPlayerInstance=this._setPlayerInstance.bind(this),e.requestVideoBids=async e=>await i.requestVideoBids(e),e.waitForConsent=this.gdprConsentWait.bind(this),Ks.pushToQueue((()=>{e.buildVideoUrl=this._videoUrlBuilder.buildVideoUrl.bind(this._videoUrlBuilder),e.addToPage(),e.init()}))}async gdprConsentWait(){return new Promise((e=>{this._events.consentCaptured.on((t=>{t&&e(!0)}))}))}_importScripts(){this._config.video.preventStickyOutstream=this._preventStickyOutstream(),this._initJwBoost(),this._jwPlayers.length&&(this._config.video.hasJwPlayer=!0),this._jwPlayers.forEach((e=>{const t="contextual"===e.isPlayerType;t&&this._config.video.setupAdvanceRelatedExperiment(e.collapsible),fe(`https://content.jwplatform.com/libraries/${e._playerId}.js`).then((async()=>this._initializePlayer(e,t))).catch((e=>D.error("VideoManagerComponent","importScripts",e)))}))}_preventStickyOutstream(){const e=this._hasViewableCollapsiblePlayer(this._jwPlayers),t=!e&&this._hasViewableAutoplayStationaryPlayer(this._jwPlayers),i=this._disableStickyOutstreamInPresenceOfCollapsiblePlayer();return e||t||i}_disableStickyOutstreamInPresenceOfCollapsiblePlayer(){return!!this._hasCollapsiblePlayer(this._jwPlayers)&&(!this._stickyOutstreamOnStickyPlayerPagesSiteExperiment.result&&(!this._stickyOutstreamOnStickyPlayerPagesExperiment.result||!1===this._config.video.stickyOutstreamSettings.allowForPageWithStickyPlayer.enabled))}_isVideoAllowedOnPage(){return!this._config.disableAds.video||(this._config.disableAds.reasons.has("video_tag")?D.error("VideoManagerComponent","isVideoAllowedOnPage",new Error("DBP: Disabled by publisher via video tag")):this._config.disableAds.reasons.has("video_plugin")?D.error("VideoManagerComponent","isVideoAllowedOnPage",new Error("DBP: Disabled by publisher via video plugin")):this._config.disableAds.reasons.has("video_page")?D.error("VideoManagerComponent","isVideoAllowedOnPage",new Error("DBP: Disabled by publisher via command queue")):D.error("VideoManagerComponent","isVideoAllowedOnPage",new Error("DBP: Disabled by publisher via other")),!1)}_getCollapseType(){return"mobile"===this._device?"adthrive-collapse-mobile":"adthrive-collapse-float"}_handleCollapsibleVideoLogging(){Qo.collapseEvent.on((()=>{this._collapsibleVideoLoggingStore.startedCollapsedTime=Ge()})),Qo.uncollapseEvent.on((()=>{this._collapsibleVideoLoggingStore.totalTimeCollapsed+=this._collapsibleVideoLoggingStore.startedCollapsedTime?Ge()-this._collapsibleVideoLoggingStore.startedCollapsedTime:0,this._collapsibleVideoLoggingStore.startedCollapsedTime=void 0})),Qo.closeEvent.on((()=>{this._collapsibleVideoLoggingStore.wasClosed=!0})),Qo.startEvent.once((()=>{this._collapsibleVideoLoggingStore.wasStarted=!0})),this._userPageDataLoggingEvent.loggingData.on((()=>{this._collapsibleVideoLoggingStore.startedCollapsedTime&&(this._collapsibleVideoLoggingStore.totalTimeCollapsed+=Ge()-this._collapsibleVideoLoggingStore.startedCollapsedTime)}))}};za=I([ut("VideoManagerComponent"),P(),O("design:paramtypes",[Ls,ei,$s,xr,Js,gs,Pr,so,yo,vn,Ia,Aa,Oa,Qn,an,Ut])],za);let Ra=class extends qs{constructor(e,t){super(),this._bootstrapConfig=e,this._pageManager=t,this._maxTimeOnPage=36e5,this._webVitals=[],this._webVitalsSent=!1,this._visibilityChangeOff=this._pageManager.visibilityChange.on((()=>this.logWebVitals()))}init(){J().then((()=>{const e=window.webVitals,t=this.addWebVital;e.getFID(t),e.getCLS(t),e.getLCP(t),e.getFCP(t),e.getTTFB(t)})).catch((()=>!1)),window.addEventListener("LogWebVital",(e=>{this._webVitals.push(e.detail)})),setTimeout((()=>{this.logWebVitals()}),this._maxTimeOnPage)}addWebVital({name:e,delta:t,value:i,id:s}){const n=new CustomEvent("LogWebVital",{detail:{name:e,delta:t,value:i,id:s}});window.dispatchEvent(n)}logWebVitals(){if(this._webVitalsSent)return;const e={webVitals:this._webVitals,gptLoad:!0};this._webVitalsSent=!0,this._visibilityChangeOff(),this._bootstrapConfig.gptLibFailed&&(e.gptLoad=!1),D.fetchEvent("WebVitalsComponent","logWebVital",e)}get enabled(){return this._bootstrapConfig.webVitalsEnabled}};Ra=I([ut("WebVitalsComponent"),P(),O("design:paramtypes",[ei,Si])],Ra);let Ba=class extends xt{constructor(e,t){super(),this._result=!1,this.key="logcls",this._choices=[{choice:!0},{choice:!1}],this.weight=.1;const i=t.getCoreExperiment(this.key);H()&&i&&(this.weight=i.variants[0].weight,this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new Pt(this.weight).get()}};Ba=I([ut("LayoutShiftExperiment"),A(),O("design:paramtypes",[Ct,Et])],Ba);let Da=class extends qs{constructor(e,t,i,s,n,r){super(),this._gam=e,this._slotManager=t,this._slots=i,this._videoRequestManager=s,this._layoutShiftExperiment=n,this._pageManager=r,this._events=[],this._maxTimeOnPage=36e5,this._screenHeightsWithin=5,this._previousSiblings=3,this._layoutShiftData=[],this._slotResize={},this._loggedInitialLoadShift=!1,this._maxPayloadSize=3062}init(){this.watchSlotShift()}get enabled(){return this._layoutShiftExperiment.result&&"ResizeObserver"in window&&"PerformanceObserver"in window&&PerformanceObserver.supportedEntryTypes.includes("layout-shift")}watchSlotShift(){this.setPerformanceObserver(),this.setResizeEvents(),this.setEventListeners()}setPerformanceObserver(){if(!this._layoutObserver)try{this._layoutObserver=new PerformanceObserver((e=>{this.analyzeEntries(e.getEntries())})),this._layoutObserver.observe({type:"layout-shift",buffered:!1})}catch(e){D.error("LayoutShiftComponent","SetPerformanceObserver",e)}}setResizeEvents(){this._events.push(this._videoRequestManager.requestingVideoBids.on((e=>{e.forEach((e=>{this.setResizeObservers(e._playlistId,e._pageElement)}))}))),this._events.push(this._gam.slotRequested.on((({slot:e})=>{this.setResizeObservers(e.element.id,e.element)}))),this._slotManager.refreshing.once((()=>{this.logLayoutShift()}))}setEventListeners(){this._events.push(this._pageManager.beforeUnload.on((()=>this.logLayoutShift()))),this._events.push(this._pageManager.visibilityChange.on((()=>this.logLayoutShift()))),setTimeout((()=>{this.logLayoutShift()}),this._maxTimeOnPage)}setResizeObservers(e,t){this._slotResize[e]||(this._slotResize[e]={hasResized:!1,resizeObserver:new ResizeObserver((t=>{t.forEach((()=>{this._slotResize[e].hasResized=!0,this._slotResize[e].ro_ts=Date.now(),this._slotResize[e].resizeObserver.disconnect()}))}))},this._slotResize[e].resizeObserver.observe(t))}analyzeEntries(e){const t=Date.now();for(const i of e){const{value:e,sources:s,hadRecentInput:n}=i;if(!n){const i={value:e,po_ts:t,nodes:[]};for(const e of s)if(e.node){const t=this.getIdentifier(e.node),s=t.split(":")[1];i.nodes.push({identifier:t,posDiff:e.currentRect.top-e.previousRect.top,absPos:window.pageYOffset+Number(e.currentRect.top),prevEls:this.getPreviousSibling(e.node,this._previousSiblings),parent:this.getIdentifier(e.node.parentNode),hasResized:this.checkResizes(e.node),...this._slotResize[s]&&this._slotResize[s].ro_ts&&{ro_ts:this._slotResize[s].ro_ts}})}this._layoutShiftData.push(i)}}}getIdentifier(e){return e.id?`id:${e.id}`:e.classList&&e.classList.value?`class:${e.classList.value.split(" ").join(".")}`:`node:${e.nodeName.toLowerCase()}`}getPreviousSibling(e,t=3){let i=e.previousElementSibling,s=0;const n=[];for(;i&&s<t;)++s,n.push(this.getIdentifier(i)),i=i.previousElementSibling;return n}checkResizes(e){const t=this.getIdentifier(e).split(":")[1];return!(!this._slotResize[t]||!this._slotResize[t].hasResized)&&(this.checkIsSticky(t)||this.checkElementPlacement(e))}checkIsSticky(e){const t=this._slots.get(e);return t&&t.isSticky}checkElementPlacement(e){return((e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(e)||(e=>window.pageYOffset>e.getBoundingClientRect().top+window.pageYOffset)(e))&&((e,t)=>window.pageYOffset-(e.getBoundingClientRect().top+window.pageYOffset)<window.innerHeight+window.innerHeight*t)(e,this._screenHeightsWithin)}logLayoutShift(){this._loggedInitialLoadShift||(this._loggedInitialLoadShift=!0,this.checkAndTrim(this._layoutShiftData).forEach((e=>{D.event("LayoutShiftComponent","logLayoutShift",e)})),this.cleanUp())}checkAndTrim(e=[]){if(!e.length)return[];const t=[...e].sort(((e,t)=>t.value-e.value)),i=JSON.stringify(t);if(i.length>this._maxPayloadSize){if(Math.ceil(i.length/this._maxPayloadSize)<=2)return[t.slice(0,Math.ceil(t.length/2)),t.slice(Math.ceil(t.length/2))];{const e=this._maxPayloadSize/i.length*(Math.ceil(i.length/this._maxPayloadSize)/2),s=t.slice();return s.length=Math.floor(t.length*e),this.checkAndTrim(s)}}return[t]}cleanUp(){this.disconnectObservers(),this.removeEventListeners()}removeEventListeners(){this._events.forEach((e=>{e()}))}disconnectObservers(){this._layoutObserver.disconnect();const e=Object.keys(this._slotResize);for(const t of e)this._slotResize[t].resizeObserver.disconnect()}};Da=I([ut("LayoutShiftComponent"),P(),O("design:paramtypes",[Ks,gn,Ns,so,Ba,Si])],Da);let Va=class{constructor(){this.contentAdded=new R}};Va=I([ut("InfiniteScrollEvents"),A()],Va);let La=class extends qs{constructor(e,t){super(),this._config=e,this._events=t,this._ajaxSelector="#ajax-load-more",this._heightThreshold=1e3,this._infiniteScrollElement=null}start(){this.detectInfiniteScroll()}detectInfiniteScroll(){this.checkForCustomConfig();const e=new MutationObserver(((e,t)=>{e.filter((({type:e,addedNodes:t})=>"childList"===e&&t.length>0)).reduce(((e,{addedNodes:t})=>[...e,...Array.prototype.slice.call(t)]),[]).filter((e=>e instanceof HTMLElement&&e.clientHeight>this._heightThreshold)).forEach((e=>{e.parentElement&&(t.disconnect(),t.observe(e.parentElement,{childList:!0}),this._infiniteScrollElement&&t.observe(this._infiniteScrollElement,{childList:!0,subtree:!0}));try{this._events.contentAdded.emit(e)}catch(e){D.error("InfiniteScrollDetectionComponent","addMutationObserver","added",e)}}))}));this._infiniteScrollElement?e.observe(this._infiniteScrollElement,{childList:!0,subtree:!0}):Array.prototype.slice.call(document.querySelectorAll("body *")).filter((e=>e instanceof HTMLElement&&e.offsetHeight>this._heightThreshold)).forEach((t=>{e.observe(t,{childList:!0})}))}checkForCustomConfig(){const{heightThreshold:e,selector:t}=this._config.adOptions.infiniteScrollOptions,i=t?document.querySelector(t):null;if(i)this._infiniteScrollElement=i;else{const e=document.querySelector(this._ajaxSelector);e&&(this._config.infiniteScroll.ajaxType=!0,this._infiniteScrollElement=e)}e&&e>0&&(this._heightThreshold=e)}get enabled(){return this._config.adOptions.infiniteScroll&&"MutationObserver"in window}};La=I([ut("InfiniteScrollDetectionComponent"),P(),O("design:paramtypes",[Ls,Va])],La);let Fa=class extends Jr{constructor(e,t){super(t),this._config=e,this._adInjectionMap=t,this._count=1}getDynamicElementId(){return`${this._config.gam.prefix}_Infinite_${this._count++}`}};Fa=I([ut("InfiniteScrollDynamicAdsInjector"),P(),O("design:paramtypes",[Ls,zr])],Fa);let Na=class extends qs{constructor(e,t,i,s,n){super(),this._config=e,this._events=t,this._injector=i,this._slotManager=s,this._gam=n,this._page=1}init(){this._events.contentAdded.on((e=>{this._page++,this._config.context.pageviewKey=bt(),this._gam.setTargeting({key:"pvk",value:this._config.context.pageviewKey}),this.slotsAlreadyInjectedInElement(e)||this.addSlots(e)})),this._slotManager.added.on((e=>e.forEach((e=>{Ks.pushToQueue((()=>{e.setTargeting({key:"inf_scroll",value:this._page.toString()})}))}))))}slotsAlreadyInjectedInElement(e){return!!e.querySelector("[id*='AdThrive_Content']")}addSlots(e){const t=this._config.dynamicAds.filter((e=>!(this._config.infiniteScroll.ajaxType&&"Sidebar"===e.location))).filter((e=>this.locationEnabled(e))).filter((e=>this.forDevice(e,this._config.context.device))).filter((e=>this.forPage(e))),i=this._injector.inject(t,e);this._slotManager.add(i).catch((e=>{D.error("InfiniteScrollDynamicAdsComponent","addSlots",e)}))}get enabled(){return this._config.adOptions.infiniteScroll}forDevice(e,t){return e.devices.includes(t)}forPage(e){return 0===e.pageSelector.length||null!==document.querySelector(e.pageSelector)}locationEnabled(e){return!this._config.disableAds.locations.has(e.location)&&!this._config.disableAds.all}};Na=I([ut("InfiniteScrollDynamicAdsComponent"),P(),O("design:paramtypes",[Ls,Va,Fa,gn,Ks])],Na);let Ua=class extends qs{constructor(e,t,i,s){super(),this._config=e,this._events=t,this._slotManager=i,this._slots=s,this._debounce=new z(1e3)}start(){this._observer=this.getIntersectionObserver(),this._events.contentAdded.on((e=>{this._observer&&this._observer.observe(e)}))}getIntersectionObserver(){return new IntersectionObserver((e=>{for(const t of e)t.intersectionRatio>0&&t.isIntersecting&&this._debounce.limit(t.target.id).then((()=>this.refresh())).catch((e=>{D.error("InfiniteScrollRefreshComponent","getIntersectionObserver","refresh",e)}))}),{threshold:[.08]})}refresh(){if(this._config.adOptions.infiniteScrollRefresh){const e=this._slots.get().filter((e=>this._config.infiniteScroll.refreshSlots.has(e.location)&&e.isSticky));this._slotManager.refresh(e).catch((e=>{D.error("InfiniteScrollRefreshComponent","refresh",e)}))}}get enabled(){return this._config.adOptions.infiniteScroll&&"IntersectionObserver"in window}};Ua=I([ut("InfiniteScrollRefreshComponent"),P(),O("design:paramtypes",[Ls,Va,gn,Ns])],Ua);let ja=class extends qs{constructor(e){super(),this._googleAdManager=e}init(){this._googleAdManager.slotResponseReceived.on((({slot:e})=>{this.slotResponseReceived(e)}))}slotResponseReceived(e){e.alwaysInView="Footer"===e.location||"Video_StickyOutstream"===e.location}};ja=I([ut("AlwaysInViewComponent"),P(),O("design:paramtypes",[Ks])],ja);let qa=class extends qs{constructor(e){super(),this._slotManager=e;window.addEventListener("message",(e=>{e&&e.data&&"set_adthrive_slot_timeout"===e.data.message&&e.data.slot_id&&e.data.refresh_interval>=0&&this._slotManager.updateRefreshTimeout(e.data.slot_id,e.data.refresh_interval)}),!1)}};qa=I([ut("ChangeSlotRefreshComponent"),P(),O("design:paramtypes",[gn])],qa);let Ha=class extends qs{constructor(e,t,i){super(),this._slotManager=e,this._slots=t,this._pageManager=i}init(){this._pageManager.visibilityChange.on((()=>this.documentVisibilityChanged()))}documentVisibilityChanged(){const e=document.visibilityState,t=this._slots.get();"visible"===e?this._slotManager.resumeRefresh(t):"hidden"===e&&this._slotManager.pauseRefresh(t)}};Ha=I([ut("DocumentHiddenPauseRefreshComponent"),P(),O("design:paramtypes",[gn,Ns,Si])],Ha);let Ga=class extends qs{constructor(e,t){super(),this._googleAdManager=e,this._slotManager=t,this._inViewPercentage=50}init(){this._googleAdManager.impressionViewable.on((({slot:e})=>{this.processImpressionViewable(e)})),this._googleAdManager.slotVisibilityChanged.on((({slot:e,event:t})=>{this.processVisibilityChanged(e,t)}))}processImpressionViewable(e){e.outOfViewGPT=!1,this._slotManager.inView(e)}processVisibilityChanged(e,t){this.check(e,t.inViewPercentage)}check(e,t){t&&t>=this._inViewPercentage||"Video_StickyOutstream"===e.location?(e.outOfViewGPT=!1,this._slotManager.inView(e)):(e.outOfViewGPT=!0,this._slotManager.outOfView(e))}};Ga=I([ut("ImpressionViewableRefreshComponent"),P(),O("design:paramtypes",[Ks,gn])],Ga);let $a=class extends qs{constructor(e,t,i){super(),this._googleAdManager=e,this._slotManager=t,this._slots=i,this._inViewPercentage=50,this._trackSlotEvents=new Map}init(){this._observer=this.getIntersectionObserver(),this._googleAdManager.slotResponseReceived.on((({slot:e})=>{this.slotResponseReceived(e),this._trackSlotEvents.set(e.id,"slotResponseReceived")})),this._googleAdManager.slotRenderEnded.on((({slot:e})=>{this.slotResponseReceived(e),this._trackSlotEvents.delete(e.id)})),this._googleAdManager.slotRequested.on((({slot:e})=>{this._trackSlotEvents.set(e.id,"slotRequested")})),this._slotManager.refreshing.on((e=>{for(const t of e)this._trackSlotEvents.get(t.id)&&(this._slotManager.rebuild(t),this._trackSlotEvents.delete(t.id));this.refreshing(e)}))}get enabled(){return"IntersectionObserver"in window}slotResponseReceived(e){this._observer&&e.element&&this._observer.observe(e.element)}refreshing(e){if(this._observer)for(const t of e)t.element&&this._observer.unobserve(t.element)}getIntersectionObserver(){return new IntersectionObserver((e=>{for(const t of e){const e=this._slots.get(t.target.id);e&&this.check(e,100*t.intersectionRatio)}}),{threshold:[0,this._inViewPercentage/100]})}check(e,t){t>=this._inViewPercentage||"Video_StickyOutstream"===e.location?(e.outOfViewIO=!1,this._slotManager.inView(e)):(e.outOfViewIO=!0,this._slotManager.outOfView(e))}};$a=I([ut("IntersectionObserverRefreshComponent"),P(),O("design:paramtypes",[Ks,gn,Ns])],$a);let Wa=class extends qs{constructor(e,t){super(),this._config=e,this._gdprEvents=t,this._comscoreId="20567959",this._gdprEnabled=!1,this._gdprEnabled=this._config.gdpr.enabled}init(){const e=this._config.ccpa.comscoreParams||"0",t={c1:"2",c2:this._comscoreId,...(this._gdprEnabled||this._config.ccpa.required)&&{cs_ucfr:e}};window._comscore=window._comscore||[],window._comscore.push(t);const i="https://sb.scorecardresearch.com";if(!this._gdprEnabled)return fe(`${i}/beacon.js`);this._gdprEvents.consentCaptured.on((()=>{fe(`${i}/cs/${this._comscoreId}/beacon.js`).catch((()=>{}))}))}get enabled(){return!0}};Wa=I([ut("ComscoreTrackerComponent"),P(),O("design:paramtypes",[Ls,Ut])],Wa);let Ka=class extends qs{constructor(e,t){super(),this._gam=e,this._config=t,this._trackerHoldoutKey="hawk"}init(){this._gam.slotOnload.legacyOnce().then((()=>this.import())).then((()=>this.syncData())).catch((e=>D.error("HawkeyeTrackerComponent","init","slotOnload",e)))}get enabled(){return this._config.tkho.tracker!==this._trackerHoldoutKey}async import(){return await fe("https://pghub.io/js/pandg-sdk.js",!0)}syncData(){const e={ccpa:this._config.ccpa.privacyString?this._config.ccpa.privacyString:null,bp_id:"cafemedia"};window.Tapad.init(e,{name:"P&G",pixelUrl:"https://pandg.tapad.com/tag"}).sync({}).then((e=>{}))}};Ka=I([ut("HawkeyeTrackerComponent"),P(),O("design:paramtypes",[Ks,Ls])],Ka);let Qa=class extends qs{constructor(e,t){super(),this._config=e,this._gam=t,this._trackerHoldoutKey="ats"}init(){try{this._gam.slotOnload.once((()=>{this.import()}))}catch(e){D.error("LiveRampAtsTrackerComponent","init",e)}}get enabled(){return this._config.liveRampAts.enabled&&!this._config.disableAds.all&&this._config.tkho.tracker!==this._trackerHoldoutKey}import(){fe(this._config.liveRampAts._url).then((()=>window.ats.start(this._config.liveRampAts._config))).catch((()=>{}))}};Qa=I([ut("LiveRampAtsTrackerComponent"),P(),O("design:paramtypes",[Ls,Ks])],Qa);let Xa=class extends qs{constructor(e,t){super(),this._config=e,this._gam=t,this.ptk="17c1789b-e660-493b-aa74-3c8fb990dc5f",this.pubid="CAFEMEDIA",this.merkleStorageKey="IXWRAPPERMerkleIp"}init(){window.localStorage.getItem(`${this.merkleStorageKey}`)?this.spoof():this._gam.slotOnload.once((()=>{this.load().then((e=>{e instanceof Error||!Object.keys(e).length||(window.localStorage.setItem(`${this.merkleStorageKey}`,encodeURIComponent(JSON.stringify(e))),this.spoof())})).catch((()=>{}))}))}async load(){const e=`https://mid.rkdms.com/idsv2?ptk=${this.ptk}&pubid=${this.pubid}`;return new Promise(((t,i)=>{const s=new XMLHttpRequest;s.open("get",e),s.withCredentials=!0,s.addEventListener("load",(()=>200!==s.status?i(new Error(`Error status: ${s.status} response: ${s.responseText}`)):t(JSON.parse(s.responseText)))),s.addEventListener("error",(()=>i(new Error("Request failed")))),s.send()}))}spoof(){window.headertag||(window.headertag={getIdentityInfo:()=>{var e;const t=JSON.parse(decodeURIComponent(window.localStorage.getItem("pbjs-unifiedid")||"")),i=JSON.parse(decodeURIComponent(window.localStorage.getItem(`${this.merkleStorageKey}`)||"{}"));return{AdserverOrgIp:{data:{source:"adserver.org",uids:Object.keys(t).map((e=>({id:t[e],ext:{rtiPartner:e}})))},responsePending:!1},MerkleIp:{data:{source:"merkleinc.com",uids:[{id:null===(e=null==i?void 0:i.ppid)||void 0===e?void 0:e.id,ext:{enc:0}}]},responsePending:!1}}}})}get enabled(){return!this._config.gdpr.enabled&&!this._config.ccpa.enabled}};Xa=I([ut("MerkleTrackerComponent"),P(),O("design:paramtypes",[Ls,Ks])],Xa);let Ya=class extends xt{constructor(e){super(),this._result=!1,this.key="NielsenTrackerExperiment",this._choices=[{choice:!0},{choice:!1}],this.weight=1/300;const t=e.getCoreExperiment(this.key);H()&&t&&(this.weight=t.variants[0].weight,this._result=this.run())}get result(){return this._result}run(){return new Pt(this.weight).get()}};Ya=I([ut("NielsenTrackerExperiment"),P(),O("design:paramtypes",[Et])],Ya);let Ja=class extends qs{constructor(e,t,i){super(),this._config=e,this._nielsenTrackerExperiment=t,this._gam=i}init(){try{this._gam.slotOnload.once((()=>{this.loadImage()}))}catch(e){D.error("NielsenTrackerComponent","init",e)}}get enabled(){return this._nielsenTrackerExperiment.result}loadImage(){const e=this._config.context.device;let t="https://secure-gl.imrworldwide.com/cgi-bin/m?am=3&at=view&rt=banner&st=image&cr=adthrive&ce=cafemedia";let i={phone:"nlsn290957",tablet:"nlsn291137",desktop:"nlsn291136"}[e];const s={phone:"nlsn287186",tablet:"nlsn287188",desktop:"nlsn287187"},n=_e();n&&(n.toLowerCase().includes("instagram.com")||n.toLowerCase().includes("pinterest.com"))&&(i=s[e]),t+=`&ci=nlsnci542&ca=${i}&pc=${window.location.host}&r=${Date.now()}`,(new Image).src=`${t}`}};Ja=I([ut("NielsenTrackerComponent"),P(),O("design:paramtypes",[Ls,Ya,Ks])],Ja);let Za=class extends qs{constructor(e,t,i){var s;super(),this._config=e,this._gam=t,this._slotManager=i,this._accountId="2773249",this._adId="81938",this._configId="2092",this._affDomain="goto.target.com",this._targetDomain="www.target.com",this._commonParams="",this._commonPath="",this._trackerHoldoutKey="tgtaff",this._commonParams=(s={subid1:this._config.site.id,subid2:location.href,sharedid:this._config.site.name},Object.keys(s).map((e=>`${e}=${encodeURIComponent(s[e])}`)).join("&")),this._commonPath=`${this._accountId}/${this._adId}/${this._configId}`}init(){try{const e=setTimeout((()=>{this.rewriteAllTargetLinksOnPage()}),5e3);this._slotManager.added.once((()=>{this._gam.slotOnload.once((()=>{e&&clearTimeout(e),this.rewriteAllTargetLinksOnPage()}))}))}catch(e){D.error("TargetRewriteTrackerComponent","getAllTargetLinksOnPage",e)}}rewriteAllTargetLinksOnPage(){let e=0;Array.prototype.map.call(document.querySelectorAll(`a[href*="${this._targetDomain}"]`),(e=>e)).filter((e=>this.isTargetLink(e))).forEach((t=>{this.fireImpression(t.href),this.replaceTargetLink(t),e++})),e&&D.event("TargetRewriteTrackerComponent","logTargetRewrite",{message:"targetRewrite",countRewrite:e})}fireImpression(e){const t=this.getImpressionPixel(e);return(new Image).src=t}getImpressionPixel(e){let t=`https://${this._affDomain}/i/${this._commonPath}?`;const i=`U1|${this.getUUID()}`;t+=`_ir=${encodeURIComponent(i)}&`+this._commonParams+"&subid3="+encodeURIComponent(e);const s=e.split("?");return s.length>1&&(t+="&"+s[1]),t}getUUID(){return`${Ze().toString()}.${Math.random().toString(36).substring(2,15)}`}replaceTargetLink(e){const t=this.removeHashtagsFromUrl(e.href),i=encodeURIComponent(t);e.classList.add("noskimlinks","norewrite"),e.href=`https://${this._affDomain}/c/${this._commonPath}?${this._commonParams}&subid3=${i}&u=${i}#donotlink`}removeHashtagsFromUrl(e){return e.split("#")[0]}isTargetLink(e){const t=this.extractDomain(e.href);return t&&!t.includes(this._affDomain)}extractDomain(e){const t=/^https?\:\/\/([^\/:?#]+)(?:[\/:?#]|$)/i.exec(e);return t&&t[1]||""}get enabled(){return this._config.tkho.tracker!==this._trackerHoldoutKey&&!this._config.ccpa.enabled&&this._config.adOptions.targetAff}};Za=I([P(),O("design:paramtypes",[Ls,Ks,gn])],Za);let el=class extends qs{constructor(e){super(),this._gam=e}init(){try{this._gam.slotOnload.once((()=>{this.loadImage()}))}catch(e){D.error("TheTradeDeskTrackerComponent","init",e)}}get enabled(){return!0}loadImage(){(new Image).src="https://insight.adsrvr.org/track/evnt/?adv=z127r4i&ct=0:p21aj7j&fmt=3"}};el=I([ut("TheTradeDeskTrackerComponent"),P(),O("design:paramtypes",[Ks])],el);let tl=class extends qs{constructor(e){super(),this._slotSizeMap=new Map,this._gamSlotOnLoad=e.slotOnload}start(){this._setupListeners()}_setupListeners(){this._gamSlotOnLoad.on((({slot:e})=>{"Content"===e.location&&this._compareSlot(e)}))}_compareSlot(e){const t=this._slotSizeMap.get(e.id),i=getComputedStyle(e.element).height,s=Number(i.slice(0,-2));(!t||t<s)&&(this._resize(e.element,i),this._setSlotSizeMap(e.element.id,s))}_resize(e,t){e.style.minHeight=t}_setSlotSizeMap(e,t){this._slotSizeMap.set(e,t)}};tl=I([P(),ut("SlotResizeComponent"),O("design:paramtypes",[Ks])],tl);let il=class extends xt{constructor(e){super(),this.abgroup=e,this._result=!1,this.key="scae",this._choices=[{choice:!0},{choice:!1}],this.weight=0,this.shouldUseCoreOverride=!1;const t=window,i=t&&t.adthriveCLS,s=i&&i.experiments,n=s&&this.key in s;this._result=n?s[this.key]:this.run(),this.abgroup.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new Pt(this.weight).get()}};il=I([P(),ut("StickyContainerAdsExperiment"),O("design:paramtypes",[Ct])],il);let sl=class extends qs{constructor(e){super(),this._config=e}get enabled(){if(this._config.adOptions.stickyContentEnabled){return x.resolve(il).result}return!1}start(){_a(`\n  .adthrive-device-phone .adthrive-sticky-content {\n    height: 450px !important;\n    margin-bottom: 100px !important;\n  }\n  .adthrive-content.adthrive-sticky {\n    position: -webkit-sticky;\n    position: sticky !important;\n    top: 42px !important;\n    margin-top: 42px !important;\n  }\n  .adthrive-content.adthrive-sticky:after {\n    content: " Advertisement. Scroll down to continue. ";\n    font-size: 10pt;\n    margin-top: 5px;\n    margin-bottom: 5px;\n    display:block;\n    color: #888;\n  }\n  body.single .adthrive-content {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    min-height:${this._config.adOptions.stickyContentHeight||400}px !important;\n    margin: 10px 0 10px 0;\n    background-color: #FAFAFA;\n    padding-bottom:0px;\n  }\n  body.single .adthrive-content > div {\n    flex-basis: unset;\n    position: sticky !important;\n    display: block;\n    flex-direction: column;\n    top: 5px;\n  }\n  `);const e=document.querySelector("body.single .adthrive-content");e&&this.checkForOverflow(e)}checkForOverflow(e,t=0,i=!1,s=74){if(!e.parentElement)return;if(t===s)return;const n=getComputedStyle(e.parentElement).overflow;"hidden"!==n&&"auto"!==n||(e.parentElement.style.overflow="visible",i||(i=!0,D.event("StickyContainerAdsComponent","checkForOverflow","parent element with overflow detected"))),this.checkForOverflow(e.parentElement,++t,i,s)}};sl=I([ut("StickyContainerAdsComponent"),P(),O("design:paramtypes",[Ls])],sl);let nl=class{constructor(e,t,i,s,n,r,o,a,l,d,c,h,p,u,g,_,m,f,y,v,b,S,C,w,E,k,x,T,P,A,I,M,O,z,R,B,D,V,L,F,N,U,j,q,H,G,$,W,K,Q,X,Y,J,Z,ee,te){this._config=e,this._components=[t,i,s,n,r,o,a,l,d,c,h,p,u,g,_,m,f,y,v,b,S,C,w,E,k,x,P,A,T,I,M,O,z,R,D,B,V,L,F,N,U,j,q,H,G,$,W,K,Q,X,J,Y,Z,ee,te],this._nonCCPAComponents=[y,L,F,Q,J]}init(){const e=this._config.ccpa;this._components.filter((t=>!e.enabled||e.enabled&&!this._nonCCPAComponents.includes(t))).forEach((e=>void 0!==e.init&&e.enabled&&e.init()))}start(){this._components.forEach((e=>void 0!==e.start&&e.enabled&&e.start()))}};nl=I([ut("Components"),P(),O("design:paramtypes",[Ls,Br,Dr,ja,Lr,Nr,Ur,jr,qa,bo,qr,Wa,Kr,Qr,Wr,Xr,Ha,eo,vo,to,io,no,ho,po,ta,_o,mo,fo,Ka,ia,Ga,La,Na,Ua,$a,Da,Qa,na,Xa,Ja,ra,ha,pa,ga,ma,tl,Zo,sl,Za,el,fa,Mr,va,ba,za,Ra])],nl);_a(".adthrive-ad{clear:both;line-height:0;margin-bottom:10px;margin-top:10px;overflow-x:visible;text-align:center}.jw-flag-small-player #next-stay-container{margin:0}.jw-flag-small-player #next-video,.jw-flag-small-player #stay-video{height:30px;line-height:30px;width:75px}#next-stay-container{bottom:25%;margin:12px;position:absolute;right:0}.video-box-shadow{box-shadow:0 0 10px rgba(0,0,0,.5)}#next-video,#stay-video{background-color:#333;color:#fff;cursor:pointer;height:40px;line-height:40px;margin:10px;opacity:.9;text-align:center;width:100px}#next-video{box-shadow:inset 0 0 0 0 #333;transition:box-shadow 5s linear}#next-stay-container.loaded #next-video{box-shadow:inset 100px 0 0 0 red}.adthrive-ad-cls{align-items:center;display:flex;flex-wrap:wrap;justify-content:center}.adthrive-ad-cls>div,.adthrive-ad-cls>iframe{flex-basis:100%}.adthrive-interstitial{margin-bottom:0;margin-top:0}.adthrive-recipe{min-width:300px}.adthrive-native-recipe{display:inline-block}.adthrive-stuck.adthrive-sticky.adthrive-header,.adthrive-stuck.adthrive-sticky.adthrive-sidebar{position:fixed;top:0;z-index:9999}.adthrive-stuck.adthrive-header{margin-top:0}.adthrive-sticky.adthrive-footer{background-color:hsla(0,0%,100%,.8);border-top:2px solid hsla(0,0%,88%,.8);bottom:0;box-sizing:content-box;left:0;margin:0;max-height:100px;overflow:hidden;position:fixed;text-align:center;width:100%;z-index:1000001}.adthrive-sticky.adthrive-footer>.adthrive-close{background:#fff;border:1px solid #b2b2b2;border-radius:20px;color:#b2b2b2;cursor:pointer;display:inline-block;font-family:arial,sans-serif;font-size:20px;line-height:20px;padding:0 5px;position:absolute;right:5px;top:5px}.adthrive-device-desktop .adthrive-sticky.adthrive-footer>.adthrive-close{right:10px;top:10px}#_inv_voicefive___{display:none}.adthrive-ccpa-link,.adthrive-footer-message,.adthrive-privacy-preferences{margin-top:5px;text-align:center}.adthrive-ccpa-link,.adthrive-ccpa-link span,.adthrive-footer-message span,.adthrive-privacy-preferences a{color:#b2b2b2;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;font-size:13px}.adthrive-ccpa-link a{cursor:pointer;text-decoration:underline}.adthrive-device-phone .adthrive-footer-message{margin-bottom:60px}.adthrive-footer-message{margin-bottom:100px}.adthrive-footer-message>span{border-top:1px solid #b2b2b2;padding-top:5px;text-transform:uppercase}.adthrive-collapse-player{border-bottom:1px solid #dbdbdb;border-top:1px solid #dbdbdb;margin-left:auto;margin-right:auto;padding:8px!important;width:90%}.adthrive-player-position.adthrive-collapse-float{position:fixed;width:300px;z-index:2147483644}h3.adthrive-player-title{margin:10px 0}.adthrive-player-position.adthrive-collapse-float.adthrive-collapse-right{right:5px;top:0}.adthrive-player-position.adthrive-collapse-float.adthrive-collapse-bottom-right{bottom:100px;right:5px}.adthrive-player-position.adthrive-collapse-float.adthrive-collapse-bottom-left{bottom:100px;left:5px}.adthrive-player-position.adthrive-collapse-float>.adthrive-player-title{display:none}.adthrive-player-position.adthrive-collapse-sticky{padding-bottom:20px;padding-top:20px;position:fixed;z-index:9999}.adthrive-player-position.adthrive-collapse-sticky>.adthrive-player-title{display:none}.adthrive-player-position.adthrive-collapse-mobile{position:fixed;width:300px;z-index:99998}.adthrive-collapse-mobile-background{background-color:#000;left:0;position:fixed;top:0;z-index:99990}.adthrive-top-collapse-close{left:-30px;position:fixed;top:5px;z-index:1}.adthrive-top-collapse-wrapper-bar>* .adthrive-top-collapse-close{left:0;position:relative;top:0}.adthrive-top-collapse-wrapper-bar>* .adthrive-wrapper-float-close{display:none;float:none;margin-bottom:0}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-medium,.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-small{width:272px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center.adthrive-player-without-wrapper-text{left:50%;padding-bottom:5px;padding-top:5px;top:0;transform:translateX(-50%)}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center.adthrive-player-with-wrapper-text{padding-bottom:5px;padding-top:5px;right:5px;top:0}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-right{right:10px;top:26px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-left{left:5px;top:26px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-bottom-left{bottom:52px;left:5px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-bottom-right{bottom:52px;right:10px}.adthrive-player-position.adthrive-collapse-mobile>.adthrive-player-title{display:none}.adthrive-wrapper-close{align-items:center;color:#fff;font-size:36px;height:36px;justify-content:center;margin-left:auto;margin-right:0;min-width:36px}.adthrive-wrapper-float-close{cursor:pointer;display:none;float:right;margin-bottom:5px}.adthrive-wrapper-bar{background-color:#595959;border-top-left-radius:5px;border-top-right-radius:5px;display:none;font-family:Arial,Helvetica,sans-serif;height:36px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center>.adthrive-wrapper-bar{display:none!important}.adthrive-top-collapse-wrapper-bar{color:#fff;display:none;left:5px;padding-bottom:5px;padding-top:5px;position:fixed;top:0;width:-webkit-calc(100% - 282px);width:-moz-calc(100% - 282px);width:calc(100% - 282px);z-index:99998}.adthrive-top-collapse-wrapper-video-title{-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;color:#fff;display:-webkit-box;font-size:13px;font-weight:700;line-height:1.2;overflow:hidden;text-decoration:none;text-overflow:ellipsis}.adthrive-top-collapse-wrapper-bar a a.adthrive-learn-more-link{color:#fff;display:inline-block;font-size:13px;line-height:1.2}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center>.adthrive-top-collapse-wrapper-bar{display:block}.adthrive-video-title{color:#fff;font-size:13px;font-weight:700;text-decoration:none}.adthrive-wrapper-title-wrapper{align-items:center;display:inline-flex;justify-content:center;margin-left:10px;margin-right:10px;min-width:0}.adthrive-video-text-cutoff{color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.adthrive-wrapper-title-wrapper>a>svg,.adthrive-wrapper-title-wrapper>div>svg{fill:#fff;margin-right:5px;vertical-align:middle}.adthrive-wrapper-title-wrapper>a{text-decoration:none}.adthrive-sticky-outstream{display:none;overflow:hidden;padding-top:20px;position:fixed;z-index:2147483644}.adthrive-instream-close{pointer-events:all}.adthrive-instream-close.adthrive-float-left{float:left}.adthrive-top-left-outer{height:78px;left:-30px;position:absolute;top:-55px;width:78px}.adthrive-top-left-outer>svg{bottom:30px;left:30px;position:absolute}.adthrive-top-left-inner{position:absolute;top:0}.adthrive-top-left-inner-wrapper.adthrive-wrapper-float-close,.adthrive-top-left-inner.adthrive-wrapper-float-close{background:rgba(0,0,0,.5);color:#fff;padding:2px;pointer-events:none;width:100%;z-index:99}.adthrive-top-left-inner-wrapper.adthrive-wrapper-float-close{position:absolute;top:36px}.adthrive-sticky-outstream>.adthrive-wrapper-float-close{position:absolute;right:1px;top:32px}.adthrive-sticky-outstream>.adthrive-wrapper-float-close.adthrive-wrapper-close-outside-left{left:2px}.adthrive-wrapper-close-bkgd-50>#adthrive-sticky-outstream-close{padding:2px 0 0 2px;pointer-events:all}.adthrive-sticky-outstream>.adthrive-wrapper-float-close.adthrive-wrapper-close-bkgd-50{background:rgba(0,0,0,.5);color:#fff;left:0;padding:2px;pointer-events:none;top:52px}.adthrive-sticky-outstream.adthrive-sticky-outstream-mobile{bottom:52px;right:10px}.adthrive-sticky-outstream.adthrive-sticky-outstream-desktop{bottom:100px;right:5px}.adthrive-sticky-outstream.adthrive-sticky-outstream-active{display:block}.adthrive-video-stickyoutstream div:first-of-type{margin:-1px}.adthrive-ccpa-modal{background-color:#000;background-color:rgba(0,0,0,.4);display:none;height:100%;left:0;overflow:auto;position:fixed;top:0;width:100%;z-index:2147483647}.adthrive-ccpa-modal-content{background-color:#fefefe;border:1px solid #888;margin:10% auto;padding:.5rem 1rem 1rem;width:80%}.adthrive-ccpa-modal-btn:focus,.adthrive-ccpa-modal-btn:hover{color:#000;cursor:pointer;text-decoration:none}#adthrive-ccpa-modal-language{display:block;font-size:1rem;margin:.6rem 1rem 1rem;padding:1rem;text-align:center}#adthrive-ccpa-modal-close-btn-container:focus,#adthrive-ccpa-modal-close-btn-container:hover{color:#000;cursor:pointer;text-decoration:none}#adthrive-ccpa-modal-close-btn-container{color:#aaa;font-size:28px;font-weight:700;text-align:right}.adthrive-ccpa-lower-buttons-container{color:#aaa;display:flex;font-size:1.3rem;justify-content:space-around}#adthrive-ccpa-modal-cancel-btn{float:left}#adthrive-ccpa-modal-continue-btn{float:right}@media screen and (max-width:415px){.adthrive-ccpa-modal-content{display:flex;flex-direction:column;font-size:.8rem;position:relative}#adthrive-ccpa-modal-language{font-size:.7rem;text-align:left}.adthrive-ccpa-lower-buttons-container{font-size:.7rem}#adthrive-ccpa-modal-close-btn-container{font-size:1rem}}");let rl=class{constructor(e,t,i,s,n,r,o,a,l,d){this.config=e,this.cmd=t,this.slotManager=i,this.slots=s,this._auctionManagers=n,this._coreExperimentConfig=r,this._googleAdManager=o,this._components=a,this._googleAnalytics=l,this._siteExperimentEventBus=d,this.marmalade={mcmp:null},this.marmaladeFinished=e=>e,this.rubiconFloorsFinished=e=>e,this._apiReady=new Promise((e=>e(!1))),this.bucket=this.config.context.bucket,this.branch=this.config.context.branch,this.invalidTraffic=this.config.context.invalidTraffic,this.deployment=this.config.context.deployment,this.abgroup=this.config.abGroup.groups,this.pubab=this.config.pubAbGroup.groups,this.siteAds=window.adthrive.siteAds,this.coreExperiments=this._coreExperimentConfig.coreExperiments,this.siteAds.targeting={push:this._googleAdManager.setTargeting},this._siteExperimentEventBus.targetingReady.on((()=>{this.pubab=this.config.pubAbGroup.groups,this._googleAdManager.setTargeting({key:"pubab",value:this.pubab})}))}init(){this._apiReady=new Promise((e=>this.config.identityApi.apiReady.on((()=>e(!0))))),D.sending.on((()=>{D.data={abgroup:this.config.abGroup.groupsAsObject,pubab:this.config.pubAbGroup.groupsAsObject,sess:this.config.context.sessionKey,pvk:this.config.context.pageviewKey,hbho:this.config.hbho.bidders,vbho:this.config.vbho.bidders,...this.config.context.deliveryVersion&&{lmdv:this.config.context.deliveryVersion},...this.config.clsOptions&&this.config.clsOptions.branch&&{clsBranch:this.config.clsOptions.branch},...this.config.clsOptions&&this.config.clsOptions.bucket&&{clsBucket:this.config.clsOptions.bucket}}})),ce("session_fpv",null===he("session_fpv")),this.cmd.init(),this._auctionManagers.init(),this._googleAdManager.init(),this._components.init(),this._googleAdManager.start(),this._components.start(),this._googleAnalytics.init().catch((e=>{D.error("Adthrive","init","An error occurred while trying to initialize GoogleAnalytics",e)})),window.adthriveCLS&&window.adthriveCLS.error&&D.error("AdThrive","init","Problem with AdThriveCLS SiteAds. CLS Disabled")}identityApi(e,t){return this._apiReady.then((()=>{this.config.identityApi.optIn.emit({data:e,cb:t})}))}disableAds(e){this.config.disableAds.disableAllAds(e)}disableContentAds(e){this.config.disableAds.disableContentAds(e)}disablePlaylistPlayers(e){this.config.disableAds.disablePlaylistPlayers(e)}showPrivacyPreferences(){window.__tcfapi&&window.__tcfapi("showConsentManager",2)}getConsentData(){window.__tcfapi&&window.__tcfapi("getFullTCData",2,(e=>{}))}getAdthriveFlippData(){return this.config.marmalade.flpProdIds.filter(te)}setTargetingFlag(e,t,i=!1){e&&"string"==typeof e&&t&&Array.isArray(t)&&0!==t.length&&this._googleAdManager.setTargetingFlag(e,t,i)}setTargeting(e){this._googleAdManager.setTargeting(e)}getTargeting(){return this._googleAdManager.getTargeting()}getTargetingMap(){return this._googleAdManager.getTargetingMap()}logError(e,t,i){D.error(e,t,i)}refreshSlots(e){let t=this.slots.get();e&&e.length&&(t=t.filter((t=>e.includes(t.id)))),t.forEach((e=>{this.slotManager.refresh(e,!1).then((()=>{this.slotManager.clearRefreshTimeout(e,!0)})).catch((()=>{}))}))}nmr(){return D.event("adthive","nmr","adthrive.nmr() has been called"),this.slotManager.updateRefreshTimeout(this.slots.get(),0)}};rl=I([ut("AdThrive"),A(),O("design:paramtypes",[Ls,Tr,gn,Ns,xr,Et,Ks,nl,Ht,Ot])],rl);const ol={domain:"ads.adthrive.com",branch:"main",bucket:"prod",cmp:!0},al=()=>navigator.userAgent&&(navigator.userAgent.search(/GTmetrix/i)>-1||navigator.userAgent.search(/pingdom/i)>-1||navigator.userAgent.search(/Google Page Speed Insights/i)>-1||navigator.userAgent.search(/Chrome-Lighthouse/i)>-1);let ll=class extends xt{constructor(e){super(),this._setAbGroup=!0,this._choices=[{choice:500,weight:70},{choice:300,weight:10},{choice:200,weight:10},{choice:50,weight:10}],this.key="deftimer2",this._result=this.run(),this._setAbGroup&&e.set(this.key,0===this._result?"off":String(this._result))}get result(){return this._result}run(){return al()?(this._setAbGroup=!1,0):new At(this._choices).get()}};I([gt(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",Number)],ll.prototype,"run",null),ll=I([ut("DelayLoadingExperiment"),A(),O("design:paramtypes",[Ct])],ll);let dl=class extends xt{constructor(e){super(),this._setAbGroup=!0,this._choices=[{choice:!0},{choice:!1}],this.key="delload",this._result=this.run(),this._setAbGroup&&e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return al()?(this._setAbGroup=!1,!0):new Pt(.95).get()}};dl=I([ut("EnableDelayLoadingExperiment"),A(),O("design:paramtypes",[Ct])],dl);let cl=class extends xt{constructor(){super(),this.classList=["EmailCaptureHandler"],this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.key="logfltr",this._result=this.run()}get result(){return this._result}run(){return new Pt(0).get()}};cl=I([ut("LoggerFilterExperiment"),A(),O("design:paramtypes",[])],cl);let hl=class{init(e){if(!(void 0!==window.__tcfapi&&"function"==typeof window.__tcfapi))return;let t=!1;window.__tcfapi("adthrive",2,(e=>t=e)),t&&("true"===e?window.__tcfapi("setGdprApplies",2,(e=>e),!0):(this.clearQueue(),this.stubCommands()))}processTcfCommand(e){const{command:t,callback:i}=e;!i||i&&"function"!=typeof i||("ping"===t||"getTCData"===t||"addEventListener"===t?i({apiVersion:"2",cmpLoaded:!0,cmpStatus:"loaded",cmpId:void 0,cmpVersion:void 0,displayStatus:"disabled",gdprApplies:!1,tcfPolicyVersion:void 0,gvlVersion:void 0},!0):"removeEventListener"===t&&i(!0))}clearQueue(){const e=window.__tcfapi();e&&Array.isArray(e)&&e.forEach((e=>this.processTcfCommand(e)))}stubCommands(){window.__tcfapi=(e,t,i,s)=>{this.processTcfCommand({command:e,version:t,callback:i,parameter:s})}}};hl=I([ut("StubCmp"),A()],hl);const pl=x.resolve(_s),ul=(e,t,i,s,n)=>{const r=Ge();return x.register("RecencyFrequencyMarmaladeResponse",{useValue:i.result}),window.adthrive=x.resolve(rl),((e,t,i,s,n,r)=>{pl.loading=e,pl.bootstrapFinished=t,pl.gamStarted=i.started,pl.gamFinished=i.finished,pl.gamDuration=i.duration,pl.marmaladeStarted=s.started,pl.marmaladeFinished=s.finished,pl.marmaladeDuration=s.duration,pl.floorsStarted=n.started,pl.floorsFinished=n.finished,pl.floorsDuration=n.duration,pl.webVitalsStarted=r.started,pl.webVitalsFinished=r.finished,pl.webVitalsDuration=r.duration})(e,r,t,i,s,n),window.adthrive.init()},gl=async e=>{var t;const i=Ge(),s=window.adthrive.branch,n=s===(null===(t=he("branch"))||void 0===t?void 0:t.branch);ce("branch",{branch:s,enabled:n}),D.init(e),x.register("Build",{useValue:ol}),x.register("AdThrive",{useValue:e}),x.resolve(Ys);const r=x.resolve(mi);return await r.run().then((({gam:e,marmalade:t,floors:s,webvitals:n})=>ul(i,e,t,s,n))).catch((e=>(e=>{const t=e.marmalade,i=e.message||e;t&&Object.prototype.hasOwnProperty.call(t,"result")&&(x.register("RecencyFrequencyMarmaladeResponse",{useValue:t.result}),x.resolve(Da).init());return x.resolve(Ra).init(),Promise.reject(i)})(e)))},_l=e=>{let t;if((!0===e.siteAds.adOptions.delayLoading?x.resolve(dl):{result:!1}).result){const e=(e=>{const t=x.resolve(Si).setupOnceEventWithPromise,i=[t("scroll"),t("mousemove"),t("keyup")];Ie()||i.push(t("touchstart"));const s=[t("load").then((()=>X(e)))];return 0===e?i:s.concat(i)})(x.resolve(ll).result);t=Promise.race(e)}else t=Promise.resolve();return t},ml=()=>{const e=window.adthrive;window.adthriveCLS&&!window.adthriveCLS.error&&(()=>{const e=window.adthrive.siteAds,t=window.adthriveCLS,i=t&&t.siteAds;i&&ct(i)&&(e.adUnits=i.adUnits,e.video=i.video,e.videoPlayers=i.videoPlayers,e.breakpoints=i.breakpoints,e.siteExperiments=i.siteExperiments)})(),x.register("CoreExperimentValues",{useValue:e.core.coreExperiments});const t=(({gdpr:e,baseUrl:t})=>"true"===e?`${t}/gdpr`:t)(e),i=(()=>{const e=[Pe(),ke(),Te(),xe(),Ae()].filter((e=>!!e));return e.length?e:void 0})(),s=(e=>0===e.indexOf("hbs-q"))(e.bucket),n=i||s?"unsupported":e.bucket,r=x.resolve(cl),o=r.result?[]:r.classList,a={...e,bucket:n,baseUrl:t,invalidTraffic:i,loggerFilters:o};Ge();x.resolve(hl).init(a.gdpr),_l(a).then((()=>gl(a))).then((()=>{})).catch((e=>{D.error("index","load",e)}))};return(e=>e instanceof rl||e instanceof Promise)(window.adthrive)||ml(),window.adthrive}();
;